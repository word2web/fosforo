(function(I,ze){typeof exports=="object"&&typeof module<"u"?ze(exports):typeof define=="function"&&define.amd?define(["exports"],ze):(I=typeof globalThis<"u"?globalThis:I||self,ze(I["magick-wasm"]={}))})(this,function(I){"use strict";function ze(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray}class Ut{fileName;data;constructor(a,o){this.fileName=a,this.data=o}}const vi={XmlResourceFiles:{log:`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE logmap [
<!ELEMENT logmap (log)+>
<!ELEMENT log (#PCDATA)>
<!ATTLIST log events CDATA #IMPLIED>
<!ATTLIST log output CDATA #IMPLIED>
<!ATTLIST log filename CDATA #IMPLIED>
<!ATTLIST log generations CDATA #IMPLIED>
<!ATTLIST log limit CDATA #IMPLIED>
<!ATTLIST log format CDATA #IMPLIED>
]>
<logmap>
  <log events="None"/>
  <log output="Debug"/>
  <log filename="Magick-%g.log"/>
  <log generations="3"/>
  <log limit="2000"/>
  <log format="%t %r %u %v %d %c[%p]: %m/%f/%l/%d
  %e"/>
</logmap>
`,policy:`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE policymap [
<!ELEMENT policymap (policy)*>
<!ATTLIST policymap xmlns CDATA #FIXED "">
<!ELEMENT policy EMPTY>
<!ATTLIST policy xmlns CDATA #FIXED "">
<!ATTLIST policy domain NMTOKEN #REQUIRED>
<!ATTLIST policy name NMTOKEN #IMPLIED>
<!ATTLIST policy pattern CDATA #IMPLIED>
<!ATTLIST policy rights NMTOKEN #IMPLIED>
<!ATTLIST policy stealth NMTOKEN #IMPLIED>
<!ATTLIST policy value CDATA #IMPLIED>
]>
<policymap>
  <policy domain="cache" name="shared-secret" value="passphrase"/>
  <policy domain="coder" rights="none" pattern="EPHEMERAL" />
  <policy domain="coder" rights="none" pattern="MVG" />
  <policy domain="coder" rights="none" pattern="MSL" />
  <policy domain="path" rights="none" pattern="@*" />
  <policy domain="path" rights="none" pattern="|*" />
</policymap>
`}};class pt{constructor(){this.log=new Ut("log.xml",vi.XmlResourceFiles.log),this.policy=new Ut("policy.xml",vi.XmlResourceFiles.policy)}static default=new pt;*all(){yield this.log,yield this.policy}log;policy}class Mt{constructor(a,o,i){this.format=a,this.name=o,this.value=i}format;name;value}class wi{format;constructor(a){this.format=a}createDefine(a,o){return typeof o=="boolean"?new Mt(this.format,a,o?"true":"false"):typeof o=="string"?new Mt(this.format,a,o):new Mt(this.format,a,o.toString())}hasValue(a){return a!=null}}class aa{_x;_y;_paintMethod;constructor(a,o,i){this._x=a,this._y=o,this._paintMethod=i}draw(a){a.color(this._x,this._y,this._paintMethod)}}class Ii{_color;constructor(a){this._color=a}draw(a){a.fillColor(this._color)}}class yi{_opacity;constructor(a){this._opacity=a}draw(a){a.fillOpacity(this._opacity.toDouble()/100)}}class Ci{_pointSize;constructor(a){this._pointSize=a}draw(a){a.fontPointSize(this._pointSize)}}class Di{constructor(a,o){this.eventType=a,this.message=o??""}eventType;message}const Pi={Undefined:0,Activate:1,Associate:2,Background:3,Copy:4,Deactivate:5,Discrete:6,Disassociate:7,Extract:8,Off:9,On:10,Opaque:11,Remove:12,Set:13,Shape:14,Transparent:15,OffIfOpaque:16},L={Red:0,Cyan:0,Gray:0,Green:1,Magenta:1,Blue:2,Yellow:2,Black:3,Alpha:4,Index:5,Meta0:10,Meta1:11,Meta2:12,Meta3:13,Meta4:14,Meta5:15,Meta6:16,Meta7:17,Meta8:18,Meta9:19,Meta10:20,Meta11:21,Meta12:22,Meta13:23,Meta14:24,Meta15:25,Meta16:26,Meta17:27,Meta18:28,Meta19:29,Meta20:30,Meta21:31,Meta22:32,Meta23:33,Meta24:34,Meta25:35,Meta26:36,Meta27:37,Meta28:38,Meta29:39,Meta30:40,Meta31:41,Meta32:42,Meta33:43,Meta34:44,Meta35:45,Meta36:46,Meta37:47,Meta38:48,Meta39:49,Meta40:50,Meta41:51,Meta42:52,Meta43:53,Meta44:54,Meta45:55,Meta46:56,Meta47:57,Meta48:58,Meta49:59,Meta50:60,Meta51:61,Meta52:62,Composite:64},X={Undefined:0,Red:1,Gray:1,Cyan:1,Green:2,Magenta:2,Blue:4,Yellow:4,Black:8,Alpha:16,Opacity:16,Index:32,Composite:31,TrueAlpha:256,get RGB(){return this.Red|this.Green|this.Blue},get CMYK(){return this.Cyan|this.Magenta|this.Yellow|this.Black},get CMYKA(){return this.Cyan|this.Magenta|this.Yellow|this.Black|this.Alpha},Meta0:1<<L.Meta0,Meta1:1<<L.Meta1,Meta2:1<<L.Meta2,Meta3:1<<L.Meta3,Meta4:1<<L.Meta4,Meta5:1<<L.Meta5,Meta6:1<<L.Meta6,Meta7:1<<L.Meta7,Meta8:1<<L.Meta8,Meta9:1<<L.Meta9,Meta10:1<<L.Meta10,Meta11:1<<L.Meta11,Meta12:1<<L.Meta12,Meta13:1<<L.Meta13,Meta14:1<<L.Meta14,Meta15:1<<L.Meta15,Meta16:1<<L.Meta16,Meta17:1<<L.Meta17,Meta18:1<<L.Meta18,Meta19:1<<L.Meta19,Meta20:1<<L.Meta20,Meta21:1<<L.Meta21,All:134217727};class Ei{constructor(a,o,i,g){this.red=a,this.green=o,this.blue=i,this.white=g}red;green;blue;white}const T={Undefined:0,CMY:1,CMYK:2,Gray:3,HCL:4,HCLp:5,HSB:6,HSI:7,HSL:8,HSV:9,HWB:10,Lab:11,LCH:12,LCHab:13,LCHuv:14,Log:15,LMS:16,Luv:17,OHTA:18,Rec601YCbCr:19,Rec709YCbCr:20,RGB:21,scRGB:22,sRGB:23,Transparent:24,XyY:25,XYZ:26,YCbCr:27,YCC:28,YDbDr:29,YIQ:30,YPbPr:31,YUV:32,LinearGray:33,Jzazbz:34,DisplayP3:35,Adobe98:36,ProPhoto:37,Oklab:38,Oklch:39,CAT02LMSC:40},jt={[T.Undefined]:"Undefined",[T.CMY]:"CMY",[T.CMYK]:"CMYK",[T.Gray]:"Gray",[T.HCL]:"HCL",[T.HCLp]:"HCLp",[T.HSB]:"HSB",[T.HSI]:"HSI",[T.HSL]:"HSL",[T.HSV]:"HSV",[T.HWB]:"HWB",[T.Lab]:"Lab",[T.LCH]:"LCH",[T.LCHab]:"LCHab",[T.LCHuv]:"LCHuv",[T.Log]:"Log",[T.LMS]:"LMS",[T.Luv]:"Luv",[T.OHTA]:"OHTA",[T.Rec601YCbCr]:"Rec601YCbCr",[T.Rec709YCbCr]:"Rec709YCbCr",[T.RGB]:"RGB",[T.scRGB]:"scRGB",[T.sRGB]:"sRGB",[T.Transparent]:"Transparent",[T.XyY]:"XyY",[T.XYZ]:"XYZ",[T.YCbCr]:"YCbCr",[T.YCC]:"YCC",[T.YDbDr]:"YDbDr",[T.YIQ]:"YIQ",[T.YPbPr]:"YPbPr",[T.YUV]:"YUV",[T.LinearGray]:"LinearGray",[T.Jzazbz]:"Jzazbz",[T.DisplayP3]:"DisplayP3",[T.Adobe98]:"Adobe98",[T.ProPhoto]:"ProPhoto",[T.Oklab]:"Oklab",[T.Oklch]:"Oklch",[T.CAT02LMSC]:"CAT02LMS"};class na{colorSpace=T.Undefined;copyright=null;description=null;manufacturer=null;model=null}class oa{_data;_index;constructor(a){this._data=a,this._index=0,this.isLittleEndian=!1}get index(){return this._index}isLittleEndian;readLong(){return this.canRead(4)?this.isLittleEndian?this.readLongLSB():this.readLongMSB():null}readString(a){if(a==0)return"";if(!this.canRead(a))return null;let i=new TextDecoder("utf-8").decode(this._data.subarray(this._index,this._index+a));const g=i.indexOf("\0");return g!=-1&&(i=i.substring(0,g)),this._index+=a,i}seek(a){return a>=this._data.length?!1:(this._index=a,!0)}skip(a){return this._index+a>=this._data.length?!1:(this._index+=a,!0)}canRead(a){return a>this._data.length?!1:this._index+a<=this._data.length}readLongLSB(){let a=this._data[this._index];return a|=this._data[this._index+1]<<8,a|=this._data[this._index+2]<<16,a|=this._data[this._index+3]<<24,this._index+=4,a}readLongMSB(){let a=this._data[this._index]<<24;return a|=this._data[this._index+1]<<16,a|=this._data[this._index+2]<<8,a|=this._data[this._index+3],this._index+=4,a}}class Yt{_data=new na;_reader;constructor(a){this._reader=new oa(a)}static read(a){const o=new Yt(a);return o.readColorSpace(),o.readTagTable(),o._data}readColorSpace(){this._reader.seek(16);const a=this._reader.readString(4);a!=null&&(this._data.colorSpace=this.determineColorSpace(a.trimEnd()))}determineColorSpace(a){switch(a){case"CMY":return T.CMY;case"CMYK":return T.CMYK;case"GRAY":return T.Gray;case"HSL":return T.HSL;case"HSV":return T.HSV;case"Lab":return T.Lab;case"Luv":return T.Luv;case"RGB":return T.sRGB;case"XYZ":return T.XYZ;case"YCbr":return T.YCbCr;default:return T.Undefined}}readTagTable(){if(!this._reader.seek(128))return;const a=this._reader.readLong();if(a!=null)for(let o=0;o<a;o++)switch(this._reader.readLong()){case 1668313716:this._data.copyright=this.readTag();break;case 1684370275:this._data.description=this.readTag();break;case 1684893284:this._data.manufacturer=this.readTag();break;case 1684890724:this._data.model=this.readTag();break;default:this._reader.skip(8);break}}readTag(){const a=this._reader.readLong(),o=this._reader.readLong();if(a===null||o===null)return null;const i=this._reader.index;if(!this._reader.seek(a))return null;const g=this.readTagValue(o);return this._reader.seek(i),g}readTagValue(a){switch(this._reader.readString(4)){case"desc":return this.readTextDescriptionTypeValue();case"text":return this.readTextTypeValue(a);default:return null}}readTextDescriptionTypeValue(){if(!this._reader.skip(4))return null;const a=this._reader.readLong();return a==null?null:this._reader.readString(a)}readTextTypeValue(a){return this._reader.skip(4)?this._reader.readString(a):null}}class Vt{constructor(a,o){this.name=a,this.data=o}name;data}class Ti extends Vt{_data;constructor(a){super("icc",a)}get colorSpace(){return this.initialize(),this._data.colorSpace}get copyright(){return this.initialize(),this._data.copyright}get description(){return this.initialize(),this._data.description}get manufacturer(){return this.initialize(),this._data.manufacturer}get model(){return this.initialize(),this._data.model}initialize(){this._data||(this._data=Yt.read(this.data))}}const Xt={HighRes:0,Quantum:1};class kt{constructor(a,o){this.distortion=a,this.difference=o}difference;distortion;static _create(a,o){return new kt(a,o)}}class bi{constructor(a){this.metric=a}metric;highlightColor;lowlightColor;masklightColor;_setArtifacts(a){this.highlightColor!==void 0&&a.setArtifact("compare:highlight-color",this.highlightColor),this.lowlightColor!==void 0&&a.setArtifact("compare:lowlight-color",this.lowlightColor),this.masklightColor!==void 0&&a.setArtifact("compare:masklight-color",this.masklightColor)}}const St={Undefined:0,Alpha:1,Atop:2,Blend:3,Blur:4,Bumpmap:5,ChangeMask:6,Clear:7,ColorBurn:8,ColorDodge:9,Colorize:10,CopyBlack:11,CopyBlue:12,Copy:13,CopyCyan:14,CopyGreen:15,CopyMagenta:16,CopyAlpha:17,CopyRed:18,CopyYellow:19,Darken:20,DarkenIntensity:21,Difference:22,Displace:23,Dissolve:24,Distort:25,DivideDst:26,DivideSrc:27,DstAtop:28,Dst:29,DstIn:30,DstOut:31,DstOver:32,Exclusion:33,HardLight:34,HardMix:35,Hue:36,In:37,Intensity:38,Lighten:39,LightenIntensity:40,LinearBurn:41,LinearDodge:42,LinearLight:43,Luminize:44,Mathematics:45,MinusDst:46,MinusSrc:47,Modulate:48,ModulusAdd:49,ModulusSubtract:50,Multiply:51,No:52,Out:53,Over:54,Overlay:55,PegtopLight:56,PinLight:57,Plus:58,Replace:59,Saturate:60,Screen:61,SoftLight:62,SrcAtop:63,Src:64,SrcIn:65,SrcOut:66,SrcOver:67,Threshold:68,VividLight:69,Xor:70,Stereo:71,Freeze:72,Interpolate:73,Negate:74,Reflect:75,SoftBurn:76,SoftDodge:77,Stamp:78,RMSE:79,SaliencyBlend:80,SeamlessBlend:81},vt={Warning:300,ResourceLimitWarning:300,TypeWarning:305,OptionWarning:310,DelegateWarning:315,MissingDelegateWarning:320,CorruptImageWarning:325,FileOpenWarning:330,BlobWarning:335,StreamWarning:340,CacheWarning:345,CoderWarning:350,FilterWarning:352,ModuleWarning:355,DrawWarning:360,ImageWarning:365,WandWarning:370,RandomWarning:375,XServerWarning:380,MonitorWarning:385,RegistryWarning:390,ConfigureWarning:395,PolicyWarning:399,Error:400,ResourceLimitError:400,TypeError:405,OptionError:410,DelegateError:415,MissingDelegateError:420,CorruptImageError:425,FileOpenError:430,BlobError:435,StreamError:440,CacheError:445,CoderError:450,FilterError:452,ModuleError:455,DrawError:460,ImageError:465,WandError:470,RandomError:475,XServerError:480,MonitorError:485,RegistryError:490,ConfigureError:495,PolicyError:499};class z extends Error{_relatedErrors=[];constructor(a,o=vt.Error){super(a),this.severity=o}severity;get relatedErrors(){return this._relatedErrors}_setRelatedErrors(a){this._relatedErrors=a}}class Fe{static get depth(){return l._api._Quantum_Depth_Get()}static get max(){return l._api._Quantum_Max_Get()}}function ge(S,a){return S===0?a??null:l._api.UTF8ToString(S)}function sa(S,a){const o=ge(a);return S._MagickMemory_Relinquish(a),o}function qt(S,a,o){const i=S.lengthBytesUTF8(a)+1,g=S._malloc(i);try{return S.stringToUTF8(a,g,i),o(g)}finally{S._free(g)}}function A(S,a){return S===null?a(0):qt(l._api,S,a)}class k{constructor(a,o,i,g,m){if(a!==void 0)if(typeof a=="string"){let f=0;try{f=l._api._MagickColor_Create(),A(a,M=>{if(l._api._MagickColor_Initialize(f,M)===0)throw new z("invalid color specified");this.initialize(f)})}finally{l._api._free(f)}}else this.r=a,this.g=o??0,this.b=i??0,m===void 0?this.a=g??Fe.max:(this.k=g??0,this.a=m,this.isCmyk=!0)}r=0;g=0;b=0;a=0;k=0;isCmyk=!1;static _create(a){const o=new k;return o.initialize(a),o}toShortString(){return this.a!==Fe.max?this.toString():this.isCmyk?`cmyka(${this.r},${this.g},${this.b},${this.k})`:`#${this.toHex(this.r)}${this.toHex(this.g)}${this.toHex(this.b)}`}toString(){return this.isCmyk?`cmyka(${this.r},${this.g},${this.b},${this.k},${(this.a/Fe.max).toFixed(4)})`:`#${this.toHex(this.r)}${this.toHex(this.g)}${this.toHex(this.b)}${this.toHex(this.a)}`}_use(a){let o=0;try{o=l._api._MagickColor_Create(),l._api._MagickColor_Red_Set(o,this.r),l._api._MagickColor_Green_Set(o,this.g),l._api._MagickColor_Blue_Set(o,this.b),l._api._MagickColor_Alpha_Set(o,this.a),l._api._MagickColor_IsCMYK_Set(o,this.isCmyk?1:0),a(o)}finally{l._api._free(o)}}initialize(a){this.r=l._api._MagickColor_Red_Get(a),this.g=l._api._MagickColor_Green_Get(a),this.b=l._api._MagickColor_Blue_Get(a),this.a=l._api._MagickColor_Alpha_Get(a),this.isCmyk=l._api._MagickColor_IsCMYK_Get(a)===1}toHex(a){return a.toString(16).padStart(2,"0")}}var Ie=(S=>(S[S.NoValue=0]="NoValue",S[S.PercentValue=4096]="PercentValue",S[S.IgnoreAspectRatio=8192]="IgnoreAspectRatio",S[S.Less=16384]="Less",S[S.Greater=32768]="Greater",S[S.FillArea=65536]="FillArea",S[S.LimitPixels=131072]="LimitPixels",S[S.AspectRatio=1048576]="AspectRatio",S))(Ie||{});class _e{_includeXyInToString;_width=0;_height=0;_x=0;_y=0;_aspectRatio=!1;_fillArea=!1;_greater=!1;_isPercentage=!1;_ignoreAspectRatio=!1;_less=!1;_limitPixels=!1;constructor(a,o,i,g){if(typeof a=="number"){if(i!==void 0&&g!==void 0?(this._width=i,this._height=g,this._x=a,this._y=o??0,this._includeXyInToString=!0):(this._width=a,this._height=o??this._width,this._x=0,this._y=0,this._includeXyInToString=!1),this._width<0)throw new z("negative width is not allowed");if(this._height<0)throw new z("negative height is not allowed")}else{this._includeXyInToString=a.indexOf("+")>=0||a.indexOf("-")>=0;const m=l._api._MagickGeometry_Create();try{A(a,f=>{const M=l._api._MagickGeometry_Initialize(m,f);if(M===Ie.NoValue)throw new z("invalid geometry specified");this.hasFlag(M,Ie.AspectRatio)?this.initializeFromAspectRation(m,a):this.initialize(m,M)})}finally{l._api._MagickGeometry_Dispose(m)}}}get aspectRatio(){return this._aspectRatio}get fillArea(){return this._fillArea}set fillArea(a){this._fillArea=a}get greater(){return this._greater}set greater(a){this._greater=a}get height(){return this._height}set height(a){this._height=a}get ignoreAspectRatio(){return this._ignoreAspectRatio}set ignoreAspectRatio(a){this._ignoreAspectRatio=a}get isPercentage(){return this._isPercentage}set isPercentage(a){this._isPercentage=a}get less(){return this._less}set less(a){this._less=a}get limitPixels(){return this._limitPixels}set limitPixels(a){this._limitPixels=a}get width(){return this._width}set width(a){this._width=a}get x(){return this._x}set x(a){this._x=a}get y(){return this._y}set y(a){this._y=a}toString(){if(this._aspectRatio)return this._width+":"+this._height;let a="";return this._width==0&&this._height==0?a+="0x0":(this._width>0&&(a+=this._width.toString()),this._height>0?a+="x"+this._height.toString():a+="x"),(this._x!=0||this._y!=0||this._includeXyInToString)&&(this._x>=0&&(a+="+"),a+=this._x,this.y>=0&&(a+="+"),a+=this.y),this._fillArea&&(a+="^"),this._greater&&(a+=">"),this._isPercentage&&(a+="%"),this._ignoreAspectRatio&&(a+="!"),this._less&&(a+="<"),this._limitPixels&&(a+="@"),a}static _fromRectangle(a){if(a===0)throw new z("unable to allocate memory");try{const o=l._api._MagickRectangle_Width_Get(a),i=l._api._MagickRectangle_Height_Get(a),g=l._api._MagickRectangle_X_Get(a),m=l._api._MagickRectangle_Y_Get(a);return new _e(g,m,o,i)}finally{l._api._MagickRectangle_Dispose(a)}}_toRectangle(a){const o=l._api._MagickRectangle_Create();if(o===0)throw new z("unable to allocate memory");try{l._api._MagickRectangle_Width_Set(o,this._width),l._api._MagickRectangle_Height_Set(o,this._height),l._api._MagickRectangle_X_Set(o,this._x),l._api._MagickRectangle_Y_Set(o,this._y),a(o)}finally{l._api._MagickRectangle_Dispose(o)}}initialize(a,o){this._width=l._api._MagickGeometry_Width_Get(a),this._height=l._api._MagickGeometry_Height_Get(a),this._x=l._api._MagickGeometry_X_Get(a),this._y=l._api._MagickGeometry_Y_Get(a),this._ignoreAspectRatio=this.hasFlag(o,Ie.IgnoreAspectRatio),this._isPercentage=this.hasFlag(o,Ie.PercentValue),this._fillArea=this.hasFlag(o,Ie.FillArea),this._greater=this.hasFlag(o,Ie.Greater),this._less=this.hasFlag(o,Ie.Less),this._limitPixels=this.hasFlag(o,Ie.LimitPixels)}initializeFromAspectRation(a,o){this._aspectRatio=!0;const i=o.split(":");this._width=this.parseNumber(i[0]),this._height=this.parseNumber(i[1]),this._x=l._api._MagickGeometry_X_Get(a),this._y=l._api._MagickGeometry_Y_Get(a)}parseNumber(a){let o=0;for(;o<a.length&&!this.isNumber(a[o]);)o++;const i=o;for(;o<a.length&&this.isNumber(a[o]);)o++;return parseInt(a.substr(i,o-i))}isNumber(a){return a>="0"&&a<="9"}hasFlag(a,o){return(a&o)===o}}class ke{constructor(a,o){this.x=a,this.y=o??a}x;y;static _create(a){return a===0?new ke(0,0):new ke(l._api._PointInfo_X_Get(a),l._api._PointInfo_Y_Get(a))}}class wt{constructor(a){this.area=l._api._ConnectedComponent_GetArea(a),this.centroid=ke._create(l._api._ConnectedComponent_GetCentroid(a)),this.color=k._create(l._api._ConnectedComponent_GetColor(a)),this.height=l._api._ConnectedComponent_GetHeight(a),this.id=l._api._ConnectedComponent_GetId(a),this.width=l._api._ConnectedComponent_GetWidth(a),this.x=l._api._ConnectedComponent_GetX(a),this.y=l._api._ConnectedComponent_GetY(a)}area;centroid;color;height;id;width;x;y;static _create(a,o){const i=[];if(a===0)return i;for(let g=0;g<o;g++){const m=l._api._ConnectedComponent_GetInstance(a,g);m===0||l._api._ConnectedComponent_GetArea(m)<Number.EPSILON||i.push(new wt(m))}return i}toGeometry(){return new _e(this.x,this.y,this.width,this.height)}}class Gi{angleThreshold;areaThreshold;circularityThreshold;connectivity;diameterThreshold;eccentricityThreshold;majorAxisThreshold;meanColor;minorAxisThreshold;perimeterThreshold;constructor(a){this.connectivity=a}_setArtifacts(a){this.angleThreshold!==void 0&&a.setArtifact("connected-components:angle-threshold",this.angleThreshold.toString()),this.areaThreshold!==void 0&&a.setArtifact("connected-components:area-threshold",this.areaThreshold.toString()),this.circularityThreshold!==void 0&&a.setArtifact("connected-components:circularity-threshold",this.circularityThreshold.toString()),this.diameterThreshold!==void 0&&a.setArtifact("connected-components:diameter-threshold",this.diameterThreshold.toString()),this.eccentricityThreshold!==void 0&&a.setArtifact("connected-components:eccentricity-threshold",this.eccentricityThreshold.toString()),this.majorAxisThreshold!==void 0&&a.setArtifact("connected-components:major-axis-threshold",this.majorAxisThreshold.toString()),this.meanColor!==void 0&&a.setArtifact("connected-components:mean-color",this.meanColor.toString()),this.minorAxisThreshold!==void 0&&a.setArtifact("connected-components:minor-axis-threshold",this.minorAxisThreshold.toString()),this.perimeterThreshold!==void 0&&a.setArtifact("connected-components:perimeter-threshold",this.perimeterThreshold.toString())}}const xe={Undefined:0,PixelsPerInch:1,PixelsPerCentimeter:2};class Ne{constructor(a,o,i){o===void 0?(this.x=a,this.y=a,this.units=xe.PixelsPerInch):i!==void 0?(this.x=a,this.y=o,this.units=i):(this.x=a,this.y=a,this.units=o)}x;y;units;toString(a){return a==this.units||a===xe.Undefined||a===void 0?Ne.toString(this.x,this.y,a??xe.Undefined):this.units==xe.PixelsPerCentimeter&&a==xe.PixelsPerInch?Ne.toString(this.x*2.54,this.y*2.54,a):Ne.toString(this.x/2.54,this.y/2.54,a)}static toString(a,o,i){let g=`${a}x${o}`;switch(i){case xe.PixelsPerCentimeter:g+="cm";break;case xe.PixelsPerInch:g+="inch";break}return g}}class le{static _disposeAfterExecution(a,o){try{const i=o(a);return i instanceof Promise?Promise.resolve(i).then(g=>(a.dispose(),le.checkResult(a,g),g)):(a.dispose(),le.checkResult(a,i),i)}catch(i){throw a.dispose(),i}}static checkResult(a,o){if(o===a)throw new z("The result of the function cannot be the instance that has been disposed.");return o}}class Ai{_pointer;_bytes;_func;constructor(a,o,i){this._pointer=a,this._func=i,this._bytes=l._api.HEAPU8.subarray(a,a+o)}func(a){return a._bytes===void 0?a._func(new Uint8Array):a._func(a._bytes)}dispose(){this._pointer=l._api._MagickMemory_Relinquish(this._pointer)}}class Le{disposeMethod;instance;constructor(a,o){this.instance=a,this.disposeMethod=o}get _instance(){if(this.instance>0)return this.instance;throw this.instance===-1&&this._instanceNotInitialized(),new z("instance is disposed")}set _instance(a){this.disposeInstance(this.instance),this.instance=a}dispose(){this.instance=this.disposeInstance(this.instance)}_instanceNotInitialized(){throw new z("instance is not initialized")}_setInstance(a,o){return o.check(()=>this.instance===0?!1:(this.dispose(),this.instance=a,!0),()=>(this.disposeInstance(a),!0))}disposeInstance(a){return a>0&&(this.onDispose!==void 0&&this.onDispose(),this.disposeMethod(a)),0}}class _a extends Le{constructor(a){const o=l._api._DrawingSettings_Create(),i=l._api._DrawingSettings_Dispose;if(super(o,i),a.fillColor!==void 0&&a.fillColor._use(g=>{l._api._DrawingSettings_FillColor_Set(this._instance,g)}),a.font!==void 0){const g=we._getFontFileName(a.font);A(g,m=>{l._api._DrawingSettings_Font_Set(this._instance,m)})}a.fontPointsize!==void 0&&l._api._DrawingSettings_FontPointsize_Set(this._instance,a.fontPointsize),a.strokeColor!==void 0&&a.strokeColor._use(g=>{l._api._DrawingSettings_StrokeColor_Set(this._instance,g)}),a.strokeWidth!==void 0&&l._api._DrawingSettings_StrokeWidth_Set(this._instance,a.strokeWidth)}}class It{backgroundColor;fillColor;font;fontPointsize;strokeColor;strokeWidth;static _create(a){const o=new It;return o.fillColor=a.fillColor,o.font=a.font,o.fontPointsize=a.fontPointsize,o.strokeColor=a.strokeColor,o.strokeWidth=a.strokeWidth,o}_use(a){const o=new _a(this);return le._disposeAfterExecution(o,a)}}class Ri{instance;type;constructor(a,o){this.instance=l._api._malloc(a),this.type=o,l._api.setValue(this.instance,0,this.type)}get ptr(){return this.instance}get value(){return l._api.getValue(this.instance,this.type)}}class ye extends Ri{constructor(){super(4,"i32")}static use(a){const o=new ye;try{return a(o)}finally{l._api._free(o.ptr)}}}class b{pointer;constructor(a){this.pointer=a}get ptr(){return this.pointer.ptr}check(a,o){return this.isError()?o():a()}static usePointer(a,o){return ye.use(i=>{const g=a(i.ptr);return b.checkException(i,g,o)})}static use(a,o){return ye.use(i=>{const g=a(new b(i));return b.checkException(i,g,o)})}static checkException(a,o,i){if(!b.isRaised(a))return o;const g=b.getErrorSeverity(a.value);if(g>=vt.Error)b.throw(a,g);else if(i!==void 0){const m=b.createError(a.value,g);i(m)}else b.dispose(a);return o}isError(){return b.isRaised(this.pointer)?b.getErrorSeverity(this.pointer.value)>=vt.Error:!1}static getErrorSeverity(a){return l._api._MagickExceptionHelper_Severity(a)}static isRaised(a){return a.value!==0}static throw(a,o){const i=b.createError(a.value,o);throw b.dispose(a),i}static createError(a,o){const i=b.getMessage(a),g=new z(i,o),m=l._api._MagickExceptionHelper_RelatedCount(a);if(m===0)return g;const f=[];for(let M=0;M<m;M++){const y=l._api._MagickExceptionHelper_Related(a,M),F=b.getErrorSeverity(y),N=b.createError(y,F);f.push(N)}return g._setRelatedErrors(f),g}static getMessage(a){const o=l._api._MagickExceptionHelper_Message(a),i=l._api._MagickExceptionHelper_Description(a);let g=ge(o,"Unknown error");return i!==0&&(g+=`(${l._api.UTF8ToString(i)})`),g}static dispose(a){l._api._MagickExceptionHelper_Dispose(a.value)}}class yt{constructor(a,o,i,g,m,f,M){this.ascent=a,this.descent=o,this.maxHorizontalAdvance=i,this.textHeight=g,this.textWidth=m,this.underlinePosition=f,this.underlineThickness=M}ascent;descent;maxHorizontalAdvance;textHeight;textWidth;underlinePosition;underlineThickness;static _create(a){if(a==0)return null;try{const o=l._api._TypeMetric_Ascent_Get(a),i=l._api._TypeMetric_Descent_Get(a),g=l._api._TypeMetric_MaxHorizontalAdvance_Get(a),m=l._api._TypeMetric_TextHeight_Get(a),f=l._api._TypeMetric_TextWidth_Get(a),M=l._api._TypeMetric_UnderlinePosition_Get(a),y=l._api._TypeMetric_UnderlineThickness_Get(a);return new yt(o,i,g,m,f,M,y)}finally{l._api._TypeMetric_Dispose(a)}}}class st extends Le{constructor(a,o){const g=It._create(o)._use(f=>l._api._DrawingWand_Create(a._instance,f._instance)),m=l._api._DrawingWand_Dispose;super(g,m)}color(a,o,i){b.usePointer(g=>{l._api._DrawingWand_Color(this._instance,a,o,i,g)})}draw(a){a.forEach(o=>{o.draw(this)}),b.usePointer(o=>{l._api._DrawingWand_Render(this._instance,o)})}fillColor(a){b.usePointer(o=>{a._use(i=>{l._api._DrawingWand_FillColor(this._instance,i,o)})})}fillOpacity(a){b.usePointer(o=>{l._api._DrawingWand_FillOpacity(this._instance,a,o)})}font(a){b.usePointer(o=>{A(a,i=>{l._api._DrawingWand_Font(this._instance,i,o)})})}fontPointSize(a){b.usePointer(o=>{l._api._DrawingWand_FontPointSize(this._instance,a,o)})}fontTypeMetrics(a,o){return b.usePointer(i=>A(a,g=>{const m=l._api._DrawingWand_FontTypeMetrics(this._instance,g,o?1:0,i);return yt._create(m)}))}gravity(a){b.usePointer(o=>{l._api._DrawingWand_Gravity(this._instance,a,o)})}line(a,o,i,g){b.usePointer(m=>{l._api._DrawingWand_Line(this._instance,a,o,i,g,m)})}point(a,o){b.usePointer(i=>{l._api._DrawingWand_Point(this._instance,a,o,i)})}rectangle(a,o,i,g){b.usePointer(m=>{l._api._DrawingWand_Rectangle(this._instance,a,o,i,g,m)})}roundRectangle(a,o,i,g,m,f){b.usePointer(M=>{l._api._DrawingWand_RoundRectangle(this._instance,a,o,i,g,m,f,M)})}strokeColor(a){b.usePointer(o=>{a._use(i=>{l._api._DrawingWand_StrokeColor(this._instance,i,o)})})}strokeWidth(a){b.usePointer(o=>{l._api._DrawingWand_StrokeWidth(this._instance,a,o)})}text(a,o,i){b.usePointer(g=>{A(i,m=>{l._api._DrawingWand_Text(this._instance,a,o,m,g)})})}textAlignment(a){b.usePointer(o=>{l._api._DrawingWand_TextAlignment(this._instance,a,o)})}textAntialias(a){b.usePointer(o=>{l._api._DrawingWand_TextAntialias(this._instance,a?1:0,o)})}textDecoration(a){b.usePointer(o=>{l._api._DrawingWand_TextDecoration(this._instance,a,o)})}textInterlineSpacing(a){b.usePointer(o=>{l._api._DrawingWand_TextInterlineSpacing(this._instance,a,o)})}textInterwordspacing(a){b.usePointer(o=>{l._api._DrawingWand_TextInterwordSpacing(this._instance,a,o)})}textKerning(a){b.usePointer(o=>{l._api._DrawingWand_TextKerning(this._instance,a,o)})}textUnderColor(a){b.usePointer(o=>{a._use(i=>{l._api._DrawingWand_TextUnderColor(this._instance,i,o)})})}static _use(a,o){const i=new st(a,a.settings);return le._disposeAfterExecution(i,o)}}class Ot extends Ri{constructor(){super(8,"double")}static use(a){const o=new Ot;try{return a(o)}finally{l._api._free(o.ptr)}}}const ue={Undefined:0,Forget:0,Northwest:1,North:2,Northeast:3,West:4,Center:5,East:6,Southwest:7,South:8,Southeast:9};function*Fi(S){for(const a of S)switch(a){case ue.North:yield"north";break;case ue.Northeast:yield"north",yield"east";break;case ue.Northwest:yield"north",yield"west";break;case ue.East:yield"east";break;case ue.West:yield"west";break;case ue.South:yield"south";break;case ue.Southeast:yield"south",yield"east";break;case ue.Southwest:yield"south",yield"west"}}class _t{constructor(a,o,i){this.meanErrorPerPixel=a,this.normalizedMeanError=o,this.normalizedMaximumError=i}meanErrorPerPixel;normalizedMaximumError;normalizedMeanError;static _create(a){const o=l._api._MagickImage_MeanErrorPerPixel_Get(a._instance),i=l._api._MagickImage_NormalizedMeanError_Get(a._instance),g=l._api._MagickImage_NormalizedMaximumError_Get(a._instance);return new _t(o,i,g)}}const Ce={Unknown:"UNKNOWN",ThreeFr:"3FR",ThreeG2:"3G2",ThreeGp:"3GP",A:"A",Aai:"AAI",Ai:"AI",APng:"APNG",Art:"ART",Arw:"ARW",Ashlar:"ASHLAR",Avci:"AVCI",Avi:"AVI",Avif:"AVIF",Avs:"AVS",B:"B",Bayer:"BAYER",Bayera:"BAYERA",Bgr:"BGR",Bgra:"BGRA",Bgro:"BGRO",Bmp:"BMP",Bmp2:"BMP2",Bmp3:"BMP3",Brf:"BRF",C:"C",Cal:"CAL",Cals:"CALS",Canvas:"CANVAS",Caption:"CAPTION",Cin:"CIN",Cip:"CIP",Clip:"CLIP",Cmyk:"CMYK",Cmyka:"CMYKA",Cr2:"CR2",Cr3:"CR3",Crw:"CRW",Cube:"CUBE",Cur:"CUR",Cut:"CUT",Data:"DATA",Dcm:"DCM",Dcr:"DCR",Dcraw:"DCRAW",Dcx:"DCX",Dds:"DDS",Dfont:"DFONT",Dng:"DNG",Dpx:"DPX",Dxt1:"DXT1",Dxt5:"DXT5",Epdf:"EPDF",Epi:"EPI",Eps:"EPS",Eps2:"EPS2",Eps3:"EPS3",Epsf:"EPSF",Epsi:"EPSI",Ept:"EPT",Ept2:"EPT2",Ept3:"EPT3",Erf:"ERF",Exr:"EXR",Farbfeld:"FARBFELD",Fax:"FAX",Ff:"FF",Fff:"FFF",File:"FILE",Fits:"FITS",Fl32:"FL32",Flv:"FLV",Fractal:"FRACTAL",Ftp:"FTP",Fts:"FTS",Ftxt:"FTXT",G:"G",G3:"G3",G4:"G4",Gif:"GIF",Gif87:"GIF87",Gradient:"GRADIENT",Gray:"GRAY",Graya:"GRAYA",Group4:"GROUP4",Hald:"HALD",Hdr:"HDR",Heic:"HEIC",Heif:"HEIF",Histogram:"HISTOGRAM",Hrz:"HRZ",Htm:"HTM",Html:"HTML",Http:"HTTP",Https:"HTTPS",Icb:"ICB",Ico:"ICO",Icon:"ICON",Iiq:"IIQ",Info:"INFO",Inline:"INLINE",Ipl:"IPL",Isobrl:"ISOBRL",Isobrl6:"ISOBRL6",J2c:"J2C",J2k:"J2K",Jng:"JNG",Jnx:"JNX",Jp2:"JP2",Jpc:"JPC",Jpe:"JPE",Jpeg:"JPEG",Jpg:"JPG",Jpm:"JPM",Jps:"JPS",Jpt:"JPT",Json:"JSON",Jxl:"JXL",K:"K",K25:"K25",Kdc:"KDC",Label:"LABEL",M:"M",M2v:"M2V",M4v:"M4V",Mac:"MAC",Map:"MAP",Mask:"MASK",Mat:"MAT",Matte:"MATTE",Mdc:"MDC",Mef:"MEF",Miff:"MIFF",Mkv:"MKV",Mng:"MNG",Mono:"MONO",Mov:"MOV",Mos:"MOS",Mp4:"MP4",Mpc:"MPC",Mpeg:"MPEG",Mpg:"MPG",Mpo:"MPO",Mrw:"MRW",Msl:"MSL",Msvg:"MSVG",Mtv:"MTV",Mvg:"MVG",Nef:"NEF",Nrw:"NRW",Null:"NULL",O:"O",Ora:"ORA",Orf:"ORF",Otb:"OTB",Otf:"OTF",Pal:"PAL",Palm:"PALM",Pam:"PAM",Pango:"PANGO",Pattern:"PATTERN",Pbm:"PBM",Pcd:"PCD",Pcds:"PCDS",Pcl:"PCL",Pct:"PCT",Pcx:"PCX",Pdb:"PDB",Pdf:"PDF",Pdfa:"PDFA",Pef:"PEF",Pes:"PES",Pfa:"PFA",Pfb:"PFB",Pfm:"PFM",Pgm:"PGM",Pgx:"PGX",Phm:"PHM",Picon:"PICON",Pict:"PICT",Pix:"PIX",Pjpeg:"PJPEG",Plasma:"PLASMA",Png:"PNG",Png00:"PNG00",Png24:"PNG24",Png32:"PNG32",Png48:"PNG48",Png64:"PNG64",Png8:"PNG8",Pnm:"PNM",Pocketmod:"POCKETMOD",Ppm:"PPM",Ps:"PS",Ps2:"PS2",Ps3:"PS3",Psb:"PSB",Psd:"PSD",Ptif:"PTIF",Pwp:"PWP",Qoi:"QOI",R:"R",RadialGradient:"RADIAL-GRADIENT",Raf:"RAF",Ras:"RAS",Raw:"RAW",Rgb:"RGB",Rgb565:"RGB565",Rgba:"RGBA",Rgbo:"RGBO",Rgf:"RGF",Rla:"RLA",Rle:"RLE",Rmf:"RMF",Rw2:"RW2",Rwl:"RWL",Scr:"SCR",Screenshot:"SCREENSHOT",Sct:"SCT",Sfw:"SFW",Sgi:"SGI",Shtml:"SHTML",Six:"SIX",Sixel:"SIXEL",SparseColor:"SPARSE-COLOR",Sr2:"SR2",Srf:"SRF",Srw:"SRW",Stegano:"STEGANO",Sti:"STI",StrImg:"STRIMG",Sun:"SUN",Svg:"SVG",Svgz:"SVGZ",Text:"TEXT",Tga:"TGA",Thumbnail:"THUMBNAIL",Tif:"TIF",Tiff:"TIFF",Tiff64:"TIFF64",Tile:"TILE",Tim:"TIM",Tm2:"TM2",Ttc:"TTC",Ttf:"TTF",Txt:"TXT",Ubrl:"UBRL",Ubrl6:"UBRL6",Uil:"UIL",Uyvy:"UYVY",Vda:"VDA",Vicar:"VICAR",Vid:"VID",Viff:"VIFF",Vips:"VIPS",Vst:"VST",WebM:"WEBM",WebP:"WEBP",Wbmp:"WBMP",Wmv:"WMV",Wpg:"WPG",X3f:"X3F",Xbm:"XBM",Xc:"XC",Xcf:"XCF",Xpm:"XPM",Xps:"XPS",Xv:"XV",Y:"Y",Yaml:"YAML",Ycbcr:"YCBCR",Ycbcra:"YCBCRA",Yuv:"YUV"},Ct={Merge:13,Flatten:14,Mosaic:15,Trimbounds:16};class xi extends Le{constructor(a){const o=l._api._MagickSettings_Create(),i=l._api._MagickSettings_Dispose;if(super(o,i),a._fileName!==void 0&&A(a._fileName,g=>{l._api._MagickSettings_SetFileName(this._instance,g)}),a._ping&&l._api._MagickSettings_SetPing(this._instance,1),a._quality!==void 0&&l._api._MagickSettings_SetQuality(this._instance,a._quality),a.antiAlias!==void 0&&l._api._MagickSettings_AntiAlias_Set(this._instance,a.antiAlias?1:0),a.backgroundColor!==void 0&&a.backgroundColor._use(g=>{l._api._MagickSettings_BackgroundColor_Set(this._instance,g)}),a.colorSpace!==void 0&&l._api._MagickSettings_ColorSpace_Set(this._instance,a.colorSpace),a.colorType!==void 0&&l._api._MagickSettings_ColorType_Set(this._instance,a.colorType),a.compression!==void 0&&l._api._MagickSettings_Compression_Set(this._instance,a.compression),a.debug!==void 0&&l._api._MagickSettings_Debug_Set(this._instance,a.debug?1:0),a.density!==void 0){const g=a.density.toString();A(g,m=>{l._api._MagickSettings_Density_Set(this._instance,m)})}if(a.depth!==void 0&&l._api._MagickSettings_Depth_Set(this._instance,a.depth),a.endian!==void 0&&l._api._MagickSettings_Endian_Set(this._instance,a.endian),a.fillColor!==void 0&&this.setOption("fill",a.fillColor.toString()),a.font!==void 0){const g=we._getFontFileName(a.font);A(g,m=>{l._api._MagickSettings_SetFont(this._instance,m)})}a.fontPointsize!==void 0&&l._api._MagickSettings_FontPointsize_Set(this._instance,a.fontPointsize),a.format!==void 0&&A(a.format,g=>{l._api._MagickSettings_Format_Set(this._instance,g)}),a.interlace!==void 0&&l._api._MagickSettings_Interlace_Set(this._instance,a.interlace),a.strokeColor!==void 0&&this.setOption("stroke",a.strokeColor.toString()),a.strokeWidth!==void 0&&this.setOption("strokeWidth",a.strokeWidth.toString()),a.textInterlineSpacing!==void 0&&this.setOption("interline-spacing",a.textInterlineSpacing.toString()),a.textKerning!==void 0&&this.setOption("kerning",a.textKerning.toString());for(const g in a._options)this.setOption(g,a._options[g])}setOption(a,o){A(a,i=>{A(o,g=>{l._api._MagickSettings_SetOption(this._instance,i,g)})})}}class Oe{_options={};_fileName;_ping=!1;_quality;antiAlias;backgroundColor;colorSpace;colorType;compression;debug;density;depth;endian;fillColor;font;fontPointsize;format;interlace;strokeColor;strokeWidth;textInterlineSpacing;textKerning;getDefine(a,o){return o!==void 0?this._options[`${a}:${o}`]??null:this._options[a]??null}setDefine(a,o,i){if(i===void 0)this._options[a]=o;else{const g=this.parseDefine(a,o);typeof i=="string"?this._options[g]=i:typeof i=="number"?this._options[g]=i.toString():this._options[g]=i?"true":"false"}}setDefines(a){a.getDefines().forEach(o=>{o!==void 0&&this.setDefine(o.format,o.name,o.value)})}_clone(){const a=new Oe;return Object.assign(a,this),a}_use(a){const o=new xi(this);return le._disposeAfterExecution(o,a)}parseDefine(a,o){return a===Ce.Unknown?o:`${a}:${o}`}}class Se extends Oe{constructor(a){super(),Object.assign(this,a)}extractArea;frameIndex;frameCount;height;get syncImageWithExifProfile(){const a=this.getDefine("exif:sync-image");return a===null?!0:a.toLowerCase()==="true"}set syncImageWithExifProfile(a){this.setDefine("exif:sync-image",a.toString())}get syncImageWithTiffProperties(){const a=this.getDefine("tiff:sync-image");return a===null?!0:a.toLowerCase()==="true"}set syncImageWithTiffProperties(a){this.setDefine("tiff:sync-image",a.toString())}width;_use(a){const o=new xi(this),i=this.getSize();if(i!==""&&A(i,g=>{l._api._MagickSettings_SetSize(o._instance,g)}),this.frameIndex!==void 0||this.frameCount!==void 0){const g=this.frameIndex??0,m=this.frameCount??1;l._api._MagickSettings_SetScene(o._instance,g),l._api._MagickSettings_SetNumberScenes(o._instance,m);const f=this.frameCount!==void 0?`${g}-${g+m}`:g.toString();A(f.toString(),M=>{l._api._MagickSettings_SetScenes(o._instance,M)})}return this.extractArea!==void 0&&A(this.extractArea.toString(),g=>{l._api._MagickSettings_Extract_Set(o._instance,g)}),le._disposeAfterExecution(o,a)}getSize(){return this.width!==void 0&&this.height!==void 0?`${this.width}x${this.height}`:this.width!==void 0?`${this.width}x`:this.height!==void 0?`x${this.height}`:""}}const Qt={Undefined:0,No:1,Riemersma:2,FloydSteinberg:3};class ca extends Le{constructor(a){const o=l._api._QuantizeSettings_Create(),i=l._api._QuantizeSettings_Dispose;super(o,i),l._api._QuantizeSettings_SetColors(this._instance,a.colors),l._api._QuantizeSettings_SetColorSpace(this._instance,a.colorSpace),l._api._QuantizeSettings_SetDitherMethod(this._instance,a.ditherMethod??Qt.No),l._api._QuantizeSettings_SetMeasureErrors(this._instance,a.measureErrors?1:0),l._api._QuantizeSettings_SetTreeDepth(this._instance,a.treeDepth)}}class Dt{constructor(){this.colors=256,this.colorSpace=T.Undefined,this.ditherMethod=Qt.Riemersma,this.measureErrors=!1,this.treeDepth=0}colors;colorSpace;ditherMethod;measureErrors;treeDepth;_use(a){const o=new ca(this);return le._disposeAfterExecution(o,a)}}class De{_image;_names=[];constructor(a){this._image=a}setArtifact(a,o){this._names.push(a),this._image.setArtifact(a,o)}static use(a,o){const i=new De(a);try{return o(i)}finally{i.dispose()}}dispose(){for(const a of this._names)this._image.removeArtifact(a)}}function Li(S,a){if(S.byteLength===0)throw new z("The specified array cannot be empty");let o=0;try{return o=l._api._malloc(S.byteLength),l._api.HEAPU8.set(S,o),a(o)}finally{o!==0&&l._api._free(o)}}function Wi(S,a){if(S.length===0)throw new z("The specified array cannot be empty");const o=S.length*8;let i=0;try{i=l._api._malloc(o);const g=new ArrayBuffer(o),m=new Float64Array(g);for(let f=0;f<S.length;f++)m[f]=S[f];return l._api.HEAPU8.set(new Int8Array(g),i),a(i)}finally{i!==0&&l._api._free(i)}}function la(S,a){if(S.byteLength===0)throw new z("The specified array cannot be empty");let o=0;try{return o=l._api._malloc(S.byteLength),l._api.HEAPU8.set(S,o),a(o)}finally{o!==0&&l._api._free(o)}}class ve extends Array{constructor(){super()}static create(a){const o=ve.createObject();return a!==void 0&&o.read(a),o}dispose(){let a=this.pop();for(;a!==void 0;)a.dispose(),a=this.pop()}appendHorizontally(a){return this.createImage((o,i)=>l._api._MagickImageCollection_Append(o,0,i.ptr),a)}appendVertically(a){return this.createImage((o,i)=>l._api._MagickImageCollection_Append(o,1,i.ptr),a)}clone(a){const o=ve.create();for(let i=0;i<this.length;i++)o.push(te._clone(this[i]));return o._use(a)}coalesce(){this.replaceImages((a,o)=>l._api._MagickImageCollection_Coalesce(a,o.ptr))}combine(a,o){let i=o,g=T.sRGB;return typeof a=="number"?g=a:i=a,this.createImage((m,f)=>l._api._MagickImageCollection_Combine(m,g,f.ptr),i)}complex(a,o){return De.use(this[0],i=>(a._setArtifacts(i),this.createImage((g,m)=>l._api._MagickImageCollection_Complex(g,a.complexOperator,m.ptr),o)))}deconstruct(){this.replaceImages((a,o)=>l._api._MagickImageCollection_Deconstruct(a,o.ptr))}evaluate(a,o){return this.createImage((i,g)=>l._api._MagickImageCollection_Evaluate(i,a,g.ptr),o)}flatten(a){return this.mergeImages(Ct.Flatten,a)}fx(a,o,i){this.throwIfEmpty();let g=X.All,m=i;return typeof o=="number"?g=o:m=o,A(a,f=>this.createImage((M,y)=>l._api._MagickImageCollection_Fx(M,f,g,y.ptr),m))}merge(a){return this.mergeImages(Ct.Merge,a)}montage(a,o){return this.throwIfEmpty(),this.attachImages(i=>{const g=a._use(m=>b.use(f=>{const M=l._api._MagickImageCollection_Montage(i,m._instance,f.ptr);return this.checkResult(M,f)}));return ve._createFromImages(g,this.getSettings())._use(m=>{const f=a.transparentColor;return f!==void 0&&m.forEach(M=>{M.transparent(f)}),m.merge(o)})})}morph(a){if(this.length<2)throw new z("operation requires at least two images");this.replaceImages((o,i)=>l._api._MagickImageCollection_Morph(o,a,i.ptr))}mosaic(a){return this.mergeImages(Ct.Mosaic,a)}optimize(){this.replaceImages((a,o)=>l._api._MagickImageCollection_Optimize(a,o.ptr))}optimizePlus(){this.replaceImages((a,o)=>l._api._MagickImageCollection_OptimizePlus(a,o.ptr))}optimizeTransparency(){this.throwIfEmpty(),this.attachImages(a=>{b.usePointer(o=>{l._api._MagickImageCollection_OptimizeTransparency(a,o)})})}ping(a,o){this.readOrPing(!0,a,o)}polynomial(a,o){return this.createImage((i,g)=>Wi(a,m=>l._api._MagickImageCollection_Polynomial(i,m,a.length,g.ptr)),o)}quantize(a){this.throwIfEmpty();const o=a===void 0?new Dt:a;return this.attachImages(i=>{o._use(g=>{b.usePointer(m=>{l._api._MagickImageCollection_Quantize(i,g._instance,m)})})}),o.measureErrors?_t._create(this[0]):null}read(a,o){this.readOrPing(!1,a,o)}remap(a,o){this.throwIfEmpty();const i=o===void 0?new Dt:o;this.attachImages(g=>{i._use(m=>{b.use(f=>{l._api._MagickImageCollection_Remap(g,m._instance,a._instance,f.ptr)})})})}resetPage(){this.forEach(a=>{a.resetPage()})}smushHorizontal(a,o){return this.smush(a,!1,o)}smushVertical(a,o){return this.smush(a,!0,o)}trimBounds(){this.mergeImages(Ct.Trimbounds,()=>{})}write(a,o){this.throwIfEmpty();let i=0,g=0;const m=this[0],f=this.getSettings();o!==void 0?f.format=a:(o=a,f.format=m.format),b.use(y=>{ye.use(F=>{f._use(N=>{this.attachImages(ee=>{i=l._api._MagickImage_WriteBlob(ee,N._instance,F.ptr,y.ptr),g=F.value})})})});const M=new Ai(i,g,o);return le._disposeAfterExecution(M,M.func)}static _createFromImages(a,o){const i=ve.createObject();return i.addImages(a,o._clone()),i}_use(a){return le._disposeAfterExecution(this,a)}addImages(a,o){o.format=Ce.Unknown;let i=a;for(;i!==0;){const g=l._api._MagickImage_GetNext(i);l._api._MagickImage_SetNext(i,0),this.push(te._createFromImage(i,o)),i=g}}attachImages(a){try{for(let o=0;o<this.length-1;o++)l._api._MagickImage_SetNext(this[o]._instance,this[o+1]._instance);return a(this[0]._instance)}finally{for(let o=0;o<this.length-1;o++)l._api._MagickImage_SetNext(this[o]._instance,0)}}checkResult(a,o){return o.check(()=>a,()=>(l._api._MagickImageCollection_Dispose(a),0))}static createObject(){return Object.create(ve.prototype)}createImage(a,o){this.throwIfEmpty();const i=this.attachImages(m=>b.use(f=>{const M=a(m,f);return this.checkResult(M,f)}));return te._createFromImage(i,this.getSettings())._use(o)}getSettings(){return this[0]._getSettings()._clone()}mergeImages(a,o){return this.createImage((i,g)=>l._api._MagickImageCollection_Merge(i,a,g.ptr),o)}readOrPing(a,o,i){this.dispose(),b.use(g=>{const m=i===void 0?new Se:new Se(i);m._ping=a,typeof o=="string"?(m._fileName=o,m._use(f=>{const M=l._api._MagickImageCollection_ReadFile(f._instance,g.ptr);this.addImages(M,m)})):m._use(f=>{const M=o.byteLength;let y=0;try{y=l._api._malloc(M),l._api.HEAPU8.set(o,y);const F=l._api._MagickImageCollection_ReadBlob(f._instance,y,0,M,g.ptr);this.addImages(F,m)}finally{y!==0&&l._api._free(y)}})})}replaceImages(a){this.throwIfEmpty();const o=this.attachImages(g=>b.use(m=>{const f=a(g,m);return this.checkResult(f,m)})),i=this.getSettings()._clone();this.dispose(),this.addImages(o,i)}smush(a,o,i){return this.createImage((g,m)=>l._api._MagickImageCollection_Smush(g,a,o?1:0,m.ptr),i)}throwIfEmpty(){if(this.length===0)throw new z("operation requires at least one image")}}class Z{_value;constructor(a){this._value=a}static _fromQuantum(a){return new Z(a/Fe.max*100)}multiply(a){return a*this._value/100}toDouble(){return this._value}toString(){return`${parseFloat(this._value.toFixed(2))}%`}_toQuantum(){return Fe.max*(this._value/100)}}class Bi{static use(a,o,i){const g=l._api._MagickRectangle_Create();try{l._api._MagickRectangle_X_Set(g,o.x),l._api._MagickRectangle_Y_Set(g,o.y);let m=o.width,f=o.height;return o.isPercentage&&(m=new Z(o.width).multiply(a.width),f=new Z(o.height).multiply(a.height)),l._api._MagickRectangle_Width_Set(g,m),l._api._MagickRectangle_Height_Set(g,f),i(g)}finally{l._api._MagickRectangle_Dispose(g)}}}class zi{_values;constructor(){this._values=new Array(7).fill(0)}get(a){return this._values[a]}set(a,o){this._values[a]=o}}class He{_huPhashes=new Map;_hash="";channel;constructor(a,o,i){if(this.channel=a,typeof i=="number")for(let g=0;g<o.length;g++){const m=new zi;for(let f=0;f<7;f++){const M=l._api._ChannelPerceptualHash_GetHuPhash(i,g,f);m.set(f,M)}this._huPhashes.set(o[g],m)}else this.parseHash(o,i)}huPhash(a,o){if(o<0||o>6)throw new z("Invalid index specified");const i=this._huPhashes.get(a);if(i===void 0)throw new z("Invalid color space specified");return i.get(o)}sumSquaredDistance(a){let o=0;return this._huPhashes.forEach((i,g)=>{for(let m=0;m<7;m++){const f=i.get(m),M=a.huPhash(g,m);o+=(f-M)*(f-M)}}),o}toString(){return this._hash==""&&this.setHash(),this._hash}parseHash(a,o){this._hash=o;let i=0;for(const g of a){const m=new zi;for(let f=0;f<7;f++,i+=5){const M=Number.parseInt(o.substring(i,i+5),16);if(isNaN(M))throw new z("Invalid hash specified");let y=M/He.powerOfTen(M>>17);M&65536&&(y=-y),m.set(f,y)}this._huPhashes.set(g,m)}}static powerOfTen(a){switch(a){case 2:return 100;case 3:return 1e3;case 4:return 1e4;case 5:return 1e5;case 6:return 1e6;default:return 10}}setHash(){this._hash="",this._huPhashes.forEach(a=>{for(let o=0;o<7;o++){let i=a.get(o),g=0;for(;g<7&&Math.abs(i*10)<65356;)i*=10,g++;g<<=1,g<0&&(g|=1),g=(g<<16)+Math.floor(i<0?-(i-.5):i+.5),this._hash+=g.toString(16)}})}}class fe{_red;_green;_blue;constructor(a,o,i){if(typeof a=="string"){const g=o??fe._defaultColorspaces();fe._validateColorSpaces(g);const m=35*g.length;if(a.length!==3*m)throw new z("Invalid hash size");this._red=new He(L.Red,g,a.substring(0,m)),this._blue=new He(L.Blue,g,a.substring(m,m+m)),this._green=new He(L.Green,g,a.substring(m+m))}else this._red=a,this._green=o,this._blue=i}static _create(a,o,i){if(i===0)throw new z("The native operation failed to create an instance");const g=fe.createChannel(a,o,i,L.Red),m=fe.createChannel(a,o,i,L.Green),f=fe.createChannel(a,o,i,L.Blue);return new fe(g,m,f)}static _defaultColorspaces(){return[T.XyY,T.HSB]}static _validateColorSpaces(a){if(a.length<1||a.length>6)throw new z("Invalid number of colorspaces, the minimum is 1 and the maximum is 6");if(new Set(a).size!==a.length)throw new z("Specifying the same colorspace more than once is not allowed")}getChannel(a){switch(a){case L.Red:return this._red;case L.Green:return this._green;case L.Blue:return this._blue;default:return null}}sumSquaredDistance(a){const o=a.getChannel(L.Red),i=a.getChannel(L.Green),g=a.getChannel(L.Blue);if(o===null||i===null||g===null)throw new z("The other perceptual hash should contain a red, green and blue channel.");return this._red.sumSquaredDistance(o)+this._green.sumSquaredDistance(i)+this._blue.sumSquaredDistance(g)}toString(){return this._red.toString()+this._green.toString()+this._blue.toString()}static createChannel(a,o,i,g){const m=l._api._PerceptualHash_GetInstance(a._instance,i,g);return new He(g,o,m)}}class $e extends Le{image;constructor(a){const o=b.usePointer(g=>l._api._PixelCollection_Create(a._instance,g)),i=l._api._PixelCollection_Dispose;super(o,i),this.image=a}static _create(a){return new $e(a)}static _use(a,o){const i=new $e(a);return le._disposeAfterExecution(i,o)}static _map(a,o,i){const g=new $e(a);try{g.use(0,0,a.width,a.height,o,m=>{i(m)})}finally{g.dispose()}}getArea(a,o,i,g){return b.usePointer(m=>{const f=l._api._PixelCollection_GetArea(this._instance,a,o,i,g,m),M=i*g*this.image.channelCount;return l._api.HEAPU8.subarray(f,f+M)})}getPixel(a,o){return this.getArea(a,o,1,1)}setArea(a,o,i,g,m){b.usePointer(f=>{const M=m instanceof Uint8Array?m:new Uint8Array(m);la(M,y=>{l._api._PixelCollection_SetArea(this._instance,a,o,i,g,y,M.length,f)})})}setPixel(a,o,i){i instanceof Uint8Array?this.setArea(a,o,1,1,i):this.setArea(a,o,1,1,i)}toByteArray(a,o,i,g,m){return this.use(a,o,i,g,m,f=>{if(f===0)return null;const M=i*g*m.length;return l._api.HEAPU8.slice(f,f+M)})}use(a,o,i,g,m,f){return A(m,M=>b.use(y=>{let F=l._api._PixelCollection_ToByteArray(this._instance,a,o,i,g,M,y.ptr);return y.check(()=>{const N=f(F);return F=l._api._MagickMemory_Relinquish(F),N},()=>(F=l._api._MagickMemory_Relinquish(F),null))}))}}const Ni={Undefined:0,Average:1,Brightness:2,Lightness:3,MS:4,Rec601Luma:5,Rec601Luminance:6,Rec709Luma:7,Rec709Luminance:8,RMS:9};class We{constructor(a,o,i){this.x=a,this.y=o,this.z=i}x;y;z;static _create(a){return a===0?new We(0,0,0):new We(l._api._PrimaryInfo_X_Get(a),l._api._PrimaryInfo_Y_Get(a),l._api._PrimaryInfo_Z_Get(a))}_use(a){let o=0;try{o=l._api._PrimaryInfo_Create(),l._api._PrimaryInfo_X_Set(o,this.x),l._api._PrimaryInfo_Y_Set(o,this.y),l._api._PrimaryInfo_Z_Set(o,this.z),a(o)}finally{l._api._free(o)}}}class Hi{channel;depth;entropy;kurtosis;maximum;mean;minimum;skewness;standardDeviation;constructor(a,o){this.channel=a,this.depth=l._api._ChannelStatistics_Depth_Get(o),this.entropy=l._api._ChannelStatistics_Entropy_Get(o),this.kurtosis=l._api._ChannelStatistics_Kurtosis_Get(o),this.maximum=l._api._ChannelStatistics_Maximum_Get(o),this.mean=l._api._ChannelStatistics_Mean_Get(o),this.minimum=l._api._ChannelStatistics_Minimum_Get(o),this.skewness=l._api._ChannelStatistics_Skewness_Get(o),this.standardDeviation=l._api._ChannelStatistics_StandardDeviation_Get(o)}}class Pt{_channels=new Map;get channels(){return Array.from(this._channels.keys())}composite(){return this._channels.get(L.Composite)}getChannel(a){const o=this._channels.get(a);return o!==void 0?o:null}static _create(a,o,i){const g=new Pt;return a.channels.forEach(m=>{i>>m&1&&g.addChannel(o,m)}),g.addChannel(o,L.Composite),g}addChannel(a,o){const i=l._api._Statistics_GetInstance(a,o);i!==0&&this._channels.set(o,new Hi(o,i))}}class ga{static toArray(a){if(a===0)return null;const o=l._api._StringInfo_Datum_Get(a),i=l._api._StringInfo_Length_Get(a);return l._api.HEAPU8.subarray(o,o+i)}}class Kt{constructor(a){this.error=a}error}class te extends Le{_settings;_progress;_warning;constructor(a,o){super(a,l._api._MagickImage_Dispose),this._settings=o}get animationDelay(){return l._api._MagickImage_AnimationDelay_Get(this._instance)}set animationDelay(a){l._api._MagickImage_AnimationDelay_Set(this._instance,a)}get animationIterations(){return l._api._MagickImage_AnimationIterations_Get(this._instance)}set animationIterations(a){l._api._MagickImage_AnimationIterations_Set(this._instance,a)}get animationTicksPerSecond(){return l._api._MagickImage_AnimationTicksPerSecond_Get(this._instance)}set animationTicksPerSecond(a){l._api._MagickImage_AnimationTicksPerSecond_Set(this._instance,a)}get artifactNames(){const a=[];l._api._MagickImage_ResetArtifactIterator(this._instance);let o=l._api._MagickImage_GetNextArtifactName(this._instance);for(;o!==0;)a.push(l._api.UTF8ToString(o)),o=l._api._MagickImage_GetNextArtifactName(this._instance);return a}get attributeNames(){const a=[];l._api._MagickImage_ResetAttributeIterator(this._instance);let o=l._api._MagickImage_GetNextAttributeName(this._instance);for(;o!==0;)a.push(l._api.UTF8ToString(o)),o=l._api._MagickImage_GetNextAttributeName(this._instance);return a}get backgroundColor(){const a=l._api._MagickImage_BackgroundColor_Get(this._instance);return k._create(a)}set backgroundColor(a){a._use(o=>{l._api._MagickImage_BackgroundColor_Set(this._instance,o)})}get baseHeight(){return l._api._MagickImage_BaseHeight_Get(this._instance)}get baseWidth(){return l._api._MagickImage_BaseWidth_Get(this._instance)}get blackPointCompensation(){return l._api._MagickImage_BlackPointCompensation_Get(this._instance)===1}set blackPointCompensation(a){l._api._MagickImage_BlackPointCompensation_Set(this._instance,a?1:0)}get borderColor(){const a=l._api._MagickImage_BorderColor_Get(this._instance);return k._create(a)}set borderColor(a){a._use(o=>{l._api._MagickImage_BorderColor_Set(this._instance,o)})}get boundingBox(){return this.useExceptionPointer(a=>{const o=l._api._MagickImage_BoundingBox_Get(this._instance,a),i=_e._fromRectangle(o);return i.width===0||i.height===0?null:i})}get channelCount(){return l._api._MagickImage_ChannelCount_Get(this._instance)}get channels(){const a=[];return[L.Red,L.Green,L.Blue,L.Black,L.Alpha].forEach(o=>{l._api._MagickImage_HasChannel(this._instance,o)&&a.push(o)}),a}get chromaticity(){return new Ei(We._create(l._api._MagickImage_ChromaRed_Get(this._instance)),We._create(l._api._MagickImage_ChromaGreen_Get(this._instance)),We._create(l._api._MagickImage_ChromaBlue_Get(this._instance)),We._create(l._api._MagickImage_ChromaWhite_Get(this._instance)))}set chromaticity(a){a.blue._use(o=>l._api._MagickImage_ChromaBlue_Set(this._instance,o)),a.green._use(o=>l._api._MagickImage_ChromaGreen_Set(this._instance,o)),a.red._use(o=>l._api._MagickImage_ChromaRed_Set(this._instance,o)),a.white._use(o=>l._api._MagickImage_ChromaWhite_Set(this._instance,o))}get classType(){return l._api._MagickImage_ClassType_Get(this._instance)}set classType(a){this.useExceptionPointer(o=>{l._api._MagickImage_ClassType_Set(this._instance,a,o)})}get colorFuzz(){return Z._fromQuantum(l._api._MagickImage_ColorFuzz_Get(this._instance))}set colorFuzz(a){l._api._MagickImage_ColorFuzz_Set(this._instance,a._toQuantum())}get colormapSize(){return l._api._MagickImage_ColormapSize_Get(this._instance)}set colormapSize(a){this.useExceptionPointer(o=>{l._api._MagickImage_ColormapSize_Set(this._instance,a,o)})}get colorSpace(){return l._api._MagickImage_ColorSpace_Get(this._instance)}set colorSpace(a){this.useExceptionPointer(o=>{l._api._MagickImage_ColorSpace_Set(this._instance,a,o)})}get colorType(){return this.settings.colorType!==void 0?this.settings.colorType:l._api._MagickImage_ColorType_Get(this._instance)}set colorType(a){this.useExceptionPointer(o=>{l._api._MagickImage_ColorType_Set(this._instance,a,o)})}get comment(){return this.getAttribute("comment")}set comment(a){a===null?this.removeAttribute("comment"):this.setAttribute("comment",a)}get compose(){return l._api._MagickImage_Compose_Get(this._instance)}set compose(a){l._api._MagickImage_Compose_Set(this._instance,a)}get compression(){return l._api._MagickImage_Compression_Get(this._instance)}get density(){return new Ne(l._api._MagickImage_ResolutionX_Get(this._instance),l._api._MagickImage_ResolutionY_Get(this._instance),l._api._MagickImage_ResolutionUnits_Get(this._instance))}set density(a){l._api._MagickImage_ResolutionX_Set(this._instance,a.x),l._api._MagickImage_ResolutionY_Set(this._instance,a.y),l._api._MagickImage_ResolutionUnits_Set(this._instance,a.units)}get depth(){return l._api._MagickImage_Depth_Get(this._instance)}set depth(a){l._api._MagickImage_Depth_Set(this._instance,a)}get endian(){return l._api._MagickImage_Endian_Get(this._instance)}set endian(a){l._api._MagickImage_Endian_Set(this._instance,a)}get fileName(){const a=l._api._MagickImage_FileName_Get(this._instance);return a===0?null:l._api.UTF8ToString(a)}get filterType(){return l._api._MagickImage_FilterType_Get(this._instance)}set filterType(a){l._api._MagickImage_FilterType_Set(this._instance,a)}get format(){return ge(l._api._MagickImage_Format_Get(this._instance),"")}set format(a){A(a.toString(),o=>l._api._MagickImage_Format_Set(this._instance,o))}get gamma(){return l._api._MagickImage_Gamma_Get(this._instance)}get gifDisposeMethod(){return l._api._MagickImage_GifDisposeMethod_Get(this._instance)}set gifDisposeMethod(a){l._api._MagickImage_GifDisposeMethod_Set(this._instance,a)}get hasAlpha(){return this.toBool(l._api._MagickImage_HasAlpha_Get(this._instance))}set hasAlpha(a){this.useExceptionPointer(o=>{a&&this.alpha(Pi.Opaque),l._api._MagickImage_HasAlpha_Set(this._instance,this.fromBool(a),o)})}get height(){return l._api._MagickImage_Height_Get(this._instance)}get interlace(){return l._api._MagickImage_Interlace_Get(this._instance)}get isOpaque(){return this.useExceptionPointer(a=>this.toBool(l._api._MagickImage_IsOpaque_Get(this._instance,a)))}get interpolate(){return l._api._MagickImage_Interpolate_Get(this._instance)}set interpolate(a){l._api._MagickImage_Interpolate_Set(this._instance,a)}get label(){return this.getAttribute("label")}set label(a){a===null?this.removeAttribute("label"):this.setAttribute("label",a)}get matteColor(){const a=l._api._MagickImage_MatteColor_Get(this._instance);return k._create(a)}set matteColor(a){a._use(o=>{l._api._MagickImage_MatteColor_Set(this._instance,o)})}get metaChannelCount(){return l._api._MagickImage_MetaChannelCount_Get(this._instance)}set metaChannelCount(a){this.useExceptionPointer(o=>{l._api._MagickImage_MetaChannelCount_Set(this._instance,a,o)})}get orientation(){return l._api._MagickImage_Orientation_Get(this._instance)}set orientation(a){l._api._MagickImage_Orientation_Set(this._instance,a)}get onProgress(){return this._progress}set onProgress(a){a!==void 0?oe.setProgressDelegate(this):this.disposeProgressDelegate(),this._progress=a}get onWarning(){return this._warning}set onWarning(a){this._warning=a}get page(){const a=l._api._MagickImage_Page_Get(this._instance);return _e._fromRectangle(a)}set page(a){a._toRectangle(o=>{l._api._MagickImage_Page_Set(this._instance,o)})}get profileNames(){const a=[];l._api._MagickImage_ResetProfileIterator(this._instance);let o=l._api._MagickImage_GetNextProfileName(this._instance);for(;o!==0;)a.push(l._api.UTF8ToString(o)),o=l._api._MagickImage_GetNextProfileName(this._instance);return a}get quality(){return l._api._MagickImage_Quality_Get(this._instance)}set quality(a){let o=a<1?1:a;o=o>100?100:o,l._api._MagickImage_Quality_Set(this._instance,o),this._settings._quality=o}get renderingIntent(){return l._api._MagickImage_RenderingIntent_Get(this._instance)}set renderingIntent(a){l._api._MagickImage_RenderingIntent_Set(this._instance,a)}get settings(){return this._settings}get signature(){return this.useExceptionPointer(a=>ge(l._api._MagickImage_Signature_Get(this._instance,a)))}get totalColors(){return this.useExceptionPointer(a=>l._api._MagickImage_TotalColors_Get(this._instance,a))}get virtualPixelMethod(){return l._api._MagickImage_VirtualPixelMethod_Get(this._instance)}set virtualPixelMethod(a){this.useExceptionPointer(o=>{l._api._MagickImage_VirtualPixelMethod_Set(this._instance,a,o)})}get width(){return l._api._MagickImage_Width_Get(this._instance)}adaptiveBlur(a,o){const i=this.valueOrDefault(a,0),g=this.valueOrDefault(o,1);this.useException(m=>{const f=l._api._MagickImage_AdaptiveBlur(this._instance,i,g,m.ptr);this._setInstance(f,m)})}adaptiveResize(a,o){const i=typeof a=="number"?new _e(0,0,a,o):a;this.useException(g=>{A(i.toString(),m=>{const f=l._api._MagickImage_AdaptiveResize(this._instance,m,g.ptr);this._setInstance(f,g)})})}adaptiveSharpen(a,o,i){let g=0;const m=o??1;let f=i??X.Undefined;a!==void 0&&(o===void 0?f=a:g=a),this.useException(M=>{const y=l._api._MagickImage_AdaptiveSharpen(this._instance,g,m,f,M.ptr);this._setInstance(y,M)})}adaptiveThreshold(a,o,i,g){const m=i instanceof Z?i._toQuantum():0;let f=g??X.Undefined;typeof i=="number"&&(f=i),this.useException(M=>{const y=l._api._MagickImage_AdaptiveThreshold(this._instance,a,o,m,f,M.ptr);this._setInstance(y,M)})}addNoise(a,o,i){let g=1,m=i??X.Undefined;o!==void 0&&(i===void 0?m=o:g=o),this.useException(f=>{const M=l._api._MagickImage_AddNoise(this._instance,a,g,m,f.ptr);this._setInstance(M,f)})}alpha(a){this.useExceptionPointer(o=>{l._api._MagickImage_SetAlpha(this._instance,a,o)})}annotate(a,o,i,g){const m=It._create(this._settings);return this.useExceptionPointer(f=>m._use(M=>{A(a,y=>{let F=null,N=ue.Undefined,ee=0;typeof o=="object"?(F=o.toString(),i!==void 0&&(N=i),g!==void 0&&(ee=g)):(N=o,i!==void 0&&(ee=i)),A(F,ie=>{l._api._MagickImage_Annotate(this._instance,M._instance,y,ie,N,ee,f)})})}))}autoGamma(a){this.useExceptionPointer(o=>{const i=this.valueOrDefault(a,X.Composite);l._api._MagickImage_AutoGamma(this._instance,i,o)})}autoLevel(a){this.useExceptionPointer(o=>{const i=this.valueOrDefault(a,X.Undefined);l._api._MagickImage_AutoLevel(this._instance,i,o)})}autoOrient(){this.useException(a=>{const o=l._api._MagickImage_AutoOrient(this._instance,a.ptr);this._setInstance(o,a)})}autoThreshold(a){this.useException(o=>{l._api._MagickImage_AutoThreshold(this._instance,a,o.ptr)})}bilateralBlur(a,o,i,g){const m=this.valueOrComputedDefault(i,()=>Math.sqrt(a*a+o*o)),f=this.valueOrDefault(g,m*.25);this.useException(M=>{const y=l._api._MagickImage_BilateralBlur(this._instance,a,o,m,f,M.ptr);this._setInstance(y,M)})}blackThreshold(a,o){const i=this.valueOrDefault(o,X.Composite);this.useException(g=>{A(a.toString(),m=>{l._api._MagickImage_BlackThreshold(this._instance,m,i,g.ptr)})})}blueShift(a){const o=this.valueOrDefault(a,1.5);this.useException(i=>{const g=l._api._MagickImage_BlueShift(this._instance,o,i.ptr);this._setInstance(g,i)})}blur(a,o,i){let g=0;const m=this.valueOrDefault(o,1);let f=this.valueOrDefault(i,X.Undefined);a!==void 0&&(o===void 0?f=a:g=a),this.useException(M=>{const y=l._api._MagickImage_Blur(this._instance,g,m,f,M.ptr);this._setInstance(y,M)})}border(a,o){const i=a,g=this.valueOrDefault(o,a),m=new _e(0,0,i,g);this.useException(f=>{m._toRectangle(M=>{const y=l._api._MagickImage_Border(this._instance,M,f.ptr);this._setInstance(y,f)})})}brightnessContrast(a,o,i){const g=this.valueOrDefault(i,X.Undefined);this.useException(m=>{l._api._MagickImage_BrightnessContrast(this._instance,a.toDouble(),o.toDouble(),g,m.ptr)})}cannyEdge(a,o,i,g){const m=this.valueOrDefault(a,0),f=this.valueOrDefault(o,1),M=this.valueOrDefault(i,new Z(10)).toDouble()/100,y=this.valueOrDefault(g,new Z(30)).toDouble()/100;this.useException(F=>{const N=l._api._MagickImage_CannyEdge(this._instance,m,f,M,y,F.ptr);this._setInstance(N,F)})}charcoal(a,o){const i=a===void 0?0:a,g=o===void 0?1:o;this.useException(m=>{const f=l._api._MagickImage_Charcoal(this._instance,i,g,m.ptr);this._setInstance(f,m)})}chop(a){this.useException(o=>{a._toRectangle(i=>{const g=l._api._MagickImage_Chop(this._instance,i,o.ptr);this._setInstance(g,o)})})}clahe(a,o,i,g){this.useExceptionPointer(m=>{const f=a instanceof Z?a.multiply(this.width):a,M=o instanceof Z?o.multiply(this.height):o;l._api._MagickImage_Clahe(this._instance,f,M,i,g,m)})}clone(a){return te._clone(this)._use(a)}colorAlpha(a){if(!this.hasAlpha)return;const o=te.create();o.read(a,this.width,this.height),o.composite(this,St.SrcOver,new ke(0,0)),this._instance=o._instance}compare(a,o,i,g){const m=o instanceof bi,f=m?o.metric:o;let M=i;g!==void 0&&(M=g);let y=X.Undefined;if(typeof M!="function")return M!==void 0&&(y=M),this.useExceptionPointer(N=>l._api._MagickImage_CompareDistortion(this._instance,a._instance,f,y,N));i!==void 0&&typeof i!="function"&&(y=i);const F=De.use(this,N=>(m&&o._setArtifacts(N),Ot.use(ee=>{const ie=this.useExceptionPointer(Ke=>l._api._MagickImage_Compare(this._instance,a._instance,f,y,ee.ptr,Ke)),ct=ee.value,Ue=te._createFromImage(ie,this._settings);return kt._create(ct,Ue)})));return F.difference._use(()=>M(F))}composite(a,o,i,g,m){let f=0,M=0,y=St.In,F=X.All,N=null;o instanceof ke?(f=o.x,M=o.y):o!==void 0&&(y=o),i instanceof ke?(f=i.x,M=i.y):typeof i=="string"?N=i:i!==void 0&&(F=i),typeof g=="string"?N=g:g!==void 0&&(F=g),m!==void 0&&(F=m),N!==null&&this.setArtifact("compose:args",N),this.useExceptionPointer(ee=>{l._api._MagickImage_Composite(this._instance,a._instance,f,M,y,F,ee)}),N!==null&&this.removeArtifact("compose:args")}compositeGravity(a,o,i,g,m,f){let M=0,y=0,F=St.In,N=X.All,ee=null;i instanceof ke?(M=i.x,y=i.y):i!==void 0&&(F=i),g instanceof ke?(M=g.x,y=g.y):typeof g=="string"?ee=g:g!==void 0&&(N=g),typeof m=="string"?ee=m:m!==void 0&&(N=m),f!==void 0&&(N=f),ee!==null&&this.setArtifact("compose:args",ee),this.useExceptionPointer(ie=>{l._api._MagickImage_CompositeGravity(this._instance,a._instance,o,M,y,F,N,ie)}),ee!==null&&this.removeArtifact("compose:args")}connectedComponents(a){const o=typeof a=="number"?new Gi(a):a;return De.use(this,g=>(o._setArtifacts(g),this.useException(m=>ye.use(f=>{try{const M=l._api._MagickImage_ConnectedComponents(this._instance,o.connectivity,f.ptr,m.ptr);return this._setInstance(M,m),wt._create(f.value,this.colormapSize)}finally{f.value!==0&&l._api._ConnectedComponent_DisposeList(f.value)}}))))}contrast=()=>this._contrast(!0);contrastStretch(a,o,i){const g=this.width*this.height,m=a.multiply(g);let f=0,M=this.valueOrDefault(i,X.Undefined);o instanceof Z?f=g-o.multiply(g):(f=g-a.multiply(g),o!==void 0&&(M=o)),this.useExceptionPointer(y=>{l._api._MagickImage_ContrastStretch(this._instance,m,f,M,y)})}static create(a,o,i){const g=new te(te.createInstance(),new Oe);return a!==void 0&&g.readOrPing(!1,a,o,i),g}crop(a,o,i){let g,m;typeof a!="number"?(g=a,m=this.valueOrDefault(o,ue.Undefined)):o!==void 0&&(g=new _e(a,o),m=this.valueOrDefault(i,ue.Undefined)),this.useException(f=>{A(g.toString(),M=>{const y=l._api._MagickImage_Crop(this._instance,M,m,f.ptr);this._setInstance(y,f)})})}cropToTiles(a,o,i){let g,m;return typeof a=="number"&&typeof o=="number"&&i!==void 0?(g=new _e(0,0,a,o),m=i):typeof a!="number"&&typeof o!="number"&&(g=a,m=o),this.useException(f=>A(g.toString(),M=>{const y=l._api._MagickImage_CropToTiles(this._instance,M,f.ptr);return ve._createFromImages(y,this._settings)._use(m)}))}deskew(a,o){return De.use(this,i=>{o!==void 0&&i.setArtifact("deskew:auto-crop",o),this.useException(m=>{const f=l._api._MagickImage_Deskew(this._instance,a._toQuantum(),m.ptr);this._setInstance(f,m)});const g=Number(this.getArtifact("deskew:angle"));return isNaN(g)?0:g})}distort(a,o){De.use(this,i=>{let g,m=0;typeof a=="number"?g=a:(g=a.method,m=a.bestFit?1:0,a._setArtifacts(i)),this.useException(f=>{Wi(o,M=>{const y=l._api._MagickImage_Distort(this._instance,g,m,M,o.length,f.ptr);this._setInstance(y,f)})})})}draw(...a){const o=a.flat();o.length!==0&&st._use(this,i=>{i.draw(o)})}evaluate(a,o,i,g){if(typeof o=="number"){const m=o,f=typeof i=="number"?i:i._toQuantum();this.useExceptionPointer(M=>{l._api._MagickImage_EvaluateOperator(this._instance,a,m,f,M)})}else if(g!==void 0){if(typeof i!="number")throw new z("this should not happen");const m=o,f=i,M=typeof g=="number"?g:g._toQuantum();if(m.isPercentage)throw new z("percentage is not supported");this.useExceptionPointer(y=>{Bi.use(this,m,F=>{l._api._MagickImage_EvaluateGeometry(this._instance,a,F,f,M,y)})})}}extent(a,o,i){let g=ue.Undefined,m;typeof a!="number"?m=a:typeof o=="number"&&(m=new _e(a,o)),typeof o=="number"?g=o:o!==void 0&&(this.backgroundColor=o),typeof i=="number"?g=i:i!==void 0&&(this.backgroundColor=i),this.useException(f=>{A(m.toString(),M=>{const y=l._api._MagickImage_Extent(this._instance,M,g,f.ptr);this._setInstance(y,f)})})}flip(){this.useException(a=>{const o=l._api._MagickImage_Flip(this._instance,a.ptr);this._setInstance(o,a)})}flop(){this.useException(a=>{const o=l._api._MagickImage_Flop(this._instance,a.ptr);this._setInstance(o,a)})}formatExpression(a){return this.useExceptionPointer(o=>this._settings._use(i=>A(a,g=>{const m=l._api._MagickImage_FormatExpression(this._instance,i._instance,g,o);return sa(l._api,m)})))}gammaCorrect(a,o){const i=this.valueOrDefault(o,X.Undefined);this.useExceptionPointer(g=>{l._api._MagickImage_GammaCorrect(this._instance,a,i,g)})}gaussianBlur(a,o,i){const g=this.valueOrDefault(o,1),m=this.valueOrDefault(i,X.Undefined);this.useException(f=>{const M=l._api._MagickImage_GaussianBlur(this._instance,a,g,m,f.ptr);this._setInstance(M,f)})}getArtifact(a){return A(a,o=>{const i=l._api._MagickImage_GetArtifact(this._instance,o);return ge(i)})}getAttribute(a){return this.useException(o=>A(a,i=>{const g=l._api._MagickImage_GetAttribute(this._instance,i,o.ptr);return ge(g)}))}getColorProfile(){const a=["icc","icm"];for(const o of a){const i=this._getProfile(o);if(i!==null)return new Ti(i)}return null}getPixels(a){if(this._settings._ping)throw new z("image contains no pixel data");return $e._use(this,a)}getProfile(a){const o=this._getProfile(a);return o===null?null:new Vt(a,o)}getWriteMask(a){const o=this.useExceptionPointer(g=>l._api._MagickImage_GetWriteMask(this._instance,g)),i=o===0?null:new te(o,new Oe);return i==null?a(i):i._use(a)}grayscale(a=Ni.Undefined){this.useExceptionPointer(o=>{l._api._MagickImage_Grayscale(this._instance,a,o)})}hasProfile(a){return A(a,o=>this.toBool(l._api._MagickImage_HasProfile(this._instance,o)))}histogram(){const a=new Map;return this.useExceptionPointer(o=>{ye.use(i=>{const g=l._api._MagickImage_Histogram(this._instance,i.ptr,o);if(g!==0){const m=i.value;for(let f=0;f<m;f++){const M=l._api._MagickColorCollection_GetInstance(g,f),y=k._create(M),F=l._api._MagickColor_Count_Get(M);a.set(y.toString(),F)}l._api._MagickColorCollection_DisposeList(g)}})}),a}inverseContrast=()=>this._contrast(!1);inverseLevel(a,o,i,g){const m=this.valueOrDefault(i,1),f=this.valueOrDefault(g,X.Composite);this.useExceptionPointer(M=>{l._api._MagickImage_InverseLevel(this._instance,a.toDouble(),o._toQuantum(),m,f,M)})}inverseOpaque=(a,o)=>this._opaque(a,o,!0);inverseSigmoidalContrast(a,o,i){this._sigmoidalContrast(!1,a,o,i)}inverseTransparent=a=>this._transparent(a,!0);level(a,o,i,g){const m=this.valueOrDefault(i,1),f=this.valueOrDefault(g,X.Composite);this.useExceptionPointer(M=>{l._api._MagickImage_Level(this._instance,a.toDouble(),o._toQuantum(),m,f,M)})}linearStretch(a,o){this.useExceptionPointer(i=>{l._api._MagickImage_LinearStretch(this._instance,a.toDouble(),o._toQuantum(),i)})}liquidRescale(a,o){const i=typeof a=="number"?new _e(a,o):a;this.useException(g=>{A(i.toString(),m=>{const f=l._api._MagickImage_LiquidRescale(this._instance,m,i.x,i.y,g.ptr);this._setInstance(f,g)})})}negate(a){this.useExceptionPointer(o=>{const i=this.valueOrDefault(a,X.Undefined);l._api._MagickImage_Negate(this._instance,0,i,o)})}negateGrayScale(a){this.useExceptionPointer(o=>{const i=this.valueOrDefault(a,X.Undefined);l._api._MagickImage_Negate(this._instance,1,i,o)})}normalize(){this.useExceptionPointer(a=>{l._api._MagickImage_Normalize(this._instance,a)})}modulate(a,o,i){const g=this.valueOrDefault(o,new Z(100)),m=this.valueOrDefault(i,new Z(100));this.useExceptionPointer(f=>{const M=`${a.toDouble()}/${g.toDouble()}/${m.toDouble()}`;A(M,y=>{l._api._MagickImage_Modulate(this._instance,y,f)})})}morphology(a){this.useException(o=>{A(a.kernel,i=>{const g=l._api._MagickImage_Morphology(this._instance,a.method,i,a.channels,a.iterations,o.ptr);this._setInstance(g,o)})})}motionBlur(a,o,i){this.useException(g=>{const m=l._api._MagickImage_MotionBlur(this._instance,a,o,i,g.ptr);this._setInstance(m,g)})}oilPaint(a){const o=this.valueOrDefault(a,3),i=0;this.useException(g=>{const m=l._api._MagickImage_OilPaint(this._instance,o,i,g.ptr);this._setInstance(m,g)})}opaque=(a,o)=>this._opaque(a,o,!1);ping(a,o){this.readOrPing(!0,a,o)}perceptualHash(a){const o=this.valueOrDefault(a,fe._defaultColorspaces());return fe._validateColorSpaces(o),De.use(this,i=>{const g=o.map(m=>jt[m]).join(",");return i.setArtifact("phash:colorspaces",g),this.useExceptionPointer(m=>{const f=l._api._MagickImage_PerceptualHash(this._instance,m);return fe._create(this,o,f)})})}quantize(a){const o=this.valueOrDefault(a,new Dt);return this.useException(i=>{o._use(g=>{l._api._MagickImage_Quantize(this._instance,g._instance,i.ptr)})}),o.measureErrors?_t._create(this):null}read(a,o,i){this.readOrPing(!1,a,o,i)}readFromCanvas(a,o){const i=a.getContext("2d",o);if(i===null)return;const g=i.getImageData(0,0,a.width,a.height),m=new Se;m.format=Ce.Rgba,m.width=a.width,m.height=a.height,this.useException(f=>{this.readFromArray(g.data,m,f)})}removeArtifact(a){A(a,o=>{l._api._MagickImage_RemoveArtifact(this._instance,o)})}removeAttribute(a){A(a,o=>{l._api._MagickImage_RemoveAttribute(this._instance,o)})}removeProfile(a){const o=typeof a=="string"?a:a.name;A(o,i=>{l._api._MagickImage_RemoveProfile(this._instance,i)})}removeWriteMask(){this.useExceptionPointer(a=>{l._api._MagickImage_SetWriteMask(this._instance,0,a)})}resetPage(){this.page=new _e(0,0,0,0)}resize(a,o){const i=typeof a=="number"?new _e(a,o):a;this.useException(g=>{A(i.toString(),m=>{const f=l._api._MagickImage_Resize(this._instance,m,g.ptr);this._setInstance(f,g)})})}rotate(a){this.useException(o=>{const i=l._api._MagickImage_Rotate(this._instance,a,o.ptr);this._setInstance(i,o)})}separate(a,o){return this.useException(i=>{let g,m=X.Undefined;if(typeof a=="number"&&o!==void 0)m=a,g=o;else if(typeof a=="function")g=a;else throw new z("invalid arguments");const f=l._api._MagickImage_Separate(this._instance,m,i.ptr);return ve._createFromImages(f,this._settings)._use(g)})}sepiaTone(a=new Z(80)){this.useException(o=>{const i=typeof a=="number"?new Z(a):a,g=l._api._MagickImage_SepiaTone(this._instance,i._toQuantum(),o.ptr);this._setInstance(g,o)})}setArtifact(a,o){let i;typeof o=="string"?i=o:typeof o=="boolean"?i=this.fromBool(o).toString():i=o.toString(),A(a,g=>{A(i,m=>{l._api._MagickImage_SetArtifact(this._instance,g,m)})})}setAttribute(a,o){this.useException(i=>{A(a,g=>{A(o,m=>{l._api._MagickImage_SetAttribute(this._instance,g,m,i.ptr)})})})}setProfile(a,o){const i=typeof a=="string"?a:a.name;let g;o!==void 0?g=o:typeof a!="string"&&(g=a.data),this.useException(m=>{A(i,f=>{Li(g,M=>{l._api._MagickImage_SetProfile(this._instance,f,M,g.byteLength,m.ptr)})})})}setWriteMask(a){this.useExceptionPointer(o=>{l._api._MagickImage_SetWriteMask(this._instance,a._instance,o)})}sharpen(a,o,i){const g=this.valueOrDefault(a,0),m=this.valueOrDefault(o,1),f=this.valueOrDefault(i,X.Undefined);this.useException(M=>{const y=l._api._MagickImage_Sharpen(this._instance,g,m,f,M.ptr);this._setInstance(y,M)})}shave(a,o){this.useException(i=>{const g=l._api._MagickImage_Shave(this._instance,a,o,i.ptr);this._setInstance(g,i)})}sigmoidalContrast(a,o,i){this._sigmoidalContrast(!0,a,o,i)}solarize(a=new Z(50)){this.useException(o=>{const i=typeof a=="number"?new Z(a):a;l._api._MagickImage_Solarize(this._instance,i._toQuantum(),o.ptr)})}splice(a){Bi.use(this,a,o=>{this.useException(i=>{const g=l._api._MagickImage_Splice(this._instance,o,i.ptr);this._setInstance(g,i)})})}statistics(a){const o=this.valueOrDefault(a,X.All);return this.useExceptionPointer(i=>{const g=l._api._MagickImage_Statistics(this._instance,o,i),m=Pt._create(this,g,o);return l._api._Statistics_DisposeList(g),m})}strip(){this.useExceptionPointer(a=>{l._api._MagickImage_Strip(this._instance,a)})}transformColorSpace(a,o,i){const g=a;let m,f=Xt.Quantum;o!==void 0&&(typeof o=="number"?f=o:m=o),i!==void 0&&(f=i);const M=this.hasProfile("icc")||this.hasProfile("icm");if(m===void 0){if(!M)return!1;m=g}else{if(g.colorSpace!==this.colorSpace)return!1;M||this.setProfile(g)}return f===Xt.Quantum?De.use(this,y=>{y.setArtifact("profile:highres-transform",!1),this.setProfile(m)}):this.setProfile(m),!0}threshold(a,o){const i=this.valueOrDefault(o,X.Undefined);this.useExceptionPointer(g=>{l._api._MagickImage_Threshold(this._instance,a._toQuantum(),i,g)})}thumbnail(a,o){const i=typeof a=="number"?new _e(a,o):a;this.useException(g=>{A(i.toString(),m=>{const f=l._api._MagickImage_Thumbnail(this._instance,m,g.ptr);this._setInstance(f,g)})})}toString=()=>`${this.format} ${this.width}x${this.height} ${this.depth}-bit ${jt[this.colorSpace]}`;transparent(a){a._use(o=>{this.useExceptionPointer(i=>{l._api._MagickImage_Transparent(this._instance,o,0,i)})})}trim(...a){if(a.length>0)if(a.length==1&&a[0]instanceof Z){const o=a[0];this.setArtifact("trim:percent-background",o.toDouble().toString())}else{const o=a,i=[...new Set(Fi(o))].join(",");this.setArtifact("trim:edges",i)}this.useException(o=>{const i=l._api._MagickImage_Trim(this._instance,o.ptr);this._setInstance(i,o),this.removeArtifact("trim:edges"),this.removeArtifact("trim:percent-background")})}wave(a,o,i){const g=this.valueOrDefault(a,this.interpolate),m=this.valueOrDefault(o,25),f=this.valueOrDefault(i,150);this.useException(M=>{const y=l._api._MagickImage_Wave(this._instance,g,m,f,M.ptr);this._setInstance(y,M)})}vignette(a,o,i,g){const m=this.valueOrDefault(a,0),f=this.valueOrDefault(o,1),M=this.valueOrDefault(i,0),y=this.valueOrDefault(g,0);this.useException(F=>{const N=l._api._MagickImage_Vignette(this._instance,m,f,M,y,F.ptr);this._setInstance(N,F)})}whiteThreshold(a,o){const i=this.valueOrDefault(o,X.Composite);this.useException(g=>{A(a.toString(),m=>{l._api._MagickImage_WhiteThreshold(this._instance,m,i,g.ptr)})})}write(a,o){let i=0,g=0;o!==void 0?this._settings.format=a:o=a,this.useException(f=>{ye.use(M=>{this._settings._use(y=>{try{i=l._api._MagickImage_WriteBlob(this._instance,y._instance,M.ptr,f.ptr),g=M.value}catch{i!==0&&(i=l._api._MagickMemory_Relinquish(i))}})})});const m=new Ai(i,g,o);return le._disposeAfterExecution(m,m.func)}writeToCanvas(a,o){a.width=this.width,a.height=this.height;const i=a.getContext("2d",o);i!==null&&$e._map(this,"RGBA",g=>{const m=i.createImageData(this.width,this.height);let f=0;for(let M=0;M<this.height;M++)for(let y=0;y<this.width;y++)m.data[f++]=l._api.HEAPU8[g++],m.data[f++]=l._api.HEAPU8[g++],m.data[f++]=l._api.HEAPU8[g++],m.data[f++]=l._api.HEAPU8[g++];i.putImageData(m,0,0)})}static _createFromImage(a,o){return new te(a,o)}_channelOffset(a){return l._api._MagickImage_HasChannel(this._instance,a)?l._api._MagickImage_ChannelOffset(this._instance,a):-1}static _clone(a){return b.usePointer(o=>new te(l._api._MagickImage_Clone(a._instance,o),a._settings._clone()))}_getSettings(){return this._settings}_instanceNotInitialized(){throw new z("no image has been read")}_setInstance(a,o){if(super._setInstance(a,o)===!0||a===0&&this.onProgress!==void 0)return!0;throw new z("out of memory")}_use(a){return le._disposeAfterExecution(this,a)}static _create(a){return te.create()._use(a)}onDispose(){this.disposeProgressDelegate()}_contrast(a){this.useExceptionPointer(o=>{l._api._MagickImage_Contrast(this._instance,this.fromBool(a),o)})}_getProfile(a){return A(a,o=>{const i=l._api._MagickImage_GetProfile(this._instance,o),g=ga.toArray(i);return g===null?null:g})}_opaque(a,o,i){this.useExceptionPointer(g=>{a._use(m=>{o._use(f=>{l._api._MagickImage_Opaque(this._instance,m,f,this.fromBool(i),g)})})})}_sigmoidalContrast(a,o,i,g){let m;i!==void 0?typeof i=="number"?m=i:m=i.multiply(Fe.max):m=Fe.max*.5;const f=this.valueOrDefault(g,X.Undefined);this.useExceptionPointer(M=>{l._api._MagickImage_SigmoidalContrast(this._instance,this.fromBool(a),o,m,f,M)})}_transparent(a,o){a._use(i=>{this.useExceptionPointer(g=>{l._api._MagickImage_Transparent(this._instance,i,this.fromBool(o),g)})})}static createInstance(){return b.usePointer(a=>l._api._MagickImage_Create(0,a))}fromBool(a){return a?1:0}disposeProgressDelegate(){oe.removeProgressDelegate(this),this._progress=void 0}readOrPing(a,o,i,g){this.useException(m=>{const f=i instanceof Se?i:new Se(this._settings);if(f._ping=a,this._settings._ping=a,f.frameCount!==void 0&&f.frameCount>1)throw new z("The frame count can only be set to 1 when a single image is being read.");if(typeof o=="string")f._fileName=o;else if(ze(o)){this.readFromArray(o,f,m);return}else f._fileName="xc:"+o.toShortString(),f.width=typeof i=="number"?i:0,f.height=typeof g=="number"?g:0;f._use(M=>{const y=l._api._MagickImage_ReadFile(M._instance,m.ptr);this._setInstance(y,m)})})}readFromArray(a,o,i){o._use(g=>{Li(a,m=>{const f=l._api._MagickImage_ReadBlob(g._instance,m,0,a.byteLength,i.ptr);this._setInstance(f,i)})})}toBool(a){return a===1}valueOrDefault(a,o){return a===void 0?o:a}valueOrComputedDefault(a,o){return a===void 0?o():a}useException(a){return b.use(a,o=>{this.onWarning!==void 0&&this.onWarning(new Kt(o))})}useExceptionPointer(a){return b.usePointer(a,o=>{this.onWarning!==void 0&&this.onWarning(new Kt(o))})}}var ua=(()=>{var S=typeof document<"u"?document.currentScript?.src:void 0;return function(a={}){var o,i=a,g,m,f=new Promise((e,t)=>{g=e,m=t}),M=typeof window=="object",y=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer",(!globalThis.crypto||!globalThis.crypto.getRandomValues)&&(globalThis.crypto={getRandomValues:e=>{for(let t=0;t<e.length;t++)e[t]=Math.random()*256|0}});var F=Object.assign({},i),N="./this.program",ee=(e,t)=>{throw t},ie="";function ct(e){return i.locateFile?i.locateFile(e,ie):ie+e}var Ue,Ke;(M||y)&&(y?ie=self.location.href:typeof document<"u"&&document.currentScript&&(ie=document.currentScript.src),S&&(ie=S),ie.startsWith("blob:")?ie="":ie=ie.substr(0,ie.replace(/[?#].*/,"").lastIndexOf("/")+1),y&&(Ke=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Ue=async e=>{if(pr(e))return new Promise((r,n)=>{var _=new XMLHttpRequest;_.open("GET",e,!0),_.responseType="arraybuffer",_.onload=()=>{if(_.status==200||_.status==0&&_.response){r(_.response);return}n(_.status)},_.onerror=n,_.send(null)});var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw new Error(t.status+" : "+t.url)});var Zt=i.print||console.log.bind(console),Be=i.printErr||console.error.bind(console);Object.assign(i,F),F=null,i.arguments&&i.arguments,i.thisProgram&&(N=i.thisProgram);var Tt=i.wasmBinary,bt,ei=!1,q,se,he,lt,E,W,Gt,ce,lr,At;function gr(){var e=bt.buffer;i.HEAP8=q=new Int8Array(e),i.HEAP16=he=new Int16Array(e),i.HEAPU8=se=new Uint8Array(e),i.HEAPU16=lt=new Uint16Array(e),i.HEAP32=E=new Int32Array(e),i.HEAPU32=W=new Uint32Array(e),i.HEAPF32=Gt=new Float32Array(e),i.HEAPF64=At=new Float64Array(e),i.HEAP64=ce=new BigInt64Array(e),i.HEAPU64=lr=new BigUint64Array(e)}var ur=[],hr=[],dr=[];function $a(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Ya(i.preRun.shift());ri(ur)}function Ua(){!i.noFSInit&&!u.initialized&&u.init(),u.ignorePermissions=!1,ri(hr)}function ja(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)Xa(i.postRun.shift());ri(dr)}function Ya(e){ur.unshift(e)}function Va(e){hr.unshift(e)}function Xa(e){dr.unshift(e)}var je=0,gt=null;function mr(e){je++,i.monitorRunDependencies?.(je)}function ti(e){if(je--,i.monitorRunDependencies?.(je),je==0&&gt){var t=gt;gt=null,t()}}function Je(e){i.onAbort?.(e),e="Aborted("+e+")",Be(e),ei=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw m(t),t}var qa="data:application/octet-stream;base64,",fr=e=>e.startsWith(qa),pr=e=>e.startsWith("file://");function Oa(){var e="magick.wasm";return fr(e)?e:ct(e)}var ii;function Qa(e){if(e==ii&&Tt)return new Uint8Array(Tt);if(Ke)return Ke(e);throw"both async and sync fetching of the wasm failed"}async function Ka(e){if(!Tt)try{var t=await Ue(e);return new Uint8Array(t)}catch{}return Qa(e)}async function Ja(e,t){try{var r=await Ka(e),n=await WebAssembly.instantiate(r,t);return n}catch(_){Be(`failed to asynchronously prepare wasm: ${_}`),Je(_)}}async function Za(e,t,r){if(!e&&typeof WebAssembly.instantiateStreaming=="function"&&!fr(t)&&!pr(t)&&typeof fetch=="function")try{var n=fetch(t,{credentials:"same-origin"}),_=await WebAssembly.instantiateStreaming(n,r);return _}catch(c){Be(`wasm streaming compile failed: ${c}`),Be("falling back to ArrayBuffer instantiation")}return Ja(t,r)}function en(){return{a:zs}}async function tn(){function e(_,c){return s=_.exports,s=M_(s),bt=s.ab,gr(),Ye=s.vb,Va(s.bb),ti(),s}mr();function t(_){e(_.instance)}var r=en();if(i.instantiateWasm)try{return i.instantiateWasm(r,e)}catch(_){Be(`Module.instantiateWasm callback failed with error: ${_}`),m(_)}ii??=Oa();try{var n=await Za(Tt,ii,r);return t(n),n}catch(_){m(_);return}}class rn{name="ExitStatus";constructor(t){this.message=`Program terminated with exit(${t})`,this.status=t}}var ri=e=>{for(;e.length>0;)e.shift()(i)};function an(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":return q[e>>>0];case"i8":return q[e>>>0];case"i16":return he[e>>>1>>>0];case"i32":return E[e>>>2>>>0];case"i64":return ce[e>>>3];case"float":return Gt[e>>>2>>>0];case"double":return At[e>>>3>>>0];case"*":return W[e>>>2>>>0];default:Je(`invalid type for getValue: ${t}`)}}var Mr=i.noExitRuntime||!0;function nn(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":q[e>>>0]=t;break;case"i8":q[e>>>0]=t;break;case"i16":he[e>>>1>>>0]=t;break;case"i32":E[e>>>2>>>0]=t;break;case"i64":ce[e>>>3]=BigInt(t);break;case"float":Gt[e>>>2>>>0]=t;break;case"double":At[e>>>3>>>0]=t;break;case"*":W[e>>>2>>>0]=t;break;default:Je(`invalid type for setValue: ${r}`)}}var $=e=>Zr(e),U=()=>ea(),on=9007199254740992,sn=-9007199254740992,Ee=e=>e<sn||e>on?NaN:Number(e),ut=[],Ye,B=e=>{var t=ut[e];return t||(e>=ut.length&&(ut.length=e+1),ut[e]=t=Ye.get(e)),t};function _n(e,t){return e>>>=0,B(e)(t)}var Ze=0;class kr{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){W[this.ptr+4>>>2>>>0]=t}get_type(){return W[this.ptr+4>>>2>>>0]}set_destructor(t){W[this.ptr+8>>>2>>>0]=t}get_destructor(){return W[this.ptr+8>>>2>>>0]}set_caught(t){t=t?1:0,q[this.ptr+12>>>0]=t}get_caught(){return q[this.ptr+12>>>0]!=0}set_rethrown(t){t=t?1:0,q[this.ptr+13>>>0]=t}get_rethrown(){return q[this.ptr+13>>>0]!=0}init(t,r){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(r)}set_adjusted_ptr(t){W[this.ptr+16>>>2>>>0]=t}get_adjusted_ptr(){return W[this.ptr+16>>>2>>>0]}}function cn(e){throw e>>>=0,Ze||(Ze=e),Ze}var Rt=e=>Jr(e),ln=e=>{var t=Ze;if(!t)return Rt(0),0;var r=new kr(t);r.set_adjusted_ptr(t);var n=r.get_type();if(!n)return Rt(0),t;for(var _ of e){if(_===0||_===n)break;var c=r.ptr+16;if(ta(_,n,c))return Rt(_),t}return Rt(n),t};function gn(){return ln([])}function un(e,t,r){e>>>=0,t>>>=0,r>>>=0;var n=new kr(e);throw n.init(t,r),Ze=e,Ze}var Y={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:(e,t)=>{for(var r=0,n=e.length-1;n>=0;n--){var _=e[n];_==="."?e.splice(n,1):_===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:e=>{var t=Y.isAbs(e),r=e.substr(-1)==="/";return e=Y.normalizeArray(e.split("/").filter(n=>!!n),!t).join("/"),!e&&!t&&(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=Y.splitPath(e),r=t[0],n=t[1];return!r&&!n?".":(n&&(n=n.substr(0,n.length-1)),r+n)},basename:e=>{if(e==="/")return"/";e=Y.normalize(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},join:(...e)=>Y.normalize(e.join("/")),join2:(e,t)=>Y.normalize(e+"/"+t)},hn=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);Je("initRandomDevice")},ai=e=>(ai=hn())(e),et={resolve:(...e)=>{for(var t="",r=!1,n=e.length-1;n>=-1&&!r;n--){var _=n>=0?e[n]:u.cwd();if(typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";t=_+"/"+t,r=Y.isAbs(_)}return t=Y.normalizeArray(t.split("/").filter(c=>!!c),!r).join("/"),(r?"/":"")+t||"."},relative:(e,t)=>{e=et.resolve(e).substr(1),t=et.resolve(t).substr(1);function r(v){for(var w=0;w<v.length&&v[w]==="";w++);for(var C=v.length-1;C>=0&&v[C]==="";C--);return w>C?[]:v.slice(w,C-w+1)}for(var n=r(e.split("/")),_=r(t.split("/")),c=Math.min(n.length,_.length),h=c,d=0;d<c;d++)if(n[d]!==_[d]){h=d;break}for(var p=[],d=h;d<n.length;d++)p.push("..");return p=p.concat(_.slice(h)),p.join("/")}},Sr=typeof TextDecoder<"u"?new TextDecoder:void 0,tt=(e,t=0,r=NaN)=>{t>>>=0;for(var n=t+r,_=t;e[_]&&!(_>=n);)++_;if(_-t>16&&e.buffer&&Sr)return Sr.decode(e.subarray(t,_));for(var c="";t<_;){var h=e[t++];if(!(h&128)){c+=String.fromCharCode(h);continue}var d=e[t++]&63;if((h&224)==192){c+=String.fromCharCode((h&31)<<6|d);continue}var p=e[t++]&63;if((h&240)==224?h=(h&15)<<12|d<<6|p:h=(h&7)<<18|d<<12|p<<6|e[t++]&63,h<65536)c+=String.fromCharCode(h);else{var v=h-65536;c+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return c},ni=[],it=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},oi=(e,t,r,n)=>{if(r>>>=0,!(n>0))return 0;for(var _=r,c=r+n-1,h=0;h<e.length;++h){var d=e.charCodeAt(h);if(d>=55296&&d<=57343){var p=e.charCodeAt(++h);d=65536+((d&1023)<<10)|p&1023}if(d<=127){if(r>=c)break;t[r++>>>0]=d}else if(d<=2047){if(r+1>=c)break;t[r++>>>0]=192|d>>6,t[r++>>>0]=128|d&63}else if(d<=65535){if(r+2>=c)break;t[r++>>>0]=224|d>>12,t[r++>>>0]=128|d>>6&63,t[r++>>>0]=128|d&63}else{if(r+3>=c)break;t[r++>>>0]=240|d>>18,t[r++>>>0]=128|d>>12&63,t[r++>>>0]=128|d>>6&63,t[r++>>>0]=128|d&63}}return t[r>>>0]=0,r-_};function vr(e,t,r){var n=it(e)+1,_=new Array(n),c=oi(e,_,0,_.length);return _.length=c,_}var dn=()=>{if(!ni.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(e=window.prompt("Input: "),e!==null&&(e+=`
`)),!e)return null;ni=vr(e)}return ni.shift()},Ve={ttys:[],init(){},shutdown(){},register(e,t){Ve.ttys[e]={input:[],output:[],ops:t},u.registerDevice(e,Ve.stream_ops)},stream_ops:{open(e){var t=Ve.ttys[e.node.rdev];if(!t)throw new u.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,r,n,_){if(!e.tty||!e.tty.ops.get_char)throw new u.ErrnoError(60);for(var c=0,h=0;h<n;h++){var d;try{d=e.tty.ops.get_char(e.tty)}catch{throw new u.ErrnoError(29)}if(d===void 0&&c===0)throw new u.ErrnoError(6);if(d==null)break;c++,t[r+h]=d}return c&&(e.node.atime=Date.now()),c},write(e,t,r,n,_){if(!e.tty||!e.tty.ops.put_char)throw new u.ErrnoError(60);try{for(var c=0;c<n;c++)e.tty.ops.put_char(e.tty,t[r+c])}catch{throw new u.ErrnoError(29)}return n&&(e.node.mtime=e.node.ctime=Date.now()),c}},default_tty_ops:{get_char(e){return dn()},put_char(e,t){t===null||t===10?(Zt(tt(e.output)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(Zt(tt(e.output)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,t,r){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,t){t===null||t===10?(Be(tt(e.output)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(Be(tt(e.output)),e.output=[])}}},mn=(e,t)=>{se.fill(0,e,e+t)},wr=(e,t)=>Math.ceil(e/t)*t,Ir=e=>{e=wr(e,65536);var t=Kr(65536,e);return t&&mn(t,e),t},x={ops_table:null,mount(e){return x.createNode(null,"/",16895,0)},createNode(e,t,r,n){if(u.isBlkdev(r)||u.isFIFO(r))throw new u.ErrnoError(63);x.ops_table||={dir:{node:{getattr:x.node_ops.getattr,setattr:x.node_ops.setattr,lookup:x.node_ops.lookup,mknod:x.node_ops.mknod,rename:x.node_ops.rename,unlink:x.node_ops.unlink,rmdir:x.node_ops.rmdir,readdir:x.node_ops.readdir,symlink:x.node_ops.symlink},stream:{llseek:x.stream_ops.llseek}},file:{node:{getattr:x.node_ops.getattr,setattr:x.node_ops.setattr},stream:{llseek:x.stream_ops.llseek,read:x.stream_ops.read,write:x.stream_ops.write,allocate:x.stream_ops.allocate,mmap:x.stream_ops.mmap,msync:x.stream_ops.msync}},link:{node:{getattr:x.node_ops.getattr,setattr:x.node_ops.setattr,readlink:x.node_ops.readlink},stream:{}},chrdev:{node:{getattr:x.node_ops.getattr,setattr:x.node_ops.setattr},stream:u.chrdev_stream_ops}};var _=u.createNode(e,t,r,n);return u.isDir(_.mode)?(_.node_ops=x.ops_table.dir.node,_.stream_ops=x.ops_table.dir.stream,_.contents={}):u.isFile(_.mode)?(_.node_ops=x.ops_table.file.node,_.stream_ops=x.ops_table.file.stream,_.usedBytes=0,_.contents=null):u.isLink(_.mode)?(_.node_ops=x.ops_table.link.node,_.stream_ops=x.ops_table.link.stream):u.isChrdev(_.mode)&&(_.node_ops=x.ops_table.chrdev.node,_.stream_ops=x.ops_table.chrdev.stream),_.atime=_.mtime=_.ctime=Date.now(),e&&(e.contents[t]=_,e.atime=e.mtime=e.ctime=_.atime),_},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){var n=1024*1024;t=Math.max(t,r*(r<n?2:1.125)>>>0),r!=0&&(t=Math.max(t,256));var _=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(_.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(t==0)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=u.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,u.isDir(e.mode)?t.size=4096:u.isFile(e.mode)?t.size=e.usedBytes:u.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.atime),t.mtime=new Date(e.mtime),t.ctime=new Date(e.ctime),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){for(const r of["mode","atime","mtime","ctime"])t[r]&&(e[r]=t[r]);t.size!==void 0&&x.resizeFileStorage(e,t.size)},lookup(e,t){throw x.doesNotExistError},mknod(e,t,r,n){return x.createNode(e,t,r,n)},rename(e,t,r){var n;try{n=u.lookupNode(t,r)}catch{}if(n){if(u.isDir(e.mode))for(var _ in n.contents)throw new u.ErrnoError(55);u.hashRemoveNode(n)}delete e.parent.contents[e.name],t.contents[r]=e,e.name=r,t.ctime=t.mtime=e.parent.ctime=e.parent.mtime=Date.now()},unlink(e,t){delete e.contents[t],e.ctime=e.mtime=Date.now()},rmdir(e,t){var r=u.lookupNode(e,t);for(var n in r.contents)throw new u.ErrnoError(55);delete e.contents[t],e.ctime=e.mtime=Date.now()},readdir(e){return[".","..",...Object.keys(e.contents)]},symlink(e,t,r){var n=x.createNode(e,t,41471,0);return n.link=r,n},readlink(e){if(!u.isLink(e.mode))throw new u.ErrnoError(28);return e.link}},stream_ops:{read(e,t,r,n,_){var c=e.node.contents;if(_>=e.node.usedBytes)return 0;var h=Math.min(e.node.usedBytes-_,n);if(h>8&&c.subarray)t.set(c.subarray(_,_+h),r);else for(var d=0;d<h;d++)t[r+d]=c[_+d];return h},write(e,t,r,n,_,c){if(t.buffer===q.buffer&&(c=!1),!n)return 0;var h=e.node;if(h.mtime=h.ctime=Date.now(),t.subarray&&(!h.contents||h.contents.subarray)){if(c)return h.contents=t.subarray(r,r+n),h.usedBytes=n,n;if(h.usedBytes===0&&_===0)return h.contents=t.slice(r,r+n),h.usedBytes=n,n;if(_+n<=h.usedBytes)return h.contents.set(t.subarray(r,r+n),_),n}if(x.expandFileStorage(h,_+n),h.contents.subarray&&t.subarray)h.contents.set(t.subarray(r,r+n),_);else for(var d=0;d<n;d++)h.contents[_+d]=t[r+d];return h.usedBytes=Math.max(h.usedBytes,_+n),n},llseek(e,t,r){var n=t;if(r===1?n+=e.position:r===2&&u.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new u.ErrnoError(28);return n},allocate(e,t,r){x.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap(e,t,r,n,_){if(!u.isFile(e.node.mode))throw new u.ErrnoError(43);var c,h,d=e.node.contents;if(!(_&2)&&d&&d.buffer===q.buffer)h=!1,c=d.byteOffset;else{if(h=!0,c=Ir(t),!c)throw new u.ErrnoError(48);d&&((r>0||r+t<d.length)&&(d.subarray?d=d.subarray(r,r+t):d=Array.prototype.slice.call(d,r,r+t)),q.set(d,c>>>0))}return{ptr:c,allocated:h}},msync(e,t,r,n,_){return x.stream_ops.write(e,t,0,n,r,!1),0}}},fn=async e=>{var t=await Ue(e);return new Uint8Array(t)},pn=(e,t,r,n,_,c)=>{u.createDataFile(e,t,r,n,_,c)},Mn=i.preloadPlugins||[],kn=(e,t,r,n)=>{typeof Browser<"u"&&Browser.init();var _=!1;return Mn.forEach(c=>{_||c.canHandle(t)&&(c.handle(e,t,r,n),_=!0)}),_},Sn=(e,t,r,n,_,c,h,d,p,v)=>{var w=t?et.resolve(Y.join2(e,t)):e;function C(D){function P(G){v?.(),d||pn(e,t,G,n,_,p),c?.(),ti()}kn(D,w,P,()=>{h?.(),ti()})||P(D)}mr(),typeof r=="string"?fn(r).then(C,h):C(r)},vn=e=>{var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},r=t[e];if(typeof r>"u")throw new Error(`Unknown file open mode: ${e}`);return r},si=(e,t)=>{var r=0;return e&&(r|=365),t&&(r|=146),r},u={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{name="ErrnoError";constructor(e){this.errno=e}},filesystems:null,syncFSRequests:0,readFiles:{},FSStream:class{shared={};get object(){return this.node}set object(e){this.node=e}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.id=u.nextInode++,this.name=t,this.mode=r,this.rdev=n,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return u.isDir(this.mode)}get isDevice(){return u.isChrdev(this.mode)}},lookupPath(e,t={}){if(!e)return{path:"",node:null};t.follow_mount??=!0,Y.isAbs(e)||(e=u.cwd()+"/"+e);e:for(var r=0;r<40;r++){for(var n=e.split("/").filter(v=>!!v&&v!=="."),_=u.root,c="/",h=0;h<n.length;h++){var d=h===n.length-1;if(d&&t.parent)break;if(n[h]===".."){c=Y.dirname(c),_=_.parent;continue}c=Y.join2(c,n[h]);try{_=u.lookupNode(_,n[h])}catch(v){if(v?.errno===44&&d&&t.noent_okay)return{path:c};throw v}if(u.isMountpoint(_)&&(!d||t.follow_mount)&&(_=_.mounted.root),u.isLink(_.mode)&&(!d||t.follow)){if(!_.node_ops.readlink)throw new u.ErrnoError(52);var p=_.node_ops.readlink(_);Y.isAbs(p)||(p=Y.dirname(c)+"/"+p),e=p+"/"+n.slice(h+1).join("/");continue e}}return{path:c,node:_}}throw new u.ErrnoError(32)},getPath(e){for(var t;;){if(u.isRoot(e)){var r=e.mount.mountpoint;return t?r[r.length-1]!=="/"?`${r}/${t}`:r+t:r}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%u.nameTable.length},hashAddNode(e){var t=u.hashName(e.parent.id,e.name);e.name_next=u.nameTable[t],u.nameTable[t]=e},hashRemoveNode(e){var t=u.hashName(e.parent.id,e.name);if(u.nameTable[t]===e)u.nameTable[t]=e.name_next;else for(var r=u.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode(e,t){var r=u.mayLookup(e);if(r)throw new u.ErrnoError(r);for(var n=u.hashName(e.id,t),_=u.nameTable[n];_;_=_.name_next){var c=_.name;if(_.parent.id===e.id&&c===t)return _}return u.lookup(e,t)},createNode(e,t,r,n){var _=new u.FSNode(e,t,r,n);return u.hashAddNode(_),_},destroyNode(e){u.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},nodePermissions(e,t){return u.ignorePermissions?0:t.includes("r")&&!(e.mode&292)||t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){if(!u.isDir(e.mode))return 54;var t=u.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate(e,t){if(!u.isDir(e.mode))return 54;try{var r=u.lookupNode(e,t);return 20}catch{}return u.nodePermissions(e,"wx")},mayDelete(e,t,r){var n;try{n=u.lookupNode(e,t)}catch(c){return c.errno}var _=u.nodePermissions(e,"wx");if(_)return _;if(r){if(!u.isDir(n.mode))return 54;if(u.isRoot(n)||u.getPath(n)===u.cwd())return 10}else if(u.isDir(n.mode))return 31;return 0},mayOpen(e,t){return e?u.isLink(e.mode)?32:u.isDir(e.mode)&&(u.flagsToPermissionString(t)!=="r"||t&512)?31:u.nodePermissions(e,u.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=u.MAX_OPEN_FDS;e++)if(!u.streams[e])return e;throw new u.ErrnoError(33)},getStreamChecked(e){var t=u.getStream(e);if(!t)throw new u.ErrnoError(8);return t},getStream:e=>u.streams[e],createStream(e,t=-1){return e=Object.assign(new u.FSStream,e),t==-1&&(t=u.nextfd()),e.fd=t,u.streams[t]=e,e},closeStream(e){u.streams[e]=null},dupStream(e,t=-1){var r=u.createStream(e,t);return r.stream_ops?.dup?.(r),r},chrdev_stream_ops:{open(e){var t=u.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open?.(e)},llseek(){throw new u.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,t)=>e<<8|t,registerDevice(e,t){u.devices[e]={stream_ops:t}},getDevice:e=>u.devices[e],getMounts(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push(...n.mounts)}return t},syncfs(e,t){typeof e=="function"&&(t=e,e=!1),u.syncFSRequests++,u.syncFSRequests>1&&Be(`warning: ${u.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var r=u.getMounts(u.root.mount),n=0;function _(h){return u.syncFSRequests--,t(h)}function c(h){if(h)return c.errored?void 0:(c.errored=!0,_(h));++n>=r.length&&_(null)}r.forEach(h=>{if(!h.type.syncfs)return c(null);h.type.syncfs(h,e,c)})},mount(e,t,r){var n=r==="/",_=!r,c;if(n&&u.root)throw new u.ErrnoError(10);if(!n&&!_){var h=u.lookupPath(r,{follow_mount:!1});if(r=h.path,c=h.node,u.isMountpoint(c))throw new u.ErrnoError(10);if(!u.isDir(c.mode))throw new u.ErrnoError(54)}var d={type:e,opts:t,mountpoint:r,mounts:[]},p=e.mount(d);return p.mount=d,d.root=p,n?u.root=p:c&&(c.mounted=d,c.mount&&c.mount.mounts.push(d)),p},unmount(e){var t=u.lookupPath(e,{follow_mount:!1});if(!u.isMountpoint(t.node))throw new u.ErrnoError(28);var r=t.node,n=r.mounted,_=u.getMounts(n);Object.keys(u.nameTable).forEach(h=>{for(var d=u.nameTable[h];d;){var p=d.name_next;_.includes(d.mount)&&u.destroyNode(d),d=p}}),r.mounted=null;var c=r.mount.mounts.indexOf(n);r.mount.mounts.splice(c,1)},lookup(e,t){return e.node_ops.lookup(e,t)},mknod(e,t,r){var n=u.lookupPath(e,{parent:!0}),_=n.node,c=Y.basename(e);if(!c||c==="."||c==="..")throw new u.ErrnoError(28);var h=u.mayCreate(_,c);if(h)throw new u.ErrnoError(h);if(!_.node_ops.mknod)throw new u.ErrnoError(63);return _.node_ops.mknod(_,c,t,r)},statfs(e){var t={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:u.nextInode,ffree:u.nextInode-1,fsid:42,flags:2,namelen:255},r=u.lookupPath(e,{follow:!0}).node;return r?.node_ops.statfs&&Object.assign(t,r.node_ops.statfs(r.mount.opts.root)),t},create(e,t=438){return t&=4095,t|=32768,u.mknod(e,t,0)},mkdir(e,t=511){return t&=1023,t|=16384,u.mknod(e,t,0)},mkdirTree(e,t){for(var r=e.split("/"),n="",_=0;_<r.length;++_)if(r[_]){n+="/"+r[_];try{u.mkdir(n,t)}catch(c){if(c.errno!=20)throw c}}},mkdev(e,t,r){return typeof r>"u"&&(r=t,t=438),t|=8192,u.mknod(e,t,r)},symlink(e,t){if(!et.resolve(e))throw new u.ErrnoError(44);var r=u.lookupPath(t,{parent:!0}),n=r.node;if(!n)throw new u.ErrnoError(44);var _=Y.basename(t),c=u.mayCreate(n,_);if(c)throw new u.ErrnoError(c);if(!n.node_ops.symlink)throw new u.ErrnoError(63);return n.node_ops.symlink(n,_,e)},rename(e,t){var r=Y.dirname(e),n=Y.dirname(t),_=Y.basename(e),c=Y.basename(t),h,d,p;if(h=u.lookupPath(e,{parent:!0}),d=h.node,h=u.lookupPath(t,{parent:!0}),p=h.node,!d||!p)throw new u.ErrnoError(44);if(d.mount!==p.mount)throw new u.ErrnoError(75);var v=u.lookupNode(d,_),w=et.relative(e,n);if(w.charAt(0)!==".")throw new u.ErrnoError(28);if(w=et.relative(t,r),w.charAt(0)!==".")throw new u.ErrnoError(55);var C;try{C=u.lookupNode(p,c)}catch{}if(v!==C){var D=u.isDir(v.mode),P=u.mayDelete(d,_,D);if(P)throw new u.ErrnoError(P);if(P=C?u.mayDelete(p,c,D):u.mayCreate(p,c),P)throw new u.ErrnoError(P);if(!d.node_ops.rename)throw new u.ErrnoError(63);if(u.isMountpoint(v)||C&&u.isMountpoint(C))throw new u.ErrnoError(10);if(p!==d&&(P=u.nodePermissions(d,"w"),P))throw new u.ErrnoError(P);u.hashRemoveNode(v);try{d.node_ops.rename(v,p,c),v.parent=p}catch(G){throw G}finally{u.hashAddNode(v)}}},rmdir(e){var t=u.lookupPath(e,{parent:!0}),r=t.node,n=Y.basename(e),_=u.lookupNode(r,n),c=u.mayDelete(r,n,!0);if(c)throw new u.ErrnoError(c);if(!r.node_ops.rmdir)throw new u.ErrnoError(63);if(u.isMountpoint(_))throw new u.ErrnoError(10);r.node_ops.rmdir(r,n),u.destroyNode(_)},readdir(e){var t=u.lookupPath(e,{follow:!0}),r=t.node;if(!r.node_ops.readdir)throw new u.ErrnoError(54);return r.node_ops.readdir(r)},unlink(e){var t=u.lookupPath(e,{parent:!0}),r=t.node;if(!r)throw new u.ErrnoError(44);var n=Y.basename(e),_=u.lookupNode(r,n),c=u.mayDelete(r,n,!1);if(c)throw new u.ErrnoError(c);if(!r.node_ops.unlink)throw new u.ErrnoError(63);if(u.isMountpoint(_))throw new u.ErrnoError(10);r.node_ops.unlink(r,n),u.destroyNode(_)},readlink(e){var t=u.lookupPath(e),r=t.node;if(!r)throw new u.ErrnoError(44);if(!r.node_ops.readlink)throw new u.ErrnoError(28);return r.node_ops.readlink(r)},stat(e,t){var r=u.lookupPath(e,{follow:!t}),n=r.node;if(!n)throw new u.ErrnoError(44);if(!n.node_ops.getattr)throw new u.ErrnoError(63);return n.node_ops.getattr(n)},lstat(e){return u.stat(e,!0)},chmod(e,t,r){var n;if(typeof e=="string"){var _=u.lookupPath(e,{follow:!r});n=_.node}else n=e;if(!n.node_ops.setattr)throw new u.ErrnoError(63);n.node_ops.setattr(n,{mode:t&4095|n.mode&-4096,ctime:Date.now()})},lchmod(e,t){u.chmod(e,t,!0)},fchmod(e,t){var r=u.getStreamChecked(e);u.chmod(r.node,t)},chown(e,t,r,n){var _;if(typeof e=="string"){var c=u.lookupPath(e,{follow:!n});_=c.node}else _=e;if(!_.node_ops.setattr)throw new u.ErrnoError(63);_.node_ops.setattr(_,{timestamp:Date.now()})},lchown(e,t,r){u.chown(e,t,r,!0)},fchown(e,t,r){var n=u.getStreamChecked(e);u.chown(n.node,t,r)},truncate(e,t){if(t<0)throw new u.ErrnoError(28);var r;if(typeof e=="string"){var n=u.lookupPath(e,{follow:!0});r=n.node}else r=e;if(!r.node_ops.setattr)throw new u.ErrnoError(63);if(u.isDir(r.mode))throw new u.ErrnoError(31);if(!u.isFile(r.mode))throw new u.ErrnoError(28);var _=u.nodePermissions(r,"w");if(_)throw new u.ErrnoError(_);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate(e,t){var r=u.getStreamChecked(e);if(!(r.flags&2097155))throw new u.ErrnoError(28);u.truncate(r.node,t)},utime(e,t,r){var n=u.lookupPath(e,{follow:!0}),_=n.node;_.node_ops.setattr(_,{atime:t,mtime:r})},open(e,t,r=438){if(e==="")throw new u.ErrnoError(44);t=typeof t=="string"?vn(t):t,t&64?r=r&4095|32768:r=0;var n;if(typeof e=="object")n=e;else{var _=u.lookupPath(e,{follow:!(t&131072),noent_okay:!0});n=_.node,e=_.path}var c=!1;if(t&64)if(n){if(t&128)throw new u.ErrnoError(20)}else n=u.mknod(e,r,0),c=!0;if(!n)throw new u.ErrnoError(44);if(u.isChrdev(n.mode)&&(t&=-513),t&65536&&!u.isDir(n.mode))throw new u.ErrnoError(54);if(!c){var h=u.mayOpen(n,t);if(h)throw new u.ErrnoError(h)}t&512&&!c&&u.truncate(n,0),t&=-131713;var d=u.createStream({node:n,path:u.getPath(n),flags:t,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return d.stream_ops.open&&d.stream_ops.open(d),i.logReadFiles&&!(t&1)&&(e in u.readFiles||(u.readFiles[e]=1)),d},close(e){if(u.isClosed(e))throw new u.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{u.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,t,r){if(u.isClosed(e))throw new u.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new u.ErrnoError(70);if(r!=0&&r!=1&&r!=2)throw new u.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read(e,t,r,n,_){if(n<0||_<0)throw new u.ErrnoError(28);if(u.isClosed(e))throw new u.ErrnoError(8);if((e.flags&2097155)===1)throw new u.ErrnoError(8);if(u.isDir(e.node.mode))throw new u.ErrnoError(31);if(!e.stream_ops.read)throw new u.ErrnoError(28);var c=typeof _<"u";if(!c)_=e.position;else if(!e.seekable)throw new u.ErrnoError(70);var h=e.stream_ops.read(e,t,r,n,_);return c||(e.position+=h),h},write(e,t,r,n,_,c){if(n<0||_<0)throw new u.ErrnoError(28);if(u.isClosed(e))throw new u.ErrnoError(8);if(!(e.flags&2097155))throw new u.ErrnoError(8);if(u.isDir(e.node.mode))throw new u.ErrnoError(31);if(!e.stream_ops.write)throw new u.ErrnoError(28);e.seekable&&e.flags&1024&&u.llseek(e,0,2);var h=typeof _<"u";if(!h)_=e.position;else if(!e.seekable)throw new u.ErrnoError(70);var d=e.stream_ops.write(e,t,r,n,_,c);return h||(e.position+=d),d},allocate(e,t,r){if(u.isClosed(e))throw new u.ErrnoError(8);if(t<0||r<=0)throw new u.ErrnoError(28);if(!(e.flags&2097155))throw new u.ErrnoError(8);if(!u.isFile(e.node.mode)&&!u.isDir(e.node.mode))throw new u.ErrnoError(43);if(!e.stream_ops.allocate)throw new u.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap(e,t,r,n,_){if(n&2&&!(_&2)&&(e.flags&2097155)!==2)throw new u.ErrnoError(2);if((e.flags&2097155)===1)throw new u.ErrnoError(2);if(!e.stream_ops.mmap)throw new u.ErrnoError(43);if(!t)throw new u.ErrnoError(28);return e.stream_ops.mmap(e,t,r,n,_)},msync(e,t,r,n,_){return e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,_):0},ioctl(e,t,r){if(!e.stream_ops.ioctl)throw new u.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile(e,t={}){if(t.flags=t.flags||0,t.encoding=t.encoding||"binary",t.encoding!=="utf8"&&t.encoding!=="binary")throw new Error(`Invalid encoding type "${t.encoding}"`);var r,n=u.open(e,t.flags),_=u.stat(e),c=_.size,h=new Uint8Array(c);return u.read(n,h,0,c,0),t.encoding==="utf8"?r=tt(h):t.encoding==="binary"&&(r=h),u.close(n),r},writeFile(e,t,r={}){r.flags=r.flags||577;var n=u.open(e,r.flags,r.mode);if(typeof t=="string"){var _=new Uint8Array(it(t)+1),c=oi(t,_,0,_.length);u.write(n,_,0,c,void 0,r.canOwn)}else if(ArrayBuffer.isView(t))u.write(n,t,0,t.byteLength,void 0,r.canOwn);else throw new Error("Unsupported data type");u.close(n)},cwd:()=>u.currentPath,chdir(e){var t=u.lookupPath(e,{follow:!0});if(t.node===null)throw new u.ErrnoError(44);if(!u.isDir(t.node.mode))throw new u.ErrnoError(54);var r=u.nodePermissions(t.node,"x");if(r)throw new u.ErrnoError(r);u.currentPath=t.path},createDefaultDirectories(){u.mkdir("/tmp"),u.mkdir("/home"),u.mkdir("/home/web_user")},createDefaultDevices(){u.mkdir("/dev"),u.registerDevice(u.makedev(1,3),{read:()=>0,write:(n,_,c,h,d)=>h,llseek:()=>0}),u.mkdev("/dev/null",u.makedev(1,3)),Ve.register(u.makedev(5,0),Ve.default_tty_ops),Ve.register(u.makedev(6,0),Ve.default_tty1_ops),u.mkdev("/dev/tty",u.makedev(5,0)),u.mkdev("/dev/tty1",u.makedev(6,0));var e=new Uint8Array(1024),t=0,r=()=>(t===0&&(t=ai(e).byteLength),e[--t]);u.createDevice("/dev","random",r),u.createDevice("/dev","urandom",r),u.mkdir("/dev/shm"),u.mkdir("/dev/shm/tmp")},createSpecialDirectories(){u.mkdir("/proc");var e=u.mkdir("/proc/self");u.mkdir("/proc/self/fd"),u.mount({mount(){var t=u.createNode(e,"fd",16895,73);return t.stream_ops={llseek:x.stream_ops.llseek},t.node_ops={lookup(r,n){var _=+n,c=u.getStreamChecked(_),h={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>c.path},id:_+1};return h.parent=h,h},readdir(){return Array.from(u.streams.entries()).filter(([r,n])=>n).map(([r,n])=>r.toString())}},t}},{},"/proc/self/fd")},createStandardStreams(e,t,r){e?u.createDevice("/dev","stdin",e):u.symlink("/dev/tty","/dev/stdin"),t?u.createDevice("/dev","stdout",null,t):u.symlink("/dev/tty","/dev/stdout"),r?u.createDevice("/dev","stderr",null,r):u.symlink("/dev/tty1","/dev/stderr"),u.open("/dev/stdin",0),u.open("/dev/stdout",1),u.open("/dev/stderr",1)},staticInit(){u.nameTable=new Array(4096),u.mount(x,{},"/"),u.createDefaultDirectories(),u.createDefaultDevices(),u.createSpecialDirectories(),u.filesystems={MEMFS:x}},init(e,t,r){u.initialized=!0,e??=i.stdin,t??=i.stdout,r??=i.stderr,u.createStandardStreams(e,t,r)},quit(){u.initialized=!1;for(var e=0;e<u.streams.length;e++){var t=u.streams[e];t&&u.close(t)}},findObject(e,t){var r=u.analyzePath(e,t);return r.exists?r.object:null},analyzePath(e,t){try{var r=u.lookupPath(e,{follow:!t});e=r.path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=u.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=Y.basename(e),r=u.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot=r.path==="/"}catch(_){n.error=_.errno}return n},createPath(e,t,r,n){e=typeof e=="string"?e:u.getPath(e);for(var _=t.split("/").reverse();_.length;){var c=_.pop();if(c){var h=Y.join2(e,c);try{u.mkdir(h)}catch{}e=h}}return h},createFile(e,t,r,n,_){var c=Y.join2(typeof e=="string"?e:u.getPath(e),t),h=si(n,_);return u.create(c,h)},createDataFile(e,t,r,n,_,c){var h=t;e&&(e=typeof e=="string"?e:u.getPath(e),h=t?Y.join2(e,t):e);var d=si(n,_),p=u.create(h,d);if(r){if(typeof r=="string"){for(var v=new Array(r.length),w=0,C=r.length;w<C;++w)v[w]=r.charCodeAt(w);r=v}u.chmod(p,d|146);var D=u.open(p,577);u.write(D,r,0,r.length,0,c),u.close(D),u.chmod(p,d)}},createDevice(e,t,r,n){var _=Y.join2(typeof e=="string"?e:u.getPath(e),t),c=si(!!r,!!n);u.createDevice.major??=64;var h=u.makedev(u.createDevice.major++,0);return u.registerDevice(h,{open(d){d.seekable=!1},close(d){n?.buffer?.length&&n(10)},read(d,p,v,w,C){for(var D=0,P=0;P<w;P++){var G;try{G=r()}catch{throw new u.ErrnoError(29)}if(G===void 0&&D===0)throw new u.ErrnoError(6);if(G==null)break;D++,p[v+P]=G}return D&&(d.node.atime=Date.now()),D},write(d,p,v,w,C){for(var D=0;D<w;D++)try{n(p[v+D])}catch{throw new u.ErrnoError(29)}return w&&(d.node.mtime=d.node.ctime=Date.now()),D}}),u.mkdev(_,c,h)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=Ke(e.url),e.usedBytes=e.contents.length}catch{throw new u.ErrnoError(29)}},createLazyFile(e,t,r,n,_){class c{lengthKnown=!1;chunks=[];get(P){if(!(P>this.length-1||P<0)){var G=P%this.chunkSize,V=P/this.chunkSize|0;return this.getter(V)[G]}}setDataGetter(P){this.getter=P}cacheLength(){var P=new XMLHttpRequest;if(P.open("HEAD",r,!1),P.send(null),!(P.status>=200&&P.status<300||P.status===304))throw new Error("Couldn't load "+r+". Status: "+P.status);var G=Number(P.getResponseHeader("Content-length")),V,ae=(V=P.getResponseHeader("Accept-Ranges"))&&V==="bytes",K=(V=P.getResponseHeader("Content-Encoding"))&&V==="gzip",ne=1024*1024;ae||(ne=G);var O=(me,Re)=>{if(me>Re)throw new Error("invalid range ("+me+", "+Re+") or no bytes requested!");if(Re>G-1)throw new Error("only "+G+" bytes available! programmer error!");var J=new XMLHttpRequest;if(J.open("GET",r,!1),G!==ne&&J.setRequestHeader("Range","bytes="+me+"-"+Re),J.responseType="arraybuffer",J.overrideMimeType&&J.overrideMimeType("text/plain; charset=x-user-defined"),J.send(null),!(J.status>=200&&J.status<300||J.status===304))throw new Error("Couldn't load "+r+". Status: "+J.status);return J.response!==void 0?new Uint8Array(J.response||[]):vr(J.responseText||"")},qe=this;qe.setDataGetter(me=>{var Re=me*ne,J=(me+1)*ne-1;if(J=Math.min(J,G-1),typeof qe.chunks[me]>"u"&&(qe.chunks[me]=O(Re,J)),typeof qe.chunks[me]>"u")throw new Error("doXHR failed!");return qe.chunks[me]}),(K||!G)&&(ne=G=1,G=this.getter(0).length,ne=G,Zt("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=G,this._chunkSize=ne,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var h=new c,d={isDevice:!1,contents:h}}else var d={isDevice:!1,url:r};var p=u.createFile(e,t,d,n,_);d.contents?p.contents=d.contents:d.url&&(p.contents=null,p.url=d.url),Object.defineProperties(p,{usedBytes:{get:function(){return this.contents.length}}});var v={},w=Object.keys(p.stream_ops);w.forEach(D=>{var P=p.stream_ops[D];v[D]=(...G)=>(u.forceLoadFile(p),P(...G))});function C(D,P,G,V,ae){var K=D.node.contents;if(ae>=K.length)return 0;var ne=Math.min(K.length-ae,V);if(K.slice)for(var O=0;O<ne;O++)P[G+O]=K[ae+O];else for(var O=0;O<ne;O++)P[G+O]=K.get(ae+O);return ne}return v.read=(D,P,G,V,ae)=>(u.forceLoadFile(p),C(D,P,G,V,ae)),v.mmap=(D,P,G,V,ae)=>{u.forceLoadFile(p);var K=Ir(P);if(!K)throw new u.ErrnoError(48);return C(D,q,K,P,G),{ptr:K,allocated:!0}},p.stream_ops=v,p}},_i=(e,t)=>(e>>>=0,e?tt(se,e,t):""),R={DEFAULT_POLLMASK:5,calculateAt(e,t,r){if(Y.isAbs(t))return t;var n;if(e===-100)n=u.cwd();else{var _=R.getStreamFromFD(e);n=_.path}if(t.length==0){if(!r)throw new u.ErrnoError(44);return n}return n+"/"+t},doStat(e,t,r){var n=e(t);E[r>>>2>>>0]=n.dev,E[r+4>>>2>>>0]=n.mode,W[r+8>>>2>>>0]=n.nlink,E[r+12>>>2>>>0]=n.uid,E[r+16>>>2>>>0]=n.gid,E[r+20>>>2>>>0]=n.rdev,ce[r+24>>>3]=BigInt(n.size),E[r+32>>>2>>>0]=4096,E[r+36>>>2>>>0]=n.blocks;var _=n.atime.getTime(),c=n.mtime.getTime(),h=n.ctime.getTime();return ce[r+40>>>3]=BigInt(Math.floor(_/1e3)),W[r+48>>>2>>>0]=_%1e3*1e3*1e3,ce[r+56>>>3]=BigInt(Math.floor(c/1e3)),W[r+64>>>2>>>0]=c%1e3*1e3*1e3,ce[r+72>>>3]=BigInt(Math.floor(h/1e3)),W[r+80>>>2>>>0]=h%1e3*1e3*1e3,ce[r+88>>>3]=BigInt(n.ino),0},doMsync(e,t,r,n,_){if(!u.isFile(t.node.mode))throw new u.ErrnoError(43);if(n&2)return 0;var c=se.slice(e,e+r);u.msync(t,c,_,r,n)},getStreamFromFD(e){var t=u.getStreamChecked(e);return t},varargs:void 0,getStr(e){var t=_i(e);return t}};function wn(e,t){e>>>=0;try{return e=R.getStr(e),u.chmod(e,t),0}catch(r){if(typeof u>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function In(e,t,r,n){t>>>=0;try{if(t=R.getStr(t),t=R.calculateAt(e,t),r&-8)return-28;var _=u.lookupPath(t,{follow:!0}),c=_.node;if(!c)return-44;var h="";return r&4&&(h+="r"),r&2&&(h+="w"),r&1&&(h+="x"),h&&u.nodePermissions(c,h)?-2:0}catch(d){if(typeof u>"u"||d.name!=="ErrnoError")throw d;return-d.errno}}function yn(e,t,r,n){r=Ee(r),n=Ee(n);try{if(isNaN(r))return 61;var _=R.getStreamFromFD(e);return u.allocate(_,r,n),0}catch(c){if(typeof u>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function Cn(e,t){try{return u.fchmod(e,t),0}catch(r){if(typeof u>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}var Ft=()=>{var e=E[+R.varargs>>>2>>>0];return R.varargs+=4,e},rt=Ft;function Dn(e,t,r){r>>>=0,R.varargs=r;try{var n=R.getStreamFromFD(e);switch(t){case 0:{var _=Ft();if(_<0)return-28;for(;u.streams[_];)_++;var c;return c=u.dupStream(n,_),c.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var _=Ft();return n.flags|=_,0}case 12:{var _=rt(),h=0;return he[_+h>>>1>>>0]=2,0}case 13:case 14:return 0}return-28}catch(d){if(typeof u>"u"||d.name!=="ErrnoError")throw d;return-d.errno}}function Pn(e,t){t>>>=0;try{var r=R.getStreamFromFD(e);return R.doStat(u.stat,r.path,t)}catch(n){if(typeof u>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}var Te=(e,t,r)=>oi(e,se,t,r);function En(e,t){e>>>=0,t>>>=0;try{if(t===0)return-28;var r=u.cwd(),n=it(r)+1;return t<n?-68:(Te(r,e,t),n)}catch(_){if(typeof u>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Tn(e,t,r){t>>>=0,r>>>=0;try{var n=R.getStreamFromFD(e);n.getdents||=u.readdir(n.path);for(var _=280,c=0,h=u.llseek(n,0,1),d=Math.floor(h/_),p=Math.min(n.getdents.length,d+Math.floor(r/_)),v=d;v<p;v++){var w,C,D=n.getdents[v];if(D===".")w=n.node.id,C=4;else if(D===".."){var P=u.lookupPath(n.path,{parent:!0});w=P.node.id,C=4}else{var G;try{G=u.lookupNode(n.node,D)}catch(V){if(V?.errno===28)continue;throw V}w=G.id,C=u.isChrdev(G.mode)?2:u.isDir(G.mode)?4:u.isLink(G.mode)?10:8}ce[t+c>>>3]=BigInt(w),ce[t+c+8>>>3]=BigInt((v+1)*_),he[t+c+16>>>1>>>0]=280,q[t+c+18>>>0]=C,Te(D,t+c+19,256),c+=_}return u.llseek(n,v*_,0),c}catch(V){if(typeof u>"u"||V.name!=="ErrnoError")throw V;return-V.errno}}function bn(e,t,r){r>>>=0,R.varargs=r;try{var n=R.getStreamFromFD(e);switch(t){case 21509:return n.tty?0:-59;case 21505:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var _=n.tty.ops.ioctl_tcgets(n),c=rt();E[c>>>2>>>0]=_.c_iflag||0,E[c+4>>>2>>>0]=_.c_oflag||0,E[c+8>>>2>>>0]=_.c_cflag||0,E[c+12>>>2>>>0]=_.c_lflag||0;for(var h=0;h<32;h++)q[c+h+17>>>0]=_.c_cc[h]||0;return 0}return 0}case 21510:case 21511:case 21512:return n.tty?0:-59;case 21506:case 21507:case 21508:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){for(var c=rt(),d=E[c>>>2>>>0],p=E[c+4>>>2>>>0],v=E[c+8>>>2>>>0],w=E[c+12>>>2>>>0],C=[],h=0;h<32;h++)C.push(q[c+h+17>>>0]);return n.tty.ops.ioctl_tcsets(n.tty,t,{c_iflag:d,c_oflag:p,c_cflag:v,c_lflag:w,c_cc:C})}return 0}case 21519:{if(!n.tty)return-59;var c=rt();return E[c>>>2>>>0]=0,0}case 21520:return n.tty?-28:-59;case 21531:{var c=rt();return u.ioctl(n,t,c)}case 21523:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var D=n.tty.ops.ioctl_tiocgwinsz(n.tty),c=rt();he[c>>>1>>>0]=D[0],he[c+2>>>1>>>0]=D[1]}return 0}case 21524:return n.tty?0:-59;case 21515:return n.tty?0:-59;default:return-28}}catch(P){if(typeof u>"u"||P.name!=="ErrnoError")throw P;return-P.errno}}function Gn(e,t){e>>>=0,t>>>=0;try{return e=R.getStr(e),R.doStat(u.lstat,e,t)}catch(r){if(typeof u>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function An(e,t,r,n){t>>>=0,r>>>=0;try{t=R.getStr(t);var _=n&256,c=n&4096;return n=n&-6401,t=R.calculateAt(e,t,c),R.doStat(_?u.lstat:u.stat,t,r)}catch(h){if(typeof u>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function Rn(e,t,r,n){t>>>=0,n>>>=0,R.varargs=n;try{t=R.getStr(t),t=R.calculateAt(e,t);var _=n?Ft():0;return u.open(t,r,_).fd}catch(c){if(typeof u>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function Fn(e,t,r,n){t>>>=0,r>>>=0,n>>>=0;try{if(t=R.getStr(t),t=R.calculateAt(e,t),n<=0)return-28;var _=u.readlink(t),c=Math.min(n,it(_)),h=q[r+c>>>0];return Te(_,r,n+1),q[r+c>>>0]=h,c}catch(d){if(typeof u>"u"||d.name!=="ErrnoError")throw d;return-d.errno}}function xn(e,t,r,n){t>>>=0,n>>>=0;try{return t=R.getStr(t),n=R.getStr(n),t=R.calculateAt(e,t),n=R.calculateAt(r,n),u.rename(t,n),0}catch(_){if(typeof u>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Ln(e){e>>>=0;try{return e=R.getStr(e),u.rmdir(e),0}catch(t){if(typeof u>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function Wn(e,t){e>>>=0,t>>>=0;try{return e=R.getStr(e),R.doStat(u.stat,e,t)}catch(r){if(typeof u>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function Bn(e,t,r){e>>>=0,r>>>=0;try{return e=R.getStr(e),r=R.getStr(r),r=R.calculateAt(t,r),u.symlink(e,r),0}catch(n){if(typeof u>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function zn(e,t,r){t>>>=0;try{return t=R.getStr(t),t=R.calculateAt(e,t),r===0?u.unlink(t):r===512?u.rmdir(t):Je("Invalid flags passed to unlinkat"),0}catch(n){if(typeof u>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}var Nn=()=>Je(""),xt={},ci=e=>{for(;e.length;){var t=e.pop(),r=e.pop();r(t)}};function ht(e){return this.fromWireType(W[e>>>2>>>0])}var at={},Xe={},Lt={},yr,Wt=e=>{throw new yr(e)},li=(e,t,r)=>{e.forEach(d=>Lt[d]=t);function n(d){var p=r(d);p.length!==e.length&&Wt("Mismatched type converter count");for(var v=0;v<e.length;++v)pe(e[v],p[v])}var _=new Array(t.length),c=[],h=0;t.forEach((d,p)=>{Xe.hasOwnProperty(d)?_[p]=Xe[d]:(c.push(d),at.hasOwnProperty(d)||(at[d]=[]),at[d].push(()=>{_[p]=Xe[d],++h,h===c.length&&n(_)}))}),c.length===0&&n(_)},Hn=function(e){e>>>=0;var t=xt[e];delete xt[e];var r=t.rawConstructor,n=t.rawDestructor,_=t.fields,c=_.map(h=>h.getterReturnType).concat(_.map(h=>h.setterArgumentType));li([e],c,h=>{var d={};return _.forEach((p,v)=>{var w=p.fieldName,C=h[v],D=p.getter,P=p.getterContext,G=h[v+_.length],V=p.setter,ae=p.setterContext;d[w]={read:K=>C.fromWireType(D(P,K)),write:(K,ne)=>{var O=[];V(ae,K,G.toWireType(O,ne)),ci(O)}}}),[{name:t.name,fromWireType:p=>{var v={};for(var w in d)v[w]=d[w].read(p);return n(p),v},toWireType:(p,v)=>{for(var w in d)if(!(w in v))throw new TypeError(`Missing field: "${w}"`);var C=r();for(w in d)d[w].write(C,v[w]);return p!==null&&p.push(n,C),C},argPackAdvance:Me,readValueFromPointer:ht,destructorFunction:n}]})},Bt=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},$n=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Cr=e},Cr,re=e=>{for(var t="",r=e;se[r>>>0];)t+=Cr[se[r++>>>0]];return t},dt,j=e=>{throw new dt(e)};function Un(e,t,r={}){var n=t.name;if(e||j(`type "${n}" must have a positive integer typeid pointer`),Xe.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;j(`Cannot register type '${n}' twice`)}if(Xe[e]=t,delete Lt[e],at.hasOwnProperty(e)){var _=at[e];delete at[e],_.forEach(c=>c())}}function pe(e,t,r={}){return Un(e,t,r)}var Dr=(e,t,r)=>{switch(t){case 1:return r?n=>q[n>>>0]:n=>se[n>>>0];case 2:return r?n=>he[n>>>1>>>0]:n=>lt[n>>>1>>>0];case 4:return r?n=>E[n>>>2>>>0]:n=>W[n>>>2>>>0];case 8:return r?n=>ce[n>>>3]:n=>lr[n>>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function jn(e,t,r,n,_){e>>>=0,t>>>=0,r>>>=0,t=re(t);var c=t.indexOf("u")!=-1;pe(e,{name:t,fromWireType:h=>h,toWireType:function(h,d){if(typeof d!="bigint"&&typeof d!="number")throw new TypeError(`Cannot convert "${Bt(d)}" to ${this.name}`);return typeof d=="number"&&(d=BigInt(d)),d},argPackAdvance:Me,readValueFromPointer:Dr(t,r,!c),destructorFunction:null})}var Me=8;function Yn(e,t,r,n){e>>>=0,t>>>=0,t=re(t),pe(e,{name:t,fromWireType:function(_){return!!_},toWireType:function(_,c){return c?r:n},argPackAdvance:Me,readValueFromPointer:function(_){return this.fromWireType(se[_>>>0])},destructorFunction:null})}var Vn=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),gi=e=>{function t(r){return r.$$.ptrType.registeredClass.name}j(t(e)+" instance already deleted")},ui=!1,Pr=e=>{},Xn=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},Er=e=>{e.count.value-=1;var t=e.count.value===0;t&&Xn(e)},Tr=(e,t,r)=>{if(t===r)return e;if(r.baseClass===void 0)return null;var n=Tr(e,t,r.baseClass);return n===null?null:r.downcast(n)},br={},qn={},On=(e,t)=>{for(t===void 0&&j("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},Qn=(e,t)=>(t=On(e,t),qn[t]),zt=(e,t)=>{(!t.ptrType||!t.ptr)&&Wt("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,n=!!t.smartPtr;return r!==n&&Wt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},mt(Object.create(e,{$$:{value:t,writable:!0}}))};function Kn(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=Qn(this.registeredClass,t);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function _(){return this.isSmartPointer?zt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):zt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var c=this.registeredClass.getActualType(t),h=br[c];if(!h)return _.call(this);var d;this.isConst?d=h.constPointerType:d=h.pointerType;var p=Tr(t,this.registeredClass,d.registeredClass);return p===null?_.call(this):this.isSmartPointer?zt(d.registeredClass.instancePrototype,{ptrType:d,ptr:p,smartPtrType:this,smartPtr:e}):zt(d.registeredClass.instancePrototype,{ptrType:d,ptr:p})}var mt=e=>typeof FinalizationRegistry>"u"?(mt=t=>t,e):(ui=new FinalizationRegistry(t=>{Er(t.$$)}),mt=t=>{var r=t.$$,n=!!r.smartPtr;if(n){var _={$$:r};ui.register(t,_,t)}return t},Pr=t=>ui.unregister(t),mt(e)),Jn=()=>{Object.assign(Nt.prototype,{isAliasOf(e){if(!(this instanceof Nt)||!(e instanceof Nt))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,_=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)_=n.upcast(_),n=n.baseClass;return t===n&&r===_},clone(){if(this.$$.ptr||gi(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=mt(Object.create(Object.getPrototypeOf(this),{$$:{value:Vn(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||gi(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&j("Object already scheduled for deletion"),Pr(this),Er(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||gi(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&j("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}})};function Nt(){}var nt=(e,t)=>Object.defineProperty(t,"name",{value:e}),Zn=(e,t,r)=>{if(e[t].overloadTable===void 0){var n=e[t];e[t]=function(..._){return e[t].overloadTable.hasOwnProperty(_.length)||j(`Function '${r}' called with an invalid number of arguments (${_.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[_.length].apply(this,_)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}},hi=(e,t,r)=>{i.hasOwnProperty(e)?((r===void 0||i[e].overloadTable!==void 0&&i[e].overloadTable[r]!==void 0)&&j(`Cannot register public name '${e}' twice`),Zn(i,e,e),i[e].overloadTable.hasOwnProperty(r)&&j(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),i[e].overloadTable[r]=t):(i[e]=t,i[e].argCount=r)},eo=48,to=57,io=e=>{e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=eo&&t<=to?`_${e}`:e};function ro(e,t,r,n,_,c,h,d){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=_,this.getActualType=c,this.upcast=h,this.downcast=d,this.pureVirtualFunctions=[]}var di=(e,t,r)=>{for(;t!==r;)t.upcast||j(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function ao(e,t){if(t===null)return this.isReference&&j(`null is not a valid ${this.name}`),0;t.$$||j(`Cannot pass "${Bt(t)}" as a ${this.name}`),t.$$.ptr||j(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=di(t.$$.ptr,r,this.registeredClass);return n}function no(e,t){var r;if(t===null)return this.isReference&&j(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,r),r):0;(!t||!t.$$)&&j(`Cannot pass "${Bt(t)}" as a ${this.name}`),t.$$.ptr||j(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&j(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass;if(r=di(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&j("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:j(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var _=t.clone();r=this.rawShare(r,de.toHandle(()=>_.delete())),e!==null&&e.push(this.rawDestructor,r)}break;default:j("Unsupporting sharing policy")}return r}function oo(e,t){if(t===null)return this.isReference&&j(`null is not a valid ${this.name}`),0;t.$$||j(`Cannot pass "${Bt(t)}" as a ${this.name}`),t.$$.ptr||j(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&j(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=di(t.$$.ptr,r,this.registeredClass);return n}var so=()=>{Object.assign(Ht.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:Me,readValueFromPointer:ht,fromWireType:Kn})};function Ht(e,t,r,n,_,c,h,d,p,v,w){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=_,this.pointeeType=c,this.sharingPolicy=h,this.rawGetPointee=d,this.rawConstructor=p,this.rawShare=v,this.rawDestructor=w,!_&&t.baseClass===void 0?n?(this.toWireType=ao,this.destructorFunction=null):(this.toWireType=oo,this.destructorFunction=null):this.toWireType=no}var Gr=(e,t,r)=>{i.hasOwnProperty(e)||Wt("Replacing nonexistent public symbol"),i[e].overloadTable!==void 0&&r!==void 0?i[e].overloadTable[r]=t:(i[e]=t,i[e].argCount=r)},_o=(e,t,r=[])=>{var n=B(t)(...r);return e[0]=="p"?n>>>0:n},co=(e,t)=>(...r)=>_o(e,t,r),be=(e,t)=>{e=re(e);function r(){return e.includes("p")?co(e,t):B(t)}var n=r();return typeof n!="function"&&j(`unknown function pointer with signature ${e}: ${t}`),n},lo=(e,t)=>{var r=nt(t,function(n){this.name=t,this.message=n;var _=new Error(n).stack;_!==void 0&&(this.stack=this.toString()+`
`+_.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r},Ar,Rr=e=>{var t=Qr(e),r=re(t);return Ae(t),r},Fr=(e,t)=>{var r=[],n={};function _(c){if(!n[c]&&!Xe[c]){if(Lt[c]){Lt[c].forEach(_);return}r.push(c),n[c]=!0}}throw t.forEach(_),new Ar(`${e}: `+r.map(Rr).join([", "]))};function go(e,t,r,n,_,c,h,d,p,v,w,C,D){e>>>=0,t>>>=0,r>>>=0,n>>>=0,_>>>=0,c>>>=0,h>>>=0,d>>>=0,p>>>=0,v>>>=0,w>>>=0,C>>>=0,D>>>=0,w=re(w),c=be(_,c),d&&=be(h,d),v&&=be(p,v),D=be(C,D);var P=io(w);hi(P,function(){Fr(`Cannot construct ${w} due to unbound types`,[n])}),li([e,t,r],n?[n]:[],G=>{G=G[0];var V,ae;n?(V=G.registeredClass,ae=V.instancePrototype):ae=Nt.prototype;var K=nt(w,function(...J){if(Object.getPrototypeOf(this)!==ne)throw new dt("Use 'new' to construct "+w);if(O.constructor_body===void 0)throw new dt(w+" has no accessible constructor");var ra=O.constructor_body[J.length];if(ra===void 0)throw new dt(`Tried to invoke ctor of ${w} with invalid number of parameters (${J.length}) - expected (${Object.keys(O.constructor_body).toString()}) parameters instead!`);return ra.apply(this,J)}),ne=Object.create(ae,{constructor:{value:K}});K.prototype=ne;var O=new ro(w,K,ne,D,V,c,d,v);O.baseClass&&(O.baseClass.__derivedClasses??=[],O.baseClass.__derivedClasses.push(O));var qe=new Ht(w,O,!0,!1,!1),me=new Ht(w+"*",O,!1,!1,!1),Re=new Ht(w+" const*",O,!1,!0,!1);return br[e]={pointerType:me,constPointerType:Re},Gr(P,K),[qe,me,Re]})}var mi=[],Ge=[];function fi(e){e>>>=0,e>9&&--Ge[e+1]===0&&(Ge[e]=void 0,mi.push(e))}var uo=()=>Ge.length/2-5-mi.length,ho=()=>{Ge.push(0,1,void 0,1,null,1,!0,1,!1,1),i.count_emval_handles=uo},de={toValue:e=>(e||j("Cannot use deleted val. handle = "+e),Ge[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=mi.pop()||Ge.length;return Ge[t]=e,Ge[t+1]=1,t}}}},mo={name:"emscripten::val",fromWireType:e=>{var t=de.toValue(e);return fi(e),t},toWireType:(e,t)=>de.toHandle(t),argPackAdvance:Me,readValueFromPointer:ht,destructorFunction:null};function fo(e){return e>>>=0,pe(e,mo)}var po=(e,t,r)=>{switch(t){case 1:return r?function(n){return this.fromWireType(q[n>>>0])}:function(n){return this.fromWireType(se[n>>>0])};case 2:return r?function(n){return this.fromWireType(he[n>>>1>>>0])}:function(n){return this.fromWireType(lt[n>>>1>>>0])};case 4:return r?function(n){return this.fromWireType(E[n>>>2>>>0])}:function(n){return this.fromWireType(W[n>>>2>>>0])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}};function Mo(e,t,r,n){e>>>=0,t>>>=0,r>>>=0,t=re(t);function _(){}_.values={},pe(e,{name:t,constructor:_,fromWireType:function(c){return this.constructor.values[c]},toWireType:(c,h)=>h.value,argPackAdvance:Me,readValueFromPointer:po(t,r,n),destructorFunction:null}),hi(t,_)}var pi=(e,t)=>{var r=Xe[e];return r===void 0&&j(`${t} has unknown type ${Rr(e)}`),r};function ko(e,t,r){e>>>=0,t>>>=0;var n=pi(e,"enum");t=re(t);var _=n.constructor,c=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:nt(`${n.name}_${t}`,function(){})}});_.values[r]=c,_[t]=c}var So=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(Gt[r>>>2>>>0])};case 8:return function(r){return this.fromWireType(At[r>>>3>>>0])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},vo=function(e,t,r){e>>>=0,t>>>=0,r>>>=0,t=re(t),pe(e,{name:t,fromWireType:n=>n,toWireType:(n,_)=>_,argPackAdvance:Me,readValueFromPointer:So(t,r),destructorFunction:null})};function xr(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function Lr(e,t){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var r=nt(e.name||"unknownFunctionName",function(){});r.prototype=e.prototype;var n=new r,_=e.apply(n,t);return _ instanceof Object?_:n}function wo(e,t,r,n){for(var _=xr(e),c=e.length-2,h=[],d=["fn"],p=0;p<c;++p)h.push(`arg${p}`),d.push(`arg${p}Wired`);h=h.join(","),d=d.join(",");var v=`return function (${h}) {
`;_&&(v+=`var destructors = [];
`);for(var w=_?"destructors":"null",C=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"],p=0;p<c;++p)v+=`var arg${p}Wired = argType${p}['toWireType'](${w}, arg${p});
`,C.push(`argType${p}`);if(v+=(r||n?"var rv = ":"")+`invoker(${d});
`,_)v+=`runDestructors(destructors);
`;else for(var p=2;p<e.length;++p){var D=p===1?"thisWired":"arg"+(p-2)+"Wired";e[p].destructorFunction!==null&&(v+=`${D}_dtor(${D});
`,C.push(`${D}_dtor`))}return r&&(v+=`var ret = retType['fromWireType'](rv);
return ret;
`),v+=`}
`,[C,v]}function Io(e,t,r,n,_,c){var h=t.length;h<2&&j("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var d=t[1]!==null&&r!==null,p=xr(t),v=t[0].name!=="void",w=[e,j,n,_,ci,t[0],t[1]],C=0;C<h-2;++C)w.push(t[C+2]);if(!p)for(var C=2;C<t.length;++C)t[C].destructorFunction!==null&&w.push(t[C].destructorFunction);let[D,P]=wo(t,d,v,c);D.push(P);var G=Lr(Function,D)(...w);return nt(e,G)}var yo=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push(W[t+n*4>>>2>>>0]);return r},Co=e=>{e=e.trim();const t=e.indexOf("(");return t!==-1?e.substr(0,t):e};function Do(e,t,r,n,_,c,h,d){e>>>=0,r>>>=0,n>>>=0,_>>>=0,c>>>=0;var p=yo(t,r);e=re(e),e=Co(e),_=be(n,_),hi(e,function(){Fr(`Cannot call ${e} due to unbound types`,p)},t-1),li([],p,v=>{var w=[v[0],null].concat(v.slice(1));return Gr(e,Io(e,w,null,_,c,h),t-1),[]})}function Po(e,t,r,n,_){e>>>=0,t>>>=0,r>>>=0,t=re(t);var c=w=>w;if(n===0){var h=32-8*r;c=w=>w<<h>>>h}var d=t.includes("unsigned"),p=(w,C)=>{},v;d?v=function(w,C){return p(C,this.name),C>>>0}:v=function(w,C){return p(C,this.name),C},pe(e,{name:t,fromWireType:c,toWireType:v,argPackAdvance:Me,readValueFromPointer:Dr(t,r,n!==0),destructorFunction:null})}function Eo(e,t,r){e>>>=0,r>>>=0;var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],_=n[t];function c(h){var d=W[h>>>2>>>0],p=W[h+4>>>2>>>0];return new _(q.buffer,p,d)}r=re(r),pe(e,{name:r,fromWireType:c,argPackAdvance:Me,readValueFromPointer:c},{ignoreDuplicateRegistrations:!0})}function To(e,t){e>>>=0,t>>>=0,t=re(t),pe(e,{name:t,fromWireType(r){for(var n=W[r>>>2>>>0],_=r+4,c,h,d=_,h=0;h<=n;++h){var p=_+h;if(h==n||se[p>>>0]==0){var v=p-d,w=_i(d,v);c===void 0?c=w:(c+="\0",c+=w),d=p+1}}return Ae(r),c},toWireType(r,n){n instanceof ArrayBuffer&&(n=new Uint8Array(n));var _,c=typeof n=="string";c||n instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Int8Array||j("Cannot pass non-string to std::string"),c?_=it(n):_=n.length;var h=Si(4+_+1),d=h+4;if(W[h>>>2>>>0]=_,c)Te(n,d,_+1);else if(c)for(var p=0;p<_;++p){var v=n.charCodeAt(p);v>255&&(Ae(d),j("String has UTF-16 code units that do not fit in 8 bits")),se[d+p>>>0]=v}else for(var p=0;p<_;++p)se[d+p>>>0]=n[p];return r!==null&&r.push(Ae,h),h},argPackAdvance:Me,readValueFromPointer:ht,destructorFunction(r){Ae(r)}})}var Wr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,bo=(e,t)=>{for(var r=e,n=r>>1,_=n+t/2;!(n>=_)&&lt[n>>>0];)++n;if(r=n<<1,r-e>32&&Wr)return Wr.decode(se.subarray(e>>>0,r>>>0));for(var c="",h=0;!(h>=t/2);++h){var d=he[e+h*2>>>1>>>0];if(d==0)break;c+=String.fromCharCode(d)}return c},Go=(e,t,r)=>{if(r??=2147483647,r<2)return 0;r-=2;for(var n=t,_=r<e.length*2?r/2:e.length,c=0;c<_;++c){var h=e.charCodeAt(c);he[t>>>1>>>0]=h,t+=2}return he[t>>>1>>>0]=0,t-n},Ao=e=>e.length*2,Ro=(e,t)=>{for(var r=0,n="";!(r>=t/4);){var _=E[e+r*4>>>2>>>0];if(_==0)break;if(++r,_>=65536){var c=_-65536;n+=String.fromCharCode(55296|c>>10,56320|c&1023)}else n+=String.fromCharCode(_)}return n},Fo=(e,t,r)=>{if(t>>>=0,r??=2147483647,r<4)return 0;for(var n=t,_=n+r-4,c=0;c<e.length;++c){var h=e.charCodeAt(c);if(h>=55296&&h<=57343){var d=e.charCodeAt(++c);h=65536+((h&1023)<<10)|d&1023}if(E[t>>>2>>>0]=h,t+=4,t+4>_)break}return E[t>>>2>>>0]=0,t-n},xo=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t},Lo=function(e,t,r){e>>>=0,t>>>=0,r>>>=0,r=re(r);var n,_,c,h;t===2?(n=bo,_=Go,h=Ao,c=d=>lt[d>>>1>>>0]):t===4&&(n=Ro,_=Fo,h=xo,c=d=>W[d>>>2>>>0]),pe(e,{name:r,fromWireType:d=>{for(var p=W[d>>>2>>>0],v,w=d+4,C=0;C<=p;++C){var D=d+4+C*t;if(C==p||c(D)==0){var P=D-w,G=n(w,P);v===void 0?v=G:(v+="\0",v+=G),w=D+t}}return Ae(d),v},toWireType:(d,p)=>{typeof p!="string"&&j(`Cannot pass non-string to C++ string type ${r}`);var v=h(p),w=Si(4+v+t);return W[w>>>2>>>0]=v/t,_(p,w+4,v+t),d!==null&&d.push(Ae,w),w},argPackAdvance:Me,readValueFromPointer:ht,destructorFunction(d){Ae(d)}})};function Wo(e,t,r,n,_,c){e>>>=0,t>>>=0,r>>>=0,n>>>=0,_>>>=0,c>>>=0,xt[e]={name:re(t),rawConstructor:be(r,n),rawDestructor:be(_,c),fields:[]}}function Bo(e,t,r,n,_,c,h,d,p,v){e>>>=0,t>>>=0,r>>>=0,n>>>=0,_>>>=0,c>>>=0,h>>>=0,d>>>=0,p>>>=0,v>>>=0,xt[e].fields.push({fieldName:re(t),getterReturnType:r,getter:be(n,_),getterContext:c,setterArgumentType:h,setter:be(d,p),setterContext:v})}var zo=function(e,t){e>>>=0,t>>>=0,t=re(t),pe(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(r,n)=>{}})},Br=0,No=()=>{Mr=!1,Br=0};function Ho(e){return e>>>=0,e?-52:0}var $o=()=>{throw 1/0},Uo={},zr=e=>{var t=Uo[e];return t===void 0?re(e):t},Mi=[];function jo(e,t,r,n,_){return e>>>=0,t>>>=0,r>>>=0,n>>>=0,_>>>=0,e=Mi[e],t=de.toValue(t),r=zr(r),e(t,t[r],n,_)}var Yo=e=>{var t=Mi.length;return Mi.push(e),t},Vo=(e,t)=>{for(var r=new Array(e),n=0;n<e;++n)r[n]=pi(W[t+n*4>>>2>>>0],"parameter "+n);return r},Xo=(e,t,r)=>{var n=[],_=e.toWireType(n,r);return n.length&&(W[t>>>2>>>0]=de.toHandle(n)),_};function qo(e,t,r){t>>>=0;var n=Vo(e,t),_=n.shift();e--;var c=`return function (obj, func, destructorsRef, args) {
`,h=0,d=[];r===0&&d.push("obj");for(var p=["retType"],v=[_],w=0;w<e;++w)d.push("arg"+w),p.push("argType"+w),v.push(n[w]),c+=`  var arg${w} = argType${w}.readValueFromPointer(args${h?"+"+h:""});
`,h+=n[w].argPackAdvance;var C=r===1?"new func":"func.call";c+=`  var rv = ${C}(${d.join(", ")});
`,_.isVoid||(p.push("emval_returnValue"),v.push(Xo),c+=`  return emval_returnValue(retType, destructorsRef, rv);
`),c+=`};
`,p.push(c);var D=Lr(Function,p)(...v),P=`methodCaller<(${n.map(G=>G.name).join(", ")}) => ${_.name}>`;return Yo(nt(P,D))}function Oo(e){e>>>=0,e>9&&(Ge[e+1]+=1)}function Qo(){return de.toHandle([])}function Ko(e){return e>>>=0,de.toHandle(zr(e))}function Jo(){return de.toHandle({})}function Zo(e){e>>>=0;var t=de.toValue(e);ci(t),fi(e)}function es(e,t,r){e>>>=0,t>>>=0,r>>>=0,e=de.toValue(e),t=de.toValue(t),r=de.toValue(r),e[t]=r}function ts(e,t){e>>>=0,t>>>=0,e=pi(e,"_emval_take_value");var r=e.readValueFromPointer(t);return de.toHandle(r)}function is(e,t){e=Ee(e),t>>>=0;var r=new Date(e*1e3);E[t>>>2>>>0]=r.getUTCSeconds(),E[t+4>>>2>>>0]=r.getUTCMinutes(),E[t+8>>>2>>>0]=r.getUTCHours(),E[t+12>>>2>>>0]=r.getUTCDate(),E[t+16>>>2>>>0]=r.getUTCMonth(),E[t+20>>>2>>>0]=r.getUTCFullYear()-1900,E[t+24>>>2>>>0]=r.getUTCDay();var n=Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0),_=(r.getTime()-n)/(1e3*60*60*24)|0;E[t+28>>>2>>>0]=_}var rs=e=>e%4===0&&(e%100!==0||e%400===0),as=[0,31,60,91,121,152,182,213,244,274,305,335],ns=[0,31,59,90,120,151,181,212,243,273,304,334],Nr=e=>{var t=rs(e.getFullYear()),r=t?as:ns,n=r[e.getMonth()]+e.getDate()-1;return n};function os(e,t){e=Ee(e),t>>>=0;var r=new Date(e*1e3);E[t>>>2>>>0]=r.getSeconds(),E[t+4>>>2>>>0]=r.getMinutes(),E[t+8>>>2>>>0]=r.getHours(),E[t+12>>>2>>>0]=r.getDate(),E[t+16>>>2>>>0]=r.getMonth(),E[t+20>>>2>>>0]=r.getFullYear()-1900,E[t+24>>>2>>>0]=r.getDay();var n=Nr(r)|0;E[t+28>>>2>>>0]=n,E[t+36>>>2>>>0]=-(r.getTimezoneOffset()*60);var _=new Date(r.getFullYear(),0,1),c=new Date(r.getFullYear(),6,1).getTimezoneOffset(),h=_.getTimezoneOffset(),d=(c!=h&&r.getTimezoneOffset()==Math.min(h,c))|0;E[t+32>>>2>>>0]=d}var ss=function(e){e>>>=0;var t=(()=>{var r=new Date(E[e+20>>>2>>>0]+1900,E[e+16>>>2>>>0],E[e+12>>>2>>>0],E[e+8>>>2>>>0],E[e+4>>>2>>>0],E[e>>>2>>>0],0),n=E[e+32>>>2>>>0],_=r.getTimezoneOffset(),c=new Date(r.getFullYear(),0,1),h=new Date(r.getFullYear(),6,1).getTimezoneOffset(),d=c.getTimezoneOffset(),p=Math.min(d,h);if(n<0)E[e+32>>>2>>>0]=+(h!=d&&p==_);else if(n>0!=(p==_)){var v=Math.max(d,h),w=n>0?p:v;r.setTime(r.getTime()+(w-_)*6e4)}E[e+24>>>2>>>0]=r.getDay();var C=Nr(r)|0;E[e+28>>>2>>>0]=C,E[e>>>2>>>0]=r.getSeconds(),E[e+4>>>2>>>0]=r.getMinutes(),E[e+8>>>2>>>0]=r.getHours(),E[e+12>>>2>>>0]=r.getDate(),E[e+16>>>2>>>0]=r.getMonth(),E[e+20>>>2>>>0]=r.getYear();var D=r.getTime();return isNaN(D)?-1:D/1e3})();return BigInt(t)};function _s(e,t,r,n,_,c,h){e>>>=0,_=Ee(_),c>>>=0,h>>>=0;try{if(isNaN(_))return 61;var d=R.getStreamFromFD(n),p=u.mmap(d,e,_,t,r),v=p.ptr;return E[c>>>2>>>0]=p.allocated,W[h>>>2>>>0]=v,0}catch(w){if(typeof u>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function cs(e,t,r,n,_,c){e>>>=0,t>>>=0,c=Ee(c);try{var h=R.getStreamFromFD(_);r&2&&R.doMsync(e,h,t,n,c)}catch(d){if(typeof u>"u"||d.name!=="ErrnoError")throw d;return-d.errno}}var ls=function(e,t,r,n){e>>>=0,t>>>=0,r>>>=0,n>>>=0;var _=new Date().getFullYear(),c=new Date(_,0,1),h=new Date(_,6,1),d=c.getTimezoneOffset(),p=h.getTimezoneOffset(),v=Math.max(d,p);W[e>>>2>>>0]=v*60,E[t>>>2>>>0]=+(d!=p);var w=P=>{var G=P>=0?"-":"+",V=Math.abs(P),ae=String(Math.floor(V/60)).padStart(2,"0"),K=String(V%60).padStart(2,"0");return`UTC${G}${ae}${K}`},C=w(d),D=w(p);p<d?(Te(C,r,17),Te(D,n,17)):(Te(C,n,17),Te(D,r,17))},Hr=()=>performance.now(),$r=()=>Date.now(),gs=e=>e>=0&&e<=3;function us(e,t,r){if(r>>>=0,!gs(e))return 28;var n;e===0?n=$r():n=Hr();var _=Math.round(n*1e3*1e3);return ce[r>>>3]=BigInt(_),0}var Ur=()=>4294901760;function hs(){return Ur()}var ds=e=>{var t=bt.buffer,r=(e-t.byteLength+65535)/65536|0;try{return bt.grow(r),gr(),1}catch{}};function ms(e){e>>>=0;var t=se.length,r=Ur();if(e>r)return!1;for(var n=1;n<=4;n*=2){var _=t*(1+.2/n);_=Math.min(_,e+100663296);var c=Math.min(r,wr(Math.max(e,_),65536)),h=ds(c);if(h)return!0}return!1}var ki={},fs=()=>N||"./this.program",ft=()=>{if(!ft.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:fs()};for(var r in ki)ki[r]===void 0?delete t[r]:t[r]=ki[r];var n=[];for(var r in t)n.push(`${r}=${t[r]}`);ft.strings=n}return ft.strings},ps=(e,t)=>{for(var r=0;r<e.length;++r)q[t++>>>0]=e.charCodeAt(r);q[t>>>0]=0},Ms=function(e,t){e>>>=0,t>>>=0;var r=0;return ft().forEach((n,_)=>{var c=t+r;W[e+_*4>>>2>>>0]=c,ps(n,c),r+=n.length+1}),0},ks=function(e,t){e>>>=0,t>>>=0;var r=ft();W[e>>>2>>>0]=r.length;var n=0;return r.forEach(_=>n+=_.length+1),W[t>>>2>>>0]=n,0},Ss=()=>Mr||Br>0,jr=e=>{Ss()||(i.onExit?.(e),ei=!0),ee(e,new rn(e))},vs=(e,t)=>{jr(e)},ws=vs;function Is(e){try{var t=R.getStreamFromFD(e);return u.close(t),0}catch(r){if(typeof u>"u"||r.name!=="ErrnoError")throw r;return r.errno}}function ys(e,t){t>>>=0;try{var r=0,n=0,_=0,c=R.getStreamFromFD(e),h=c.tty?2:u.isDir(c.mode)?3:u.isLink(c.mode)?7:4;return q[t>>>0]=h,he[t+2>>>1>>>0]=_,ce[t+8>>>3]=BigInt(r),ce[t+16>>>3]=BigInt(n),0}catch(d){if(typeof u>"u"||d.name!=="ErrnoError")throw d;return d.errno}}var Yr=(e,t,r,n)=>{for(var _=0,c=0;c<r;c++){var h=W[t>>>2>>>0],d=W[t+4>>>2>>>0];t+=8;var p=u.read(e,q,h,d,n);if(p<0)return-1;if(_+=p,p<d)break;typeof n<"u"&&(n+=p)}return _};function Cs(e,t,r,n,_){t>>>=0,r>>>=0,n=Ee(n),_>>>=0;try{if(isNaN(n))return 61;var c=R.getStreamFromFD(e),h=Yr(c,t,r,n);return W[_>>>2>>>0]=h,0}catch(d){if(typeof u>"u"||d.name!=="ErrnoError")throw d;return d.errno}}var Vr=(e,t,r,n)=>{for(var _=0,c=0;c<r;c++){var h=W[t>>>2>>>0],d=W[t+4>>>2>>>0];t+=8;var p=u.write(e,q,h,d,n);if(p<0)return-1;if(_+=p,p<d)break;typeof n<"u"&&(n+=p)}return _};function Ds(e,t,r,n,_){t>>>=0,r>>>=0,n=Ee(n),_>>>=0;try{if(isNaN(n))return 61;var c=R.getStreamFromFD(e),h=Vr(c,t,r,n);return W[_>>>2>>>0]=h,0}catch(d){if(typeof u>"u"||d.name!=="ErrnoError")throw d;return d.errno}}function Ps(e,t,r,n){t>>>=0,r>>>=0,n>>>=0;try{var _=R.getStreamFromFD(e),c=Yr(_,t,r);return W[n>>>2>>>0]=c,0}catch(h){if(typeof u>"u"||h.name!=="ErrnoError")throw h;return h.errno}}function Es(e,t,r,n){t=Ee(t),n>>>=0;try{if(isNaN(t))return 61;var _=R.getStreamFromFD(e);return u.llseek(_,t,r),ce[n>>>3]=BigInt(_.position),_.getdents&&t===0&&r===0&&(_.getdents=null),0}catch(c){if(typeof u>"u"||c.name!=="ErrnoError")throw c;return c.errno}}function Ts(e){try{var t=R.getStreamFromFD(e);return t.stream_ops?.fsync?t.stream_ops.fsync(t):0}catch(r){if(typeof u>"u"||r.name!=="ErrnoError")throw r;return r.errno}}function bs(e,t,r,n){t>>>=0,r>>>=0,n>>>=0;try{var _=R.getStreamFromFD(e),c=Vr(_,t,r);return W[n>>>2>>>0]=c,0}catch(h){if(typeof u>"u"||h.name!=="ErrnoError")throw h;return h.errno}}function Gs(e,t){e>>>=0,t>>>=0;try{return ai(se.subarray(e>>>0,e+t>>>0)),0}catch(r){if(typeof u>"u"||r.name!=="ErrnoError")throw r;return r.errno}}var Xr=(e,t)=>{e<128?t.push(e):t.push(e%128|128,e>>7)},As=e=>{for(var t={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},r={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]);return r},Rs=(e,t)=>{var r=e.slice(0,1),n=e.slice(1),_={i:127,p:127,j:126,f:125,d:124,e:111};t.push(96),Xr(n.length,t);for(var c=0;c<n.length;++c)t.push(_[n[c]]);r=="v"?t.push(0):t.push(1,_[r])},Fs=(e,t)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(As(t),e);var r=[1];Rs(t,r);var n=[0,97,115,109,1,0,0,0,1];Xr(r.length,n),n.push(...r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var _=new WebAssembly.Module(new Uint8Array(n)),c=new WebAssembly.Instance(_,{e:{f:e}}),h=c.exports.f;return h},xs=(e,t)=>{if(ot)for(var r=e;r<e+t;r++){var n=B(r);n&&ot.set(n,r)}},ot,Ls=e=>(ot||(ot=new WeakMap,xs(0,Ye.length)),ot.get(e)||0),qr=[],Ws=()=>{if(qr.length)return qr.pop();try{Ye.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return Ye.length-1},Or=(e,t)=>{Ye.set(e,t),ut[e]=Ye.get(e)},Bs=(e,t)=>{var r=Ls(e);if(r)return r;var n=Ws();try{Or(n,e)}catch(c){if(!(c instanceof TypeError))throw c;var _=Fs(e,t);Or(n,_)}return ot.set(e,n),n};u.createPreloadedFile=Sn,u.staticInit(),x.doesNotExistError=new u.ErrnoError(44),x.doesNotExistError.stack="<generic error, no stack>",yr=i.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},$n(),dt=i.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Jn(),so(),Ar=i.UnboundTypeError=lo(Error,"UnboundTypeError"),ho();var zs={_:_n,B:gn,a:un,A:cn,ua:wn,va:In,ca:yn,sa:Cn,F:Dn,ra:Pn,ma:En,Z:Tn,ya:bn,oa:Gn,pa:An,D:Rn,Y:Fn,_a:xn,$a:Ln,qa:Wn,Za:Bn,X:zn,wa:Nn,Na:Hn,P:jn,Ha:Yn,I:go,Fa:fo,w:Mo,e:ko,O:vo,p:Do,v:Po,n:Eo,Ga:To,G:Lo,Oa:Wo,H:Bo,Ia:zo,$:No,Xa:Ho,Va:$o,Ka:jo,l:fi,La:qo,Ma:Oo,Q:Qo,u:Ko,z:Jo,Ja:Zo,r:es,o:ts,fa:is,ha:os,ia:ss,da:_s,ea:cs,ja:ls,ta:us,L:$r,Ya:hs,C:Hr,Wa:ms,za:Ms,Aa:ks,x:ws,y:Is,K:ys,ba:Cs,aa:Ds,M:Ps,ka:Es,na:Ts,E:bs,Sa:r_,J:Zs,c:Us,d:$s,f:Hs,i:Xs,W:i_,b:Ks,U:o_,m:Qs,Ra:s_,Qa:l_,Ea:d_,Da:m_,q:Js,Ua:e_,t:Os,ga:qs,V:a_,k:js,h:Ys,T:__,S:c_,j:Ns,g:Vs,s:n_,Pa:u_,N:h_,Ca:f_,R:g_,Ba:p_,Ta:t_,xa:jr,la:Gs},s;tn();var Qr=e=>(Qr=s.cb)(e);i._MagickColor_Create=()=>(i._MagickColor_Create=s.db)(),i._MagickColor_Dispose=e=>(i._MagickColor_Dispose=s.eb)(e),i._MagickColor_Count_Get=e=>(i._MagickColor_Count_Get=s.fb)(e),i._MagickColor_Red_Get=e=>(i._MagickColor_Red_Get=s.gb)(e),i._MagickColor_Red_Set=(e,t)=>(i._MagickColor_Red_Set=s.hb)(e,t),i._MagickColor_Green_Get=e=>(i._MagickColor_Green_Get=s.ib)(e),i._MagickColor_Green_Set=(e,t)=>(i._MagickColor_Green_Set=s.jb)(e,t),i._MagickColor_Blue_Get=e=>(i._MagickColor_Blue_Get=s.kb)(e),i._MagickColor_Blue_Set=(e,t)=>(i._MagickColor_Blue_Set=s.lb)(e,t),i._MagickColor_Alpha_Get=e=>(i._MagickColor_Alpha_Get=s.mb)(e),i._MagickColor_Alpha_Set=(e,t)=>(i._MagickColor_Alpha_Set=s.nb)(e,t),i._MagickColor_Black_Get=e=>(i._MagickColor_Black_Get=s.ob)(e),i._MagickColor_Black_Set=(e,t)=>(i._MagickColor_Black_Set=s.pb)(e,t),i._MagickColor_IsCMYK_Get=e=>(i._MagickColor_IsCMYK_Get=s.qb)(e),i._MagickColor_IsCMYK_Set=(e,t)=>(i._MagickColor_IsCMYK_Set=s.rb)(e,t),i._MagickColor_Clone=e=>(i._MagickColor_Clone=s.sb)(e),i._MagickColor_FuzzyEquals=(e,t,r)=>(i._MagickColor_FuzzyEquals=s.tb)(e,t,r),i._MagickColor_Initialize=(e,t)=>(i._MagickColor_Initialize=s.ub)(e,t),i._MagickColorCollection_DisposeList=e=>(i._MagickColorCollection_DisposeList=s.wb)(e),i._MagickColorCollection_GetInstance=(e,t)=>(i._MagickColorCollection_GetInstance=s.xb)(e,t),i._DrawingWand_Create=(e,t)=>(i._DrawingWand_Create=s.yb)(e,t),i._DrawingWand_Dispose=e=>(i._DrawingWand_Dispose=s.zb)(e),i._DrawingWand_Affine=(e,t,r,n,_,c,h,d)=>(i._DrawingWand_Affine=s.Ab)(e,t,r,n,_,c,h,d),i._DrawingWand_Alpha=(e,t,r,n,_)=>(i._DrawingWand_Alpha=s.Bb)(e,t,r,n,_),i._DrawingWand_Arc=(e,t,r,n,_,c,h,d)=>(i._DrawingWand_Arc=s.Cb)(e,t,r,n,_,c,h,d),i._DrawingWand_Bezier=(e,t,r,n)=>(i._DrawingWand_Bezier=s.Db)(e,t,r,n),i._DrawingWand_BorderColor=(e,t,r)=>(i._DrawingWand_BorderColor=s.Eb)(e,t,r),i._DrawingWand_Circle=(e,t,r,n,_,c)=>(i._DrawingWand_Circle=s.Fb)(e,t,r,n,_,c),i._DrawingWand_ClipPath=(e,t,r)=>(i._DrawingWand_ClipPath=s.Gb)(e,t,r),i._DrawingWand_ClipRule=(e,t,r)=>(i._DrawingWand_ClipRule=s.Hb)(e,t,r),i._DrawingWand_ClipUnits=(e,t,r)=>(i._DrawingWand_ClipUnits=s.Ib)(e,t,r),i._DrawingWand_Color=(e,t,r,n,_)=>(i._DrawingWand_Color=s.Jb)(e,t,r,n,_),i._DrawingWand_Composite=(e,t,r,n,_,c,h,d)=>(i._DrawingWand_Composite=s.Kb)(e,t,r,n,_,c,h,d),i._DrawingWand_Density=(e,t,r)=>(i._DrawingWand_Density=s.Lb)(e,t,r),i._DrawingWand_Ellipse=(e,t,r,n,_,c,h,d)=>(i._DrawingWand_Ellipse=s.Mb)(e,t,r,n,_,c,h,d),i._DrawingWand_FillColor=(e,t,r)=>(i._DrawingWand_FillColor=s.Nb)(e,t,r),i._DrawingWand_FillOpacity=(e,t,r)=>(i._DrawingWand_FillOpacity=s.Ob)(e,t,r),i._DrawingWand_FillPatternUrl=(e,t,r)=>(i._DrawingWand_FillPatternUrl=s.Pb)(e,t,r),i._DrawingWand_FillRule=(e,t,r)=>(i._DrawingWand_FillRule=s.Qb)(e,t,r),i._DrawingWand_Font=(e,t,r)=>(i._DrawingWand_Font=s.Rb)(e,t,r),i._DrawingWand_FontFamily=(e,t,r,n,_,c)=>(i._DrawingWand_FontFamily=s.Sb)(e,t,r,n,_,c),i._DrawingWand_FontPointSize=(e,t,r)=>(i._DrawingWand_FontPointSize=s.Tb)(e,t,r),i._DrawingWand_FontTypeMetrics=(e,t,r,n)=>(i._DrawingWand_FontTypeMetrics=s.Ub)(e,t,r,n),i._TypeMetric_Create=()=>(i._TypeMetric_Create=s.Vb)(),i._DrawingWand_Gravity=(e,t,r)=>(i._DrawingWand_Gravity=s.Wb)(e,t,r),i._DrawingWand_Line=(e,t,r,n,_,c)=>(i._DrawingWand_Line=s.Xb)(e,t,r,n,_,c),i._DrawingWand_PathArcAbs=(e,t,r,n,_,c,h,d,p)=>(i._DrawingWand_PathArcAbs=s.Yb)(e,t,r,n,_,c,h,d,p),i._DrawingWand_PathArcRel=(e,t,r,n,_,c,h,d,p)=>(i._DrawingWand_PathArcRel=s.Zb)(e,t,r,n,_,c,h,d,p),i._DrawingWand_PathClose=(e,t)=>(i._DrawingWand_PathClose=s._b)(e,t),i._DrawingWand_PathCurveToAbs=(e,t,r,n,_,c,h,d)=>(i._DrawingWand_PathCurveToAbs=s.$b)(e,t,r,n,_,c,h,d),i._DrawingWand_PathCurveToRel=(e,t,r,n,_,c,h,d)=>(i._DrawingWand_PathCurveToRel=s.ac)(e,t,r,n,_,c,h,d),i._DrawingWand_PathFinish=(e,t)=>(i._DrawingWand_PathFinish=s.bc)(e,t),i._DrawingWand_PathLineToAbs=(e,t,r,n)=>(i._DrawingWand_PathLineToAbs=s.cc)(e,t,r,n),i._DrawingWand_PathLineToHorizontalAbs=(e,t,r)=>(i._DrawingWand_PathLineToHorizontalAbs=s.dc)(e,t,r),i._DrawingWand_PathLineToHorizontalRel=(e,t,r)=>(i._DrawingWand_PathLineToHorizontalRel=s.ec)(e,t,r),i._DrawingWand_PathLineToRel=(e,t,r,n)=>(i._DrawingWand_PathLineToRel=s.fc)(e,t,r,n),i._DrawingWand_PathLineToVerticalAbs=(e,t,r)=>(i._DrawingWand_PathLineToVerticalAbs=s.gc)(e,t,r),i._DrawingWand_PathLineToVerticalRel=(e,t,r)=>(i._DrawingWand_PathLineToVerticalRel=s.hc)(e,t,r),i._DrawingWand_PathMoveToAbs=(e,t,r,n)=>(i._DrawingWand_PathMoveToAbs=s.ic)(e,t,r,n),i._DrawingWand_PathMoveToRel=(e,t,r,n)=>(i._DrawingWand_PathMoveToRel=s.jc)(e,t,r,n),i._DrawingWand_PathQuadraticCurveToAbs=(e,t,r,n,_,c)=>(i._DrawingWand_PathQuadraticCurveToAbs=s.kc)(e,t,r,n,_,c),i._DrawingWand_PathQuadraticCurveToRel=(e,t,r,n,_,c)=>(i._DrawingWand_PathQuadraticCurveToRel=s.lc)(e,t,r,n,_,c),i._DrawingWand_PathSmoothCurveToAbs=(e,t,r,n,_,c)=>(i._DrawingWand_PathSmoothCurveToAbs=s.mc)(e,t,r,n,_,c),i._DrawingWand_PathSmoothCurveToRel=(e,t,r,n,_,c)=>(i._DrawingWand_PathSmoothCurveToRel=s.nc)(e,t,r,n,_,c),i._DrawingWand_PathSmoothQuadraticCurveToAbs=(e,t,r,n)=>(i._DrawingWand_PathSmoothQuadraticCurveToAbs=s.oc)(e,t,r,n),i._DrawingWand_PathSmoothQuadraticCurveToRel=(e,t,r,n)=>(i._DrawingWand_PathSmoothQuadraticCurveToRel=s.pc)(e,t,r,n),i._DrawingWand_PathStart=(e,t)=>(i._DrawingWand_PathStart=s.qc)(e,t),i._DrawingWand_Point=(e,t,r,n)=>(i._DrawingWand_Point=s.rc)(e,t,r,n),i._DrawingWand_Polygon=(e,t,r,n)=>(i._DrawingWand_Polygon=s.sc)(e,t,r,n),i._DrawingWand_Polyline=(e,t,r,n)=>(i._DrawingWand_Polyline=s.tc)(e,t,r,n),i._DrawingWand_PopClipPath=(e,t)=>(i._DrawingWand_PopClipPath=s.uc)(e,t),i._DrawingWand_PopGraphicContext=(e,t)=>(i._DrawingWand_PopGraphicContext=s.vc)(e,t),i._DrawingWand_PopPattern=(e,t)=>(i._DrawingWand_PopPattern=s.wc)(e,t),i._DrawingWand_PushClipPath=(e,t,r)=>(i._DrawingWand_PushClipPath=s.xc)(e,t,r),i._DrawingWand_PushGraphicContext=(e,t)=>(i._DrawingWand_PushGraphicContext=s.yc)(e,t),i._DrawingWand_PushPattern=(e,t,r,n,_,c,h)=>(i._DrawingWand_PushPattern=s.zc)(e,t,r,n,_,c,h),i._DrawingWand_Rectangle=(e,t,r,n,_,c)=>(i._DrawingWand_Rectangle=s.Ac)(e,t,r,n,_,c),i._DrawingWand_Render=(e,t)=>(i._DrawingWand_Render=s.Bc)(e,t),i._DrawingWand_Rotation=(e,t,r)=>(i._DrawingWand_Rotation=s.Cc)(e,t,r),i._DrawingWand_RoundRectangle=(e,t,r,n,_,c,h,d)=>(i._DrawingWand_RoundRectangle=s.Dc)(e,t,r,n,_,c,h,d),i._DrawingWand_Scaling=(e,t,r,n)=>(i._DrawingWand_Scaling=s.Ec)(e,t,r,n),i._DrawingWand_SkewX=(e,t,r)=>(i._DrawingWand_SkewX=s.Fc)(e,t,r),i._DrawingWand_SkewY=(e,t,r)=>(i._DrawingWand_SkewY=s.Gc)(e,t,r),i._DrawingWand_StrokeAntialias=(e,t,r)=>(i._DrawingWand_StrokeAntialias=s.Hc)(e,t,r),i._DrawingWand_StrokeColor=(e,t,r)=>(i._DrawingWand_StrokeColor=s.Ic)(e,t,r),i._DrawingWand_StrokeDashArray=(e,t,r,n)=>(i._DrawingWand_StrokeDashArray=s.Jc)(e,t,r,n),i._DrawingWand_StrokeDashOffset=(e,t,r)=>(i._DrawingWand_StrokeDashOffset=s.Kc)(e,t,r),i._DrawingWand_StrokeLineCap=(e,t,r)=>(i._DrawingWand_StrokeLineCap=s.Lc)(e,t,r),i._DrawingWand_StrokeLineJoin=(e,t,r)=>(i._DrawingWand_StrokeLineJoin=s.Mc)(e,t,r),i._DrawingWand_StrokeMiterLimit=(e,t,r)=>(i._DrawingWand_StrokeMiterLimit=s.Nc)(e,t,r),i._DrawingWand_StrokeOpacity=(e,t,r)=>(i._DrawingWand_StrokeOpacity=s.Oc)(e,t,r),i._DrawingWand_StrokePatternUrl=(e,t,r)=>(i._DrawingWand_StrokePatternUrl=s.Pc)(e,t,r),i._DrawingWand_StrokeWidth=(e,t,r)=>(i._DrawingWand_StrokeWidth=s.Qc)(e,t,r),i._DrawingWand_Text=(e,t,r,n,_)=>(i._DrawingWand_Text=s.Rc)(e,t,r,n,_),i._DrawingWand_TextAlignment=(e,t,r)=>(i._DrawingWand_TextAlignment=s.Sc)(e,t,r),i._DrawingWand_TextAntialias=(e,t,r)=>(i._DrawingWand_TextAntialias=s.Tc)(e,t,r),i._DrawingWand_TextDecoration=(e,t,r)=>(i._DrawingWand_TextDecoration=s.Uc)(e,t,r),i._DrawingWand_TextDirection=(e,t,r)=>(i._DrawingWand_TextDirection=s.Vc)(e,t,r),i._DrawingWand_TextEncoding=(e,t,r)=>(i._DrawingWand_TextEncoding=s.Wc)(e,t,r),i._DrawingWand_TextInterlineSpacing=(e,t,r)=>(i._DrawingWand_TextInterlineSpacing=s.Xc)(e,t,r),i._DrawingWand_TextInterwordSpacing=(e,t,r)=>(i._DrawingWand_TextInterwordSpacing=s.Yc)(e,t,r),i._DrawingWand_TextKerning=(e,t,r)=>(i._DrawingWand_TextKerning=s.Zc)(e,t,r),i._DrawingWand_TextUnderColor=(e,t,r)=>(i._DrawingWand_TextUnderColor=s._c)(e,t,r),i._DrawingWand_Translation=(e,t,r,n)=>(i._DrawingWand_Translation=s.$c)(e,t,r,n),i._DrawingWand_Viewbox=(e,t,r,n,_,c)=>(i._DrawingWand_Viewbox=s.ad)(e,t,r,n,_,c),i._MagickExceptionHelper_Description=e=>(i._MagickExceptionHelper_Description=s.bd)(e),i._MagickExceptionHelper_Dispose=e=>(i._MagickExceptionHelper_Dispose=s.cd)(e),i._MagickExceptionHelper_Related=(e,t)=>(i._MagickExceptionHelper_Related=s.dd)(e,t),i._MagickExceptionHelper_RelatedCount=e=>(i._MagickExceptionHelper_RelatedCount=s.ed)(e),i._MagickExceptionHelper_Message=e=>(i._MagickExceptionHelper_Message=s.fd)(e),i._MagickExceptionHelper_Severity=e=>(i._MagickExceptionHelper_Severity=s.gd)(e),i._PdfInfo_PageCount=(e,t,r)=>(i._PdfInfo_PageCount=s.hd)(e,t,r),i._Environment_Initialize=()=>(i._Environment_Initialize=s.id)(),i._Environment_GetEnv=e=>(i._Environment_GetEnv=s.jd)(e),i._Environment_SetEnv=(e,t)=>(i._Environment_SetEnv=s.kd)(e,t),i._MagickMemory_Relinquish=e=>(i._MagickMemory_Relinquish=s.ld)(e),i._Magick_Delegates_Get=()=>(i._Magick_Delegates_Get=s.md)(),i._Magick_Features_Get=()=>(i._Magick_Features_Get=s.nd)(),i._Magick_ImageMagickVersion_Get=()=>(i._Magick_ImageMagickVersion_Get=s.od)(),i._Magick_GetFonts=(e,t)=>(i._Magick_GetFonts=s.pd)(e,t),i._Magick_GetFontFamily=(e,t)=>(i._Magick_GetFontFamily=s.qd)(e,t),i._Magick_GetFontName=(e,t)=>(i._Magick_GetFontName=s.rd)(e,t),i._Magick_DisposeFonts=e=>(i._Magick_DisposeFonts=s.sd)(e),i._Magick_ResetRandomSeed=()=>(i._Magick_ResetRandomSeed=s.td)(),i._Magick_SetDefaultFontFile=(e,t)=>(i._Magick_SetDefaultFontFile=s.ud)(e,t),i._Magick_SetRandomSeed=e=>(i._Magick_SetRandomSeed=s.vd)(e),i._Magick_SetLogDelegate=e=>(i._Magick_SetLogDelegate=s.wd)(e),i._Magick_SetLogEvents=e=>(i._Magick_SetLogEvents=s.xd)(e),i._MagickFormatInfo_CreateList=(e,t)=>(i._MagickFormatInfo_CreateList=s.yd)(e,t),i._MagickFormatInfo_DisposeList=(e,t)=>(i._MagickFormatInfo_DisposeList=s.zd)(e,t),i._MagickFormatInfo_CanReadMultithreaded_Get=e=>(i._MagickFormatInfo_CanReadMultithreaded_Get=s.Ad)(e),i._MagickFormatInfo_CanWriteMultithreaded_Get=e=>(i._MagickFormatInfo_CanWriteMultithreaded_Get=s.Bd)(e),i._MagickFormatInfo_Description_Get=e=>(i._MagickFormatInfo_Description_Get=s.Cd)(e),i._MagickFormatInfo_Format_Get=e=>(i._MagickFormatInfo_Format_Get=s.Dd)(e),i._MagickFormatInfo_MimeType_Get=e=>(i._MagickFormatInfo_MimeType_Get=s.Ed)(e),i._MagickFormatInfo_Module_Get=e=>(i._MagickFormatInfo_Module_Get=s.Fd)(e),i._MagickFormatInfo_SupportsMultipleFrames_Get=e=>(i._MagickFormatInfo_SupportsMultipleFrames_Get=s.Gd)(e),i._MagickFormatInfo_SupportsReading_Get=e=>(i._MagickFormatInfo_SupportsReading_Get=s.Hd)(e),i._MagickFormatInfo_SupportsWriting_Get=e=>(i._MagickFormatInfo_SupportsWriting_Get=s.Id)(e),i._MagickFormatInfo_GetInfo=(e,t,r)=>(i._MagickFormatInfo_GetInfo=s.Jd)(e,t,r),i._MagickFormatInfo_GetInfoByName=(e,t)=>(i._MagickFormatInfo_GetInfoByName=s.Kd)(e,t),i._MagickFormatInfo_GetInfoWithBlob=(e,t,r)=>(i._MagickFormatInfo_GetInfoWithBlob=s.Ld)(e,t,r),i._MagickFormatInfo_Unregister=e=>(i._MagickFormatInfo_Unregister=s.Md)(e),i._MagickImage_Create=(e,t)=>(i._MagickImage_Create=s.Nd)(e,t),i._MagickImage_Dispose=e=>(i._MagickImage_Dispose=s.Od)(e),i._MagickImage_AnimationDelay_Get=e=>(i._MagickImage_AnimationDelay_Get=s.Pd)(e),i._MagickImage_AnimationDelay_Set=(e,t)=>(i._MagickImage_AnimationDelay_Set=s.Qd)(e,t),i._MagickImage_AnimationIterations_Get=e=>(i._MagickImage_AnimationIterations_Get=s.Rd)(e),i._MagickImage_AnimationIterations_Set=(e,t)=>(i._MagickImage_AnimationIterations_Set=s.Sd)(e,t),i._MagickImage_AnimationTicksPerSecond_Get=e=>(i._MagickImage_AnimationTicksPerSecond_Get=s.Td)(e),i._MagickImage_AnimationTicksPerSecond_Set=(e,t)=>(i._MagickImage_AnimationTicksPerSecond_Set=s.Ud)(e,t),i._MagickImage_BackgroundColor_Get=e=>(i._MagickImage_BackgroundColor_Get=s.Vd)(e),i._MagickImage_BackgroundColor_Set=(e,t)=>(i._MagickImage_BackgroundColor_Set=s.Wd)(e,t),i._MagickImage_BaseHeight_Get=e=>(i._MagickImage_BaseHeight_Get=s.Xd)(e),i._MagickImage_BaseWidth_Get=e=>(i._MagickImage_BaseWidth_Get=s.Yd)(e),i._MagickImage_BlackPointCompensation_Get=e=>(i._MagickImage_BlackPointCompensation_Get=s.Zd)(e),i._MagickImage_BlackPointCompensation_Set=(e,t)=>(i._MagickImage_BlackPointCompensation_Set=s._d)(e,t),i._MagickImage_BorderColor_Get=e=>(i._MagickImage_BorderColor_Get=s.$d)(e),i._MagickImage_BorderColor_Set=(e,t)=>(i._MagickImage_BorderColor_Set=s.ae)(e,t),i._MagickImage_BoundingBox_Get=(e,t)=>(i._MagickImage_BoundingBox_Get=s.be)(e,t),i._MagickRectangle_Create=()=>(i._MagickRectangle_Create=s.ce)(),i._MagickImage_ChannelCount_Get=e=>(i._MagickImage_ChannelCount_Get=s.de)(e),i._MagickImage_ChromaBlue_Get=e=>(i._MagickImage_ChromaBlue_Get=s.ee)(e),i._PrimaryInfo_Create=()=>(i._PrimaryInfo_Create=s.fe)(),i._MagickImage_ChromaBlue_Set=(e,t)=>(i._MagickImage_ChromaBlue_Set=s.ge)(e,t),i._MagickImage_ChromaGreen_Get=e=>(i._MagickImage_ChromaGreen_Get=s.he)(e),i._MagickImage_ChromaGreen_Set=(e,t)=>(i._MagickImage_ChromaGreen_Set=s.ie)(e,t),i._MagickImage_ChromaRed_Get=e=>(i._MagickImage_ChromaRed_Get=s.je)(e),i._MagickImage_ChromaRed_Set=(e,t)=>(i._MagickImage_ChromaRed_Set=s.ke)(e,t),i._MagickImage_ChromaWhite_Get=e=>(i._MagickImage_ChromaWhite_Get=s.le)(e),i._MagickImage_ChromaWhite_Set=(e,t)=>(i._MagickImage_ChromaWhite_Set=s.me)(e,t),i._MagickImage_ClassType_Get=e=>(i._MagickImage_ClassType_Get=s.ne)(e),i._MagickImage_ClassType_Set=(e,t,r)=>(i._MagickImage_ClassType_Set=s.oe)(e,t,r),i._QuantizeSettings_Create=()=>(i._QuantizeSettings_Create=s.pe)(),i._QuantizeSettings_Dispose=e=>(i._QuantizeSettings_Dispose=s.qe)(e),i._MagickImage_ColorFuzz_Get=e=>(i._MagickImage_ColorFuzz_Get=s.re)(e),i._MagickImage_ColorFuzz_Set=(e,t)=>(i._MagickImage_ColorFuzz_Set=s.se)(e,t),i._MagickImage_ColormapSize_Get=e=>(i._MagickImage_ColormapSize_Get=s.te)(e),i._MagickImage_ColormapSize_Set=(e,t,r)=>(i._MagickImage_ColormapSize_Set=s.ue)(e,t,r),i._MagickImage_ColorSpace_Get=e=>(i._MagickImage_ColorSpace_Get=s.ve)(e),i._MagickImage_ColorSpace_Set=(e,t,r)=>(i._MagickImage_ColorSpace_Set=s.we)(e,t,r),i._MagickImage_ColorType_Get=e=>(i._MagickImage_ColorType_Get=s.xe)(e),i._MagickImage_ColorType_Set=(e,t,r)=>(i._MagickImage_ColorType_Set=s.ye)(e,t,r),i._MagickImage_Compose_Get=e=>(i._MagickImage_Compose_Get=s.ze)(e),i._MagickImage_Compose_Set=(e,t)=>(i._MagickImage_Compose_Set=s.Ae)(e,t),i._MagickImage_Compression_Get=e=>(i._MagickImage_Compression_Get=s.Be)(e),i._MagickImage_Compression_Set=(e,t)=>(i._MagickImage_Compression_Set=s.Ce)(e,t),i._MagickImage_Depth_Get=e=>(i._MagickImage_Depth_Get=s.De)(e),i._MagickImage_Depth_Set=(e,t)=>(i._MagickImage_Depth_Set=s.Ee)(e,t),i._MagickImage_EncodingGeometry_Get=e=>(i._MagickImage_EncodingGeometry_Get=s.Fe)(e),i._MagickImage_Endian_Get=e=>(i._MagickImage_Endian_Get=s.Ge)(e),i._MagickImage_Endian_Set=(e,t)=>(i._MagickImage_Endian_Set=s.He)(e,t),i._MagickImage_FileName_Get=e=>(i._MagickImage_FileName_Get=s.Ie)(e),i._MagickImage_FileName_Set=(e,t)=>(i._MagickImage_FileName_Set=s.Je)(e,t),i._MagickImage_FilterType_Get=e=>(i._MagickImage_FilterType_Get=s.Ke)(e),i._MagickImage_FilterType_Set=(e,t)=>(i._MagickImage_FilterType_Set=s.Le)(e,t),i._MagickImage_Format_Get=e=>(i._MagickImage_Format_Get=s.Me)(e),i._MagickImage_Format_Set=(e,t)=>(i._MagickImage_Format_Set=s.Ne)(e,t),i._MagickImage_Gamma_Get=e=>(i._MagickImage_Gamma_Get=s.Oe)(e),i._MagickImage_GifDisposeMethod_Get=e=>(i._MagickImage_GifDisposeMethod_Get=s.Pe)(e),i._MagickImage_GifDisposeMethod_Set=(e,t)=>(i._MagickImage_GifDisposeMethod_Set=s.Qe)(e,t),i._MagickImage_HasAlpha_Get=e=>(i._MagickImage_HasAlpha_Get=s.Re)(e),i._MagickImage_HasAlpha_Set=(e,t,r)=>(i._MagickImage_HasAlpha_Set=s.Se)(e,t,r),i._MagickImage_Height_Get=e=>(i._MagickImage_Height_Get=s.Te)(e),i._MagickImage_Interlace_Get=e=>(i._MagickImage_Interlace_Get=s.Ue)(e),i._MagickImage_Interlace_Set=(e,t)=>(i._MagickImage_Interlace_Set=s.Ve)(e,t),i._MagickImage_Interpolate_Get=e=>(i._MagickImage_Interpolate_Get=s.We)(e),i._MagickImage_Interpolate_Set=(e,t)=>(i._MagickImage_Interpolate_Set=s.Xe)(e,t),i._MagickImage_IsOpaque_Get=(e,t)=>(i._MagickImage_IsOpaque_Get=s.Ye)(e,t),i._MagickImage_MatteColor_Get=e=>(i._MagickImage_MatteColor_Get=s.Ze)(e),i._MagickImage_MatteColor_Set=(e,t)=>(i._MagickImage_MatteColor_Set=s._e)(e,t),i._MagickImage_MeanErrorPerPixel_Get=e=>(i._MagickImage_MeanErrorPerPixel_Get=s.$e)(e),i._MagickImage_MetaChannelCount_Get=e=>(i._MagickImage_MetaChannelCount_Get=s.af)(e),i._MagickImage_MetaChannelCount_Set=(e,t,r)=>(i._MagickImage_MetaChannelCount_Set=s.bf)(e,t,r),i._MagickImage_NormalizedMaximumError_Get=e=>(i._MagickImage_NormalizedMaximumError_Get=s.cf)(e),i._MagickImage_NormalizedMeanError_Get=e=>(i._MagickImage_NormalizedMeanError_Get=s.df)(e),i._MagickImage_Orientation_Get=e=>(i._MagickImage_Orientation_Get=s.ef)(e),i._MagickImage_Orientation_Set=(e,t)=>(i._MagickImage_Orientation_Set=s.ff)(e,t),i._MagickImage_Page_Get=e=>(i._MagickImage_Page_Get=s.gf)(e),i._MagickImage_Page_Set=(e,t)=>(i._MagickImage_Page_Set=s.hf)(e,t),i._MagickImage_Quality_Get=e=>(i._MagickImage_Quality_Get=s.jf)(e),i._MagickImage_Quality_Set=(e,t)=>(i._MagickImage_Quality_Set=s.kf)(e,t),i._MagickImage_RenderingIntent_Get=e=>(i._MagickImage_RenderingIntent_Get=s.lf)(e),i._MagickImage_RenderingIntent_Set=(e,t)=>(i._MagickImage_RenderingIntent_Set=s.mf)(e,t),i._MagickImage_ResolutionUnits_Get=e=>(i._MagickImage_ResolutionUnits_Get=s.nf)(e),i._MagickImage_ResolutionUnits_Set=(e,t)=>(i._MagickImage_ResolutionUnits_Set=s.of)(e,t),i._MagickImage_ResolutionX_Get=e=>(i._MagickImage_ResolutionX_Get=s.pf)(e),i._MagickImage_ResolutionX_Set=(e,t)=>(i._MagickImage_ResolutionX_Set=s.qf)(e,t),i._MagickImage_ResolutionY_Get=e=>(i._MagickImage_ResolutionY_Get=s.rf)(e),i._MagickImage_ResolutionY_Set=(e,t)=>(i._MagickImage_ResolutionY_Set=s.sf)(e,t),i._MagickImage_Signature_Get=(e,t)=>(i._MagickImage_Signature_Get=s.tf)(e,t),i._MagickImage_TotalColors_Get=(e,t)=>(i._MagickImage_TotalColors_Get=s.uf)(e,t),i._MagickImage_VirtualPixelMethod_Get=e=>(i._MagickImage_VirtualPixelMethod_Get=s.vf)(e),i._MagickImage_VirtualPixelMethod_Set=(e,t,r)=>(i._MagickImage_VirtualPixelMethod_Set=s.wf)(e,t,r),i._MagickImage_Width_Get=e=>(i._MagickImage_Width_Get=s.xf)(e),i._MagickImage_AdaptiveBlur=(e,t,r,n)=>(i._MagickImage_AdaptiveBlur=s.yf)(e,t,r,n),i._MagickImage_AdaptiveResize=(e,t,r)=>(i._MagickImage_AdaptiveResize=s.zf)(e,t,r),i._MagickImage_AdaptiveSharpen=(e,t,r,n,_)=>(i._MagickImage_AdaptiveSharpen=s.Af)(e,t,r,n,_),i._MagickImage_AdaptiveThreshold=(e,t,r,n,_,c)=>(i._MagickImage_AdaptiveThreshold=s.Bf)(e,t,r,n,_,c),i._MagickImage_AddNoise=(e,t,r,n,_)=>(i._MagickImage_AddNoise=s.Cf)(e,t,r,n,_),i._MagickImage_AffineTransform=(e,t,r,n,_,c,h,d)=>(i._MagickImage_AffineTransform=s.Df)(e,t,r,n,_,c,h,d),i._MagickImage_Annotate=(e,t,r,n,_,c,h)=>(i._MagickImage_Annotate=s.Ef)(e,t,r,n,_,c,h),i._MagickImage_AutoGamma=(e,t,r)=>(i._MagickImage_AutoGamma=s.Ff)(e,t,r),i._MagickImage_AutoLevel=(e,t,r)=>(i._MagickImage_AutoLevel=s.Gf)(e,t,r),i._MagickImage_AutoOrient=(e,t)=>(i._MagickImage_AutoOrient=s.Hf)(e,t),i._MagickImage_AutoThreshold=(e,t,r)=>(i._MagickImage_AutoThreshold=s.If)(e,t,r),i._MagickImage_BilateralBlur=(e,t,r,n,_,c)=>(i._MagickImage_BilateralBlur=s.Jf)(e,t,r,n,_,c),i._MagickImage_BlackThreshold=(e,t,r,n)=>(i._MagickImage_BlackThreshold=s.Kf)(e,t,r,n),i._MagickImage_BlueShift=(e,t,r)=>(i._MagickImage_BlueShift=s.Lf)(e,t,r),i._MagickImage_Blur=(e,t,r,n,_)=>(i._MagickImage_Blur=s.Mf)(e,t,r,n,_),i._MagickImage_Border=(e,t,r)=>(i._MagickImage_Border=s.Nf)(e,t,r),i._MagickImage_BrightnessContrast=(e,t,r,n,_)=>(i._MagickImage_BrightnessContrast=s.Of)(e,t,r,n,_),i._MagickImage_CannyEdge=(e,t,r,n,_,c)=>(i._MagickImage_CannyEdge=s.Pf)(e,t,r,n,_,c),i._MagickImage_ChannelOffset=(e,t)=>(i._MagickImage_ChannelOffset=s.Qf)(e,t),i._MagickImage_Charcoal=(e,t,r,n)=>(i._MagickImage_Charcoal=s.Rf)(e,t,r,n),i._MagickImage_Chop=(e,t,r)=>(i._MagickImage_Chop=s.Sf)(e,t,r),i._MagickImage_Clahe=(e,t,r,n,_,c)=>(i._MagickImage_Clahe=s.Tf)(e,t,r,n,_,c),i._MagickImage_Clamp=(e,t,r)=>(i._MagickImage_Clamp=s.Uf)(e,t,r),i._MagickImage_ClipPath=(e,t,r,n)=>(i._MagickImage_ClipPath=s.Vf)(e,t,r,n),i._MagickImage_Clone=(e,t)=>(i._MagickImage_Clone=s.Wf)(e,t),i._MagickImage_CloneArea=(e,t,r,n)=>(i._MagickImage_CloneArea=s.Xf)(e,t,r,n),i._MagickImage_Clut=(e,t,r,n,_)=>(i._MagickImage_Clut=s.Yf)(e,t,r,n,_),i._MagickImage_ColorDecisionList=(e,t,r)=>(i._MagickImage_ColorDecisionList=s.Zf)(e,t,r),i._MagickImage_Colorize=(e,t,r,n)=>(i._MagickImage_Colorize=s._f)(e,t,r,n),i._MagickImage_ColorMatrix=(e,t,r)=>(i._MagickImage_ColorMatrix=s.$f)(e,t,r),i._MagickImage_ColorThreshold=(e,t,r,n)=>(i._MagickImage_ColorThreshold=s.ag)(e,t,r,n),i._MagickImage_Compare=(e,t,r,n,_,c)=>(i._MagickImage_Compare=s.bg)(e,t,r,n,_,c),i._MagickImage_CompareDistortion=(e,t,r,n,_)=>(i._MagickImage_CompareDistortion=s.cg)(e,t,r,n,_),i._MagickImage_Composite=(e,t,r,n,_,c,h)=>(i._MagickImage_Composite=s.dg)(e,t,r,n,_,c,h),i._MagickImage_CompositeGravity=(e,t,r,n,_,c,h,d)=>(i._MagickImage_CompositeGravity=s.eg)(e,t,r,n,_,c,h,d),i._MagickImage_ConnectedComponents=(e,t,r,n)=>(i._MagickImage_ConnectedComponents=s.fg)(e,t,r,n),i._MagickImage_Contrast=(e,t,r)=>(i._MagickImage_Contrast=s.gg)(e,t,r),i._MagickImage_ContrastStretch=(e,t,r,n,_)=>(i._MagickImage_ContrastStretch=s.hg)(e,t,r,n,_),i._MagickImage_ConvexHull=(e,t,r)=>(i._MagickImage_ConvexHull=s.ig)(e,t,r),i._MagickImage_Convolve=(e,t,r)=>(i._MagickImage_Convolve=s.jg)(e,t,r),i._MagickImage_CopyPixels=(e,t,r,n,_,c)=>(i._MagickImage_CopyPixels=s.kg)(e,t,r,n,_,c),i._MagickImage_Crop=(e,t,r,n)=>(i._MagickImage_Crop=s.lg)(e,t,r,n),i._MagickImage_CropToTiles=(e,t,r)=>(i._MagickImage_CropToTiles=s.mg)(e,t,r),i._MagickImage_CycleColormap=(e,t,r)=>(i._MagickImage_CycleColormap=s.ng)(e,t,r),i._MagickImage_Decipher=(e,t,r)=>(i._MagickImage_Decipher=s.og)(e,t,r),i._MagickImage_Deskew=(e,t,r)=>(i._MagickImage_Deskew=s.pg)(e,t,r),i._MagickImage_Despeckle=(e,t)=>(i._MagickImage_Despeckle=s.qg)(e,t),i._MagickImage_DetermineBitDepth=(e,t,r)=>(i._MagickImage_DetermineBitDepth=s.rg)(e,t,r),i._MagickImage_DetermineColorType=(e,t)=>(i._MagickImage_DetermineColorType=s.sg)(e,t),i._MagickImage_Distort=(e,t,r,n,_,c)=>(i._MagickImage_Distort=s.tg)(e,t,r,n,_,c),i._MagickImage_Edge=(e,t,r)=>(i._MagickImage_Edge=s.ug)(e,t,r),i._MagickImage_Emboss=(e,t,r,n)=>(i._MagickImage_Emboss=s.vg)(e,t,r,n),i._MagickImage_Encipher=(e,t,r)=>(i._MagickImage_Encipher=s.wg)(e,t,r),i._MagickImage_Enhance=(e,t)=>(i._MagickImage_Enhance=s.xg)(e,t),i._MagickImage_Equalize=(e,t,r)=>(i._MagickImage_Equalize=s.yg)(e,t,r),i._MagickImage_Equals=(e,t,r)=>(i._MagickImage_Equals=s.zg)(e,t,r),i._MagickImage_EvaluateFunction=(e,t,r,n,_,c)=>(i._MagickImage_EvaluateFunction=s.Ag)(e,t,r,n,_,c),i._MagickImage_EvaluateGeometry=(e,t,r,n,_,c)=>(i._MagickImage_EvaluateGeometry=s.Bg)(e,t,r,n,_,c),i._MagickImage_EvaluateOperator=(e,t,r,n,_)=>(i._MagickImage_EvaluateOperator=s.Cg)(e,t,r,n,_),i._MagickImage_Extent=(e,t,r,n)=>(i._MagickImage_Extent=s.Dg)(e,t,r,n),i._MagickImage_Flip=(e,t)=>(i._MagickImage_Flip=s.Eg)(e,t),i._MagickImage_FloodFill=(e,t,r,n,_,c,h)=>(i._MagickImage_FloodFill=s.Fg)(e,t,r,n,_,c,h),i._MagickImage_Flop=(e,t)=>(i._MagickImage_Flop=s.Gg)(e,t),i._MagickImage_FontTypeMetrics=(e,t,r,n)=>(i._MagickImage_FontTypeMetrics=s.Hg)(e,t,r,n),i._MagickImage_FormatExpression=(e,t,r,n)=>(i._MagickImage_FormatExpression=s.Ig)(e,t,r,n),i._MagickImage_Frame=(e,t,r)=>(i._MagickImage_Frame=s.Jg)(e,t,r),i._MagickImage_Fx=(e,t,r,n)=>(i._MagickImage_Fx=s.Kg)(e,t,r,n),i._MagickImage_GammaCorrect=(e,t,r,n)=>(i._MagickImage_GammaCorrect=s.Lg)(e,t,r,n),i._MagickImage_GaussianBlur=(e,t,r,n,_)=>(i._MagickImage_GaussianBlur=s.Mg)(e,t,r,n,_),i._MagickImage_GetArtifact=(e,t)=>(i._MagickImage_GetArtifact=s.Ng)(e,t),i._MagickImage_GetAttribute=(e,t,r)=>(i._MagickImage_GetAttribute=s.Og)(e,t,r),i._MagickImage_GetColormapColor=(e,t)=>(i._MagickImage_GetColormapColor=s.Pg)(e,t),i._MagickImage_GetNext=e=>(i._MagickImage_GetNext=s.Qg)(e),i._MagickImage_GetNextArtifactName=e=>(i._MagickImage_GetNextArtifactName=s.Rg)(e),i._MagickImage_GetNextAttributeName=e=>(i._MagickImage_GetNextAttributeName=s.Sg)(e),i._MagickImage_GetNextProfileName=e=>(i._MagickImage_GetNextProfileName=s.Tg)(e),i._MagickImage_GetProfile=(e,t)=>(i._MagickImage_GetProfile=s.Ug)(e,t),i._MagickImage_GetReadMask=(e,t)=>(i._MagickImage_GetReadMask=s.Vg)(e,t),i._MagickImage_GetWriteMask=(e,t)=>(i._MagickImage_GetWriteMask=s.Wg)(e,t),i._MagickImage_Grayscale=(e,t,r)=>(i._MagickImage_Grayscale=s.Xg)(e,t,r),i._MagickImage_HaldClut=(e,t,r,n)=>(i._MagickImage_HaldClut=s.Yg)(e,t,r,n),i._MagickImage_HasChannel=(e,t)=>(i._MagickImage_HasChannel=s.Zg)(e,t),i._MagickImage_HasProfile=(e,t)=>(i._MagickImage_HasProfile=s._g)(e,t),i._MagickImage_Histogram=(e,t,r)=>(i._MagickImage_Histogram=s.$g)(e,t,r),i._MagickImage_HoughLine=(e,t,r,n,_)=>(i._MagickImage_HoughLine=s.ah)(e,t,r,n,_),i._MagickImage_Implode=(e,t,r,n)=>(i._MagickImage_Implode=s.bh)(e,t,r,n),i._MagickImage_ImportPixels=(e,t,r,n,_,c,h,d,p,v)=>(i._MagickImage_ImportPixels=s.ch)(e,t,r,n,_,c,h,d,p,v),i._MagickImage_Integral=(e,t)=>(i._MagickImage_Integral=s.dh)(e,t),i._MagickImage_InterpolativeResize=(e,t,r,n)=>(i._MagickImage_InterpolativeResize=s.eh)(e,t,r,n),i._MagickImage_InverseLevel=(e,t,r,n,_,c)=>(i._MagickImage_InverseLevel=s.fh)(e,t,r,n,_,c),i._MagickImage_Kmeans=(e,t,r,n,_)=>(i._MagickImage_Kmeans=s.gh)(e,t,r,n,_),i._MagickImage_Kuwahara=(e,t,r,n)=>(i._MagickImage_Kuwahara=s.hh)(e,t,r,n),i._MagickImage_Level=(e,t,r,n,_,c)=>(i._MagickImage_Level=s.ih)(e,t,r,n,_,c),i._MagickImage_LevelColors=(e,t,r,n,_,c)=>(i._MagickImage_LevelColors=s.jh)(e,t,r,n,_,c),i._MagickImage_LinearStretch=(e,t,r,n)=>(i._MagickImage_LinearStretch=s.kh)(e,t,r,n),i._MagickImage_LiquidRescale=(e,t,r,n,_)=>(i._MagickImage_LiquidRescale=s.lh)(e,t,r,n,_),i._MagickImage_LocalContrast=(e,t,r,n,_)=>(i._MagickImage_LocalContrast=s.mh)(e,t,r,n,_),i._MagickImage_Magnify=(e,t)=>(i._MagickImage_Magnify=s.nh)(e,t),i._MagickImage_MeanShift=(e,t,r,n,_)=>(i._MagickImage_MeanShift=s.oh)(e,t,r,n,_),i._MagickImage_Minify=(e,t)=>(i._MagickImage_Minify=s.ph)(e,t),i._MagickImage_MinimumBoundingBox=(e,t,r)=>(i._MagickImage_MinimumBoundingBox=s.qh)(e,t,r),i._MagickImage_Modulate=(e,t,r)=>(i._MagickImage_Modulate=s.rh)(e,t,r),i._MagickImage_Moments=(e,t)=>(i._MagickImage_Moments=s.sh)(e,t),i._MagickImage_Morphology=(e,t,r,n,_,c)=>(i._MagickImage_Morphology=s.th)(e,t,r,n,_,c),i._MagickImage_MotionBlur=(e,t,r,n,_)=>(i._MagickImage_MotionBlur=s.uh)(e,t,r,n,_),i._MagickImage_Negate=(e,t,r,n)=>(i._MagickImage_Negate=s.vh)(e,t,r,n),i._MagickImage_Normalize=(e,t)=>(i._MagickImage_Normalize=s.wh)(e,t),i._MagickImage_OilPaint=(e,t,r,n)=>(i._MagickImage_OilPaint=s.xh)(e,t,r,n),i._MagickImage_Opaque=(e,t,r,n,_)=>(i._MagickImage_Opaque=s.yh)(e,t,r,n,_),i._MagickImage_OrderedDither=(e,t,r,n)=>(i._MagickImage_OrderedDither=s.zh)(e,t,r,n),i._MagickImage_Perceptible=(e,t,r,n)=>(i._MagickImage_Perceptible=s.Ah)(e,t,r,n),i._MagickImage_PerceptualHash=(e,t)=>(i._MagickImage_PerceptualHash=s.Bh)(e,t),i._MagickImage_Quantize=(e,t,r)=>(i._MagickImage_Quantize=s.Ch)(e,t,r),i._MagickImage_Polaroid=(e,t,r,n,_,c)=>(i._MagickImage_Polaroid=s.Dh)(e,t,r,n,_,c),i._MagickImage_Posterize=(e,t,r,n,_)=>(i._MagickImage_Posterize=s.Eh)(e,t,r,n,_),i._MagickImage_RaiseOrLower=(e,t,r,n)=>(i._MagickImage_RaiseOrLower=s.Fh)(e,t,r,n),i._MagickImage_RandomThreshold=(e,t,r,n,_)=>(i._MagickImage_RandomThreshold=s.Gh)(e,t,r,n,_),i._MagickImage_RangeThreshold=(e,t,r,n,_,c)=>(i._MagickImage_RangeThreshold=s.Hh)(e,t,r,n,_,c),i._MagickImage_ReadBlob=(e,t,r,n,_)=>(i._MagickImage_ReadBlob=s.Ih)(e,t,r,n,_),i._MagickImage_ReadFile=(e,t)=>(i._MagickImage_ReadFile=s.Jh)(e,t),i._MagickImage_ReadPixels=(e,t,r,n,_,c,h)=>(i._MagickImage_ReadPixels=s.Kh)(e,t,r,n,_,c,h),i._MagickImage_ReadStream=(e,t,r,n,_,c)=>(i._MagickImage_ReadStream=s.Lh)(e,t,r,n,_,c),i._MagickImage_RegionMask=(e,t,r)=>(i._MagickImage_RegionMask=s.Mh)(e,t,r),i._MagickImage_Remap=(e,t,r,n)=>(i._MagickImage_Remap=s.Nh)(e,t,r,n),i._MagickImage_RemoveArtifact=(e,t)=>(i._MagickImage_RemoveArtifact=s.Oh)(e,t),i._MagickImage_RemoveAttribute=(e,t)=>(i._MagickImage_RemoveAttribute=s.Ph)(e,t),i._MagickImage_RemoveProfile=(e,t)=>(i._MagickImage_RemoveProfile=s.Qh)(e,t),i._MagickImage_ResetArtifactIterator=e=>(i._MagickImage_ResetArtifactIterator=s.Rh)(e),i._MagickImage_ResetAttributeIterator=e=>(i._MagickImage_ResetAttributeIterator=s.Sh)(e),i._MagickImage_ResetProfileIterator=e=>(i._MagickImage_ResetProfileIterator=s.Th)(e),i._MagickImage_Resample=(e,t,r,n)=>(i._MagickImage_Resample=s.Uh)(e,t,r,n),i._MagickImage_Resize=(e,t,r)=>(i._MagickImage_Resize=s.Vh)(e,t,r),i._MagickImage_Roll=(e,t,r,n)=>(i._MagickImage_Roll=s.Wh)(e,t,r,n),i._MagickImage_Rotate=(e,t,r)=>(i._MagickImage_Rotate=s.Xh)(e,t,r),i._MagickImage_RotationalBlur=(e,t,r,n)=>(i._MagickImage_RotationalBlur=s.Yh)(e,t,r,n),i._MagickImage_Sample=(e,t,r)=>(i._MagickImage_Sample=s.Zh)(e,t,r),i._MagickImage_Scale=(e,t,r)=>(i._MagickImage_Scale=s._h)(e,t,r),i._MagickImage_Segment=(e,t,r,n,_)=>(i._MagickImage_Segment=s.$h)(e,t,r,n,_),i._MagickImage_SelectiveBlur=(e,t,r,n,_,c)=>(i._MagickImage_SelectiveBlur=s.ai)(e,t,r,n,_,c),i._MagickImage_Separate=(e,t,r)=>(i._MagickImage_Separate=s.bi)(e,t,r),i._MagickImage_SepiaTone=(e,t,r)=>(i._MagickImage_SepiaTone=s.ci)(e,t,r),i._MagickImage_SetAlpha=(e,t,r)=>(i._MagickImage_SetAlpha=s.di)(e,t,r),i._MagickImage_SetArtifact=(e,t,r)=>(i._MagickImage_SetArtifact=s.ei)(e,t,r),i._MagickImage_SetAttribute=(e,t,r,n)=>(i._MagickImage_SetAttribute=s.fi)(e,t,r,n),i._MagickImage_SetBitDepth=(e,t,r,n)=>(i._MagickImage_SetBitDepth=s.gi)(e,t,r,n),i._MagickImage_SetClientData=(e,t)=>(i._MagickImage_SetClientData=s.hi)(e,t),i._MagickImage_SetColormapColor=(e,t,r,n)=>(i._MagickImage_SetColormapColor=s.ii)(e,t,r,n),i._MagickImage_SetColorMetric=(e,t,r)=>(i._MagickImage_SetColorMetric=s.ji)(e,t,r),i._MagickImage_SetNext=(e,t)=>(i._MagickImage_SetNext=s.ki)(e,t),i._MagickImage_SetProfile=(e,t,r,n,_)=>(i._MagickImage_SetProfile=s.li)(e,t,r,n,_),i._MagickImage_SetProgressDelegate=(e,t)=>(i._MagickImage_SetProgressDelegate=s.mi)(e,t),i._MagickImage_SetReadMask=(e,t,r)=>(i._MagickImage_SetReadMask=s.ni)(e,t,r),i._MagickImage_SetWriteMask=(e,t,r)=>(i._MagickImage_SetWriteMask=s.oi)(e,t,r),i._MagickImage_Shade=(e,t,r,n,_,c)=>(i._MagickImage_Shade=s.pi)(e,t,r,n,_,c),i._MagickImage_Shadow=(e,t,r,n,_,c)=>(i._MagickImage_Shadow=s.qi)(e,t,r,n,_,c),i._MagickImage_Sharpen=(e,t,r,n,_)=>(i._MagickImage_Sharpen=s.ri)(e,t,r,n,_),i._MagickImage_Shave=(e,t,r,n)=>(i._MagickImage_Shave=s.si)(e,t,r,n),i._MagickImage_Shear=(e,t,r,n)=>(i._MagickImage_Shear=s.ti)(e,t,r,n),i._MagickImage_SigmoidalContrast=(e,t,r,n,_,c)=>(i._MagickImage_SigmoidalContrast=s.ui)(e,t,r,n,_,c),i._MagickImage_SparseColor=(e,t,r,n,_,c)=>(i._MagickImage_SparseColor=s.vi)(e,t,r,n,_,c),i._MagickImage_Spread=(e,t,r,n)=>(i._MagickImage_Spread=s.wi)(e,t,r,n),i._MagickImage_Sketch=(e,t,r,n,_)=>(i._MagickImage_Sketch=s.xi)(e,t,r,n,_),i._MagickImage_Solarize=(e,t,r)=>(i._MagickImage_Solarize=s.yi)(e,t,r),i._MagickImage_SortPixels=(e,t)=>(i._MagickImage_SortPixels=s.zi)(e,t),i._MagickImage_Splice=(e,t,r)=>(i._MagickImage_Splice=s.Ai)(e,t,r),i._MagickImage_Statistic=(e,t,r,n,_)=>(i._MagickImage_Statistic=s.Bi)(e,t,r,n,_),i._MagickImage_Statistics=(e,t,r)=>(i._MagickImage_Statistics=s.Ci)(e,t,r),i._MagickImage_Stegano=(e,t,r)=>(i._MagickImage_Stegano=s.Di)(e,t,r),i._MagickImage_Stereo=(e,t,r)=>(i._MagickImage_Stereo=s.Ei)(e,t,r),i._MagickImage_Strip=(e,t)=>(i._MagickImage_Strip=s.Fi)(e,t),i._MagickImage_SubImageSearch=(e,t,r,n,_,c,h)=>(i._MagickImage_SubImageSearch=s.Gi)(e,t,r,n,_,c,h),i._MagickImage_Swirl=(e,t,r,n)=>(i._MagickImage_Swirl=s.Hi)(e,t,r,n),i._MagickImage_Texture=(e,t,r)=>(i._MagickImage_Texture=s.Ii)(e,t,r),i._MagickImage_Threshold=(e,t,r,n)=>(i._MagickImage_Threshold=s.Ji)(e,t,r,n),i._MagickImage_Thumbnail=(e,t,r)=>(i._MagickImage_Thumbnail=s.Ki)(e,t,r),i._MagickImage_Tint=(e,t,r,n)=>(i._MagickImage_Tint=s.Li)(e,t,r,n),i._MagickImage_Transparent=(e,t,r,n)=>(i._MagickImage_Transparent=s.Mi)(e,t,r,n),i._MagickImage_TransparentChroma=(e,t,r,n,_)=>(i._MagickImage_TransparentChroma=s.Ni)(e,t,r,n,_),i._MagickImage_Transpose=(e,t)=>(i._MagickImage_Transpose=s.Oi)(e,t),i._MagickImage_Transverse=(e,t)=>(i._MagickImage_Transverse=s.Pi)(e,t),i._MagickImage_Trim=(e,t)=>(i._MagickImage_Trim=s.Qi)(e,t),i._MagickImage_UniqueColors=(e,t)=>(i._MagickImage_UniqueColors=s.Ri)(e,t),i._MagickImage_UnsharpMask=(e,t,r,n,_,c,h)=>(i._MagickImage_UnsharpMask=s.Si)(e,t,r,n,_,c,h),i._MagickImage_Vignette=(e,t,r,n,_,c)=>(i._MagickImage_Vignette=s.Ti)(e,t,r,n,_,c),i._MagickImage_Wave=(e,t,r,n,_)=>(i._MagickImage_Wave=s.Ui)(e,t,r,n,_),i._MagickImage_WaveletDenoise=(e,t,r,n)=>(i._MagickImage_WaveletDenoise=s.Vi)(e,t,r,n),i._MagickImage_WhiteBalance=(e,t)=>(i._MagickImage_WhiteBalance=s.Wi)(e,t),i._MagickImage_WhiteThreshold=(e,t,r,n)=>(i._MagickImage_WhiteThreshold=s.Xi)(e,t,r,n),i._MagickImage_WriteBlob=(e,t,r,n)=>(i._MagickImage_WriteBlob=s.Yi)(e,t,r,n),i._MagickImage_WriteFile=(e,t,r)=>(i._MagickImage_WriteFile=s.Zi)(e,t,r),i._MagickImage_WriteStream=(e,t,r,n,_,c,h,d)=>(i._MagickImage_WriteStream=s._i)(e,t,r,n,_,c,h,d),i._MagickImageCollection_Append=(e,t,r)=>(i._MagickImageCollection_Append=s.$i)(e,t,r),i._MagickImageCollection_Coalesce=(e,t)=>(i._MagickImageCollection_Coalesce=s.aj)(e,t),i._MagickImageCollection_Combine=(e,t,r)=>(i._MagickImageCollection_Combine=s.bj)(e,t,r),i._MagickImageCollection_Complex=(e,t,r)=>(i._MagickImageCollection_Complex=s.cj)(e,t,r),i._MagickImageCollection_Deconstruct=(e,t)=>(i._MagickImageCollection_Deconstruct=s.dj)(e,t),i._MagickImageCollection_Dispose=e=>(i._MagickImageCollection_Dispose=s.ej)(e),i._MagickImageCollection_Evaluate=(e,t,r)=>(i._MagickImageCollection_Evaluate=s.fj)(e,t,r),i._MagickImageCollection_Fx=(e,t,r,n)=>(i._MagickImageCollection_Fx=s.gj)(e,t,r,n),i._MagickImageCollection_Merge=(e,t,r)=>(i._MagickImageCollection_Merge=s.hj)(e,t,r),i._MagickImageCollection_Montage=(e,t,r)=>(i._MagickImageCollection_Montage=s.ij)(e,t,r),i._MagickImageCollection_Morph=(e,t,r)=>(i._MagickImageCollection_Morph=s.jj)(e,t,r),i._MagickImageCollection_Optimize=(e,t)=>(i._MagickImageCollection_Optimize=s.kj)(e,t),i._MagickImageCollection_OptimizePlus=(e,t)=>(i._MagickImageCollection_OptimizePlus=s.lj)(e,t),i._MagickImageCollection_OptimizeTransparency=(e,t)=>(i._MagickImageCollection_OptimizeTransparency=s.mj)(e,t),i._MagickImageCollection_Polynomial=(e,t,r,n)=>(i._MagickImageCollection_Polynomial=s.nj)(e,t,r,n),i._MagickImageCollection_Quantize=(e,t,r)=>(i._MagickImageCollection_Quantize=s.oj)(e,t,r),i._MagickImageCollection_ReadBlob=(e,t,r,n,_)=>(i._MagickImageCollection_ReadBlob=s.pj)(e,t,r,n,_),i._MagickImageCollection_ReadFile=(e,t)=>(i._MagickImageCollection_ReadFile=s.qj)(e,t),i._MagickImageCollection_ReadStream=(e,t,r,n,_,c)=>(i._MagickImageCollection_ReadStream=s.rj)(e,t,r,n,_,c),i._MagickImageCollection_Remap=(e,t,r,n)=>(i._MagickImageCollection_Remap=s.sj)(e,t,r,n),i._MagickImageCollection_Smush=(e,t,r,n)=>(i._MagickImageCollection_Smush=s.tj)(e,t,r,n),i._MagickImageCollection_WriteFile=(e,t,r)=>(i._MagickImageCollection_WriteFile=s.uj)(e,t,r),i._MagickImageCollection_WriteStream=(e,t,r,n,_,c,h,d)=>(i._MagickImageCollection_WriteStream=s.vj)(e,t,r,n,_,c,h,d),i._DoubleMatrix_Create=(e,t)=>(i._DoubleMatrix_Create=s.wj)(e,t),i._DoubleMatrix_Dispose=e=>(i._DoubleMatrix_Dispose=s.xj)(e),i._OpenCL_GetDevices=e=>(i._OpenCL_GetDevices=s.yj)(e),i._OpenCL_GetDevice=(e,t)=>(i._OpenCL_GetDevice=s.zj)(e,t),i._OpenCL_GetEnabled=()=>(i._OpenCL_GetEnabled=s.Aj)(),i._OpenCL_SetEnabled=e=>(i._OpenCL_SetEnabled=s.Bj)(e),i._OpenCLDevice_DeviceType_Get=e=>(i._OpenCLDevice_DeviceType_Get=s.Cj)(e),i._OpenCLDevice_BenchmarkScore_Get=e=>(i._OpenCLDevice_BenchmarkScore_Get=s.Dj)(e),i._OpenCLDevice_IsEnabled_Get=e=>(i._OpenCLDevice_IsEnabled_Get=s.Ej)(e),i._OpenCLDevice_IsEnabled_Set=(e,t)=>(i._OpenCLDevice_IsEnabled_Set=s.Fj)(e,t),i._OpenCLDevice_Name_Get=e=>(i._OpenCLDevice_Name_Get=s.Gj)(e),i._OpenCLDevice_Version_Get=e=>(i._OpenCLDevice_Version_Get=s.Hj)(e),i._OpenCLDevice_GetKernelProfileRecords=(e,t)=>(i._OpenCLDevice_GetKernelProfileRecords=s.Ij)(e,t),i._OpenCLDevice_GetKernelProfileRecord=(e,t)=>(i._OpenCLDevice_GetKernelProfileRecord=s.Jj)(e,t),i._OpenCLDevice_SetProfileKernels=(e,t)=>(i._OpenCLDevice_SetProfileKernels=s.Kj)(e,t),i._OpenCLKernelProfileRecord_Count_Get=e=>(i._OpenCLKernelProfileRecord_Count_Get=s.Lj)(e),i._OpenCLKernelProfileRecord_Name_Get=e=>(i._OpenCLKernelProfileRecord_Name_Get=s.Mj)(e),i._OpenCLKernelProfileRecord_MaximumDuration_Get=e=>(i._OpenCLKernelProfileRecord_MaximumDuration_Get=s.Nj)(e),i._OpenCLKernelProfileRecord_MinimumDuration_Get=e=>(i._OpenCLKernelProfileRecord_MinimumDuration_Get=s.Oj)(e),i._OpenCLKernelProfileRecord_TotalDuration_Get=e=>(i._OpenCLKernelProfileRecord_TotalDuration_Get=s.Pj)(e),i._JpegOptimizer_CompressFile=(e,t,r,n,_,c)=>(i._JpegOptimizer_CompressFile=s.Qj)(e,t,r,n,_,c),i._JpegOptimizer_CompressStream=(e,t,r,n,_,c)=>(i._JpegOptimizer_CompressStream=s.Rj)(e,t,r,n,_,c);var Si=i._malloc=e=>(Si=i._malloc=s.Sj)(e),Ae=i._free=e=>(Ae=i._free=s.Tj)(e);i._PixelCollection_Create=(e,t)=>(i._PixelCollection_Create=s.Uj)(e,t),i._PixelCollection_Dispose=e=>(i._PixelCollection_Dispose=s.Vj)(e),i._PixelCollection_GetArea=(e,t,r,n,_,c)=>(i._PixelCollection_GetArea=s.Wj)(e,t,r,n,_,c),i._PixelCollection_GetReadOnlyArea=(e,t,r,n,_,c)=>(i._PixelCollection_GetReadOnlyArea=s.Xj)(e,t,r,n,_,c),i._PixelCollection_SetArea=(e,t,r,n,_,c,h,d)=>(i._PixelCollection_SetArea=s.Yj)(e,t,r,n,_,c,h,d),i._PixelCollection_ToByteArray=(e,t,r,n,_,c,h)=>(i._PixelCollection_ToByteArray=s.Zj)(e,t,r,n,_,c,h),i._PixelCollection_ToShortArray=(e,t,r,n,_,c,h)=>(i._PixelCollection_ToShortArray=s._j)(e,t,r,n,_,c,h),i._Quantum_Depth_Get=()=>(i._Quantum_Depth_Get=s.$j)(),i._Quantum_Max_Get=()=>(i._Quantum_Max_Get=s.ak)(),i._Quantum_ScaleToByte=e=>(i._Quantum_ScaleToByte=s.bk)(e),i._ResourceLimits_Area_Get=()=>(i._ResourceLimits_Area_Get=s.ck)(),i._ResourceLimits_Area_Set=e=>(i._ResourceLimits_Area_Set=s.dk)(e),i._ResourceLimits_Disk_Get=()=>(i._ResourceLimits_Disk_Get=s.ek)(),i._ResourceLimits_Disk_Set=e=>(i._ResourceLimits_Disk_Set=s.fk)(e),i._ResourceLimits_Height_Get=()=>(i._ResourceLimits_Height_Get=s.gk)(),i._ResourceLimits_Height_Set=e=>(i._ResourceLimits_Height_Set=s.hk)(e),i._ResourceLimits_ListLength_Get=()=>(i._ResourceLimits_ListLength_Get=s.ik)(),i._ResourceLimits_ListLength_Set=e=>(i._ResourceLimits_ListLength_Set=s.jk)(e),i._ResourceLimits_MaxMemoryRequest_Get=()=>(i._ResourceLimits_MaxMemoryRequest_Get=s.kk)(),i._ResourceLimits_MaxMemoryRequest_Set=(e,t)=>(i._ResourceLimits_MaxMemoryRequest_Set=s.lk)(e,t),i._ResourceLimits_MaxProfileSize_Get=()=>(i._ResourceLimits_MaxProfileSize_Get=s.mk)(),i._ResourceLimits_MaxProfileSize_Set=(e,t)=>(i._ResourceLimits_MaxProfileSize_Set=s.nk)(e,t),i._ResourceLimits_Memory_Get=()=>(i._ResourceLimits_Memory_Get=s.ok)(),i._ResourceLimits_Memory_Set=e=>(i._ResourceLimits_Memory_Set=s.pk)(e),i._ResourceLimits_Thread_Get=()=>(i._ResourceLimits_Thread_Get=s.qk)(),i._ResourceLimits_Thread_Set=e=>(i._ResourceLimits_Thread_Set=s.rk)(e),i._ResourceLimits_Throttle_Get=()=>(i._ResourceLimits_Throttle_Get=s.sk)(),i._ResourceLimits_Throttle_Set=e=>(i._ResourceLimits_Throttle_Set=s.tk)(e),i._ResourceLimits_Time_Get=()=>(i._ResourceLimits_Time_Get=s.uk)(),i._ResourceLimits_Time_Set=e=>(i._ResourceLimits_Time_Set=s.vk)(e),i._ResourceLimits_Width_Get=()=>(i._ResourceLimits_Width_Get=s.wk)(),i._ResourceLimits_Width_Set=e=>(i._ResourceLimits_Width_Set=s.xk)(e),i._ResourceLimits_LimitMemory=e=>(i._ResourceLimits_LimitMemory=s.yk)(e),i._DrawingSettings_Create=()=>(i._DrawingSettings_Create=s.zk)(),i._DrawingSettings_Dispose=e=>(i._DrawingSettings_Dispose=s.Ak)(e),i._DrawingSettings_BorderColor_Get=e=>(i._DrawingSettings_BorderColor_Get=s.Bk)(e),i._DrawingSettings_BorderColor_Set=(e,t)=>(i._DrawingSettings_BorderColor_Set=s.Ck)(e,t),i._DrawingSettings_FillColor_Get=e=>(i._DrawingSettings_FillColor_Get=s.Dk)(e),i._DrawingSettings_FillColor_Set=(e,t)=>(i._DrawingSettings_FillColor_Set=s.Ek)(e,t),i._DrawingSettings_FillRule_Get=e=>(i._DrawingSettings_FillRule_Get=s.Fk)(e),i._DrawingSettings_FillRule_Set=(e,t)=>(i._DrawingSettings_FillRule_Set=s.Gk)(e,t),i._DrawingSettings_Font_Get=e=>(i._DrawingSettings_Font_Get=s.Hk)(e),i._DrawingSettings_Font_Set=(e,t)=>(i._DrawingSettings_Font_Set=s.Ik)(e,t),i._DrawingSettings_FontFamily_Get=e=>(i._DrawingSettings_FontFamily_Get=s.Jk)(e),i._DrawingSettings_FontFamily_Set=(e,t)=>(i._DrawingSettings_FontFamily_Set=s.Kk)(e,t),i._DrawingSettings_FontPointsize_Get=e=>(i._DrawingSettings_FontPointsize_Get=s.Lk)(e),i._DrawingSettings_FontPointsize_Set=(e,t)=>(i._DrawingSettings_FontPointsize_Set=s.Mk)(e,t),i._DrawingSettings_FontStyle_Get=e=>(i._DrawingSettings_FontStyle_Get=s.Nk)(e),i._DrawingSettings_FontStyle_Set=(e,t)=>(i._DrawingSettings_FontStyle_Set=s.Ok)(e,t),i._DrawingSettings_FontWeight_Get=e=>(i._DrawingSettings_FontWeight_Get=s.Pk)(e),i._DrawingSettings_FontWeight_Set=(e,t)=>(i._DrawingSettings_FontWeight_Set=s.Qk)(e,t),i._DrawingSettings_StrokeAntiAlias_Get=e=>(i._DrawingSettings_StrokeAntiAlias_Get=s.Rk)(e),i._DrawingSettings_StrokeAntiAlias_Set=(e,t)=>(i._DrawingSettings_StrokeAntiAlias_Set=s.Sk)(e,t),i._DrawingSettings_StrokeColor_Get=e=>(i._DrawingSettings_StrokeColor_Get=s.Tk)(e),i._DrawingSettings_StrokeColor_Set=(e,t)=>(i._DrawingSettings_StrokeColor_Set=s.Uk)(e,t),i._DrawingSettings_StrokeDashOffset_Get=e=>(i._DrawingSettings_StrokeDashOffset_Get=s.Vk)(e),i._DrawingSettings_StrokeDashOffset_Set=(e,t)=>(i._DrawingSettings_StrokeDashOffset_Set=s.Wk)(e,t),i._DrawingSettings_StrokeLineCap_Get=e=>(i._DrawingSettings_StrokeLineCap_Get=s.Xk)(e),i._DrawingSettings_StrokeLineCap_Set=(e,t)=>(i._DrawingSettings_StrokeLineCap_Set=s.Yk)(e,t),i._DrawingSettings_StrokeLineJoin_Get=e=>(i._DrawingSettings_StrokeLineJoin_Get=s.Zk)(e),i._DrawingSettings_StrokeLineJoin_Set=(e,t)=>(i._DrawingSettings_StrokeLineJoin_Set=s._k)(e,t),i._DrawingSettings_StrokeMiterLimit_Get=e=>(i._DrawingSettings_StrokeMiterLimit_Get=s.$k)(e),i._DrawingSettings_StrokeMiterLimit_Set=(e,t)=>(i._DrawingSettings_StrokeMiterLimit_Set=s.al)(e,t),i._DrawingSettings_StrokeWidth_Get=e=>(i._DrawingSettings_StrokeWidth_Get=s.bl)(e),i._DrawingSettings_StrokeWidth_Set=(e,t)=>(i._DrawingSettings_StrokeWidth_Set=s.cl)(e,t),i._DrawingSettings_TextAntiAlias_Get=e=>(i._DrawingSettings_TextAntiAlias_Get=s.dl)(e),i._DrawingSettings_TextAntiAlias_Set=(e,t)=>(i._DrawingSettings_TextAntiAlias_Set=s.el)(e,t),i._DrawingSettings_TextDirection_Get=e=>(i._DrawingSettings_TextDirection_Get=s.fl)(e),i._DrawingSettings_TextDirection_Set=(e,t)=>(i._DrawingSettings_TextDirection_Set=s.gl)(e,t),i._DrawingSettings_TextEncoding_Get=e=>(i._DrawingSettings_TextEncoding_Get=s.hl)(e),i._DrawingSettings_TextEncoding_Set=(e,t)=>(i._DrawingSettings_TextEncoding_Set=s.il)(e,t),i._DrawingSettings_TextGravity_Get=e=>(i._DrawingSettings_TextGravity_Get=s.jl)(e),i._DrawingSettings_TextGravity_Set=(e,t)=>(i._DrawingSettings_TextGravity_Set=s.kl)(e,t),i._DrawingSettings_TextInterlineSpacing_Get=e=>(i._DrawingSettings_TextInterlineSpacing_Get=s.ll)(e),i._DrawingSettings_TextInterlineSpacing_Set=(e,t)=>(i._DrawingSettings_TextInterlineSpacing_Set=s.ml)(e,t),i._DrawingSettings_TextInterwordSpacing_Get=e=>(i._DrawingSettings_TextInterwordSpacing_Get=s.nl)(e),i._DrawingSettings_TextInterwordSpacing_Set=(e,t)=>(i._DrawingSettings_TextInterwordSpacing_Set=s.ol)(e,t),i._DrawingSettings_TextKerning_Get=e=>(i._DrawingSettings_TextKerning_Get=s.pl)(e),i._DrawingSettings_TextKerning_Set=(e,t)=>(i._DrawingSettings_TextKerning_Set=s.ql)(e,t),i._DrawingSettings_TextUnderColor_Get=e=>(i._DrawingSettings_TextUnderColor_Get=s.rl)(e),i._DrawingSettings_TextUnderColor_Set=(e,t)=>(i._DrawingSettings_TextUnderColor_Set=s.sl)(e,t),i._DrawingSettings_SetAffine=(e,t,r,n,_,c,h)=>(i._DrawingSettings_SetAffine=s.tl)(e,t,r,n,_,c,h),i._DrawingSettings_SetFillPattern=(e,t,r)=>(i._DrawingSettings_SetFillPattern=s.ul)(e,t,r),i._DrawingSettings_SetStrokeDashArray=(e,t,r)=>(i._DrawingSettings_SetStrokeDashArray=s.vl)(e,t,r),i._DrawingSettings_SetStrokePattern=(e,t,r)=>(i._DrawingSettings_SetStrokePattern=s.wl)(e,t,r),i._DrawingSettings_SetText=(e,t)=>(i._DrawingSettings_SetText=s.xl)(e,t),i._MagickSettings_Create=()=>(i._MagickSettings_Create=s.yl)(),i._MagickSettings_Dispose=e=>(i._MagickSettings_Dispose=s.zl)(e),i._MagickSettings_AntiAlias_Get=e=>(i._MagickSettings_AntiAlias_Get=s.Al)(e),i._MagickSettings_AntiAlias_Set=(e,t)=>(i._MagickSettings_AntiAlias_Set=s.Bl)(e,t),i._MagickSettings_BackgroundColor_Get=e=>(i._MagickSettings_BackgroundColor_Get=s.Cl)(e),i._MagickSettings_BackgroundColor_Set=(e,t)=>(i._MagickSettings_BackgroundColor_Set=s.Dl)(e,t),i._MagickSettings_ColorSpace_Get=e=>(i._MagickSettings_ColorSpace_Get=s.El)(e),i._MagickSettings_ColorSpace_Set=(e,t)=>(i._MagickSettings_ColorSpace_Set=s.Fl)(e,t),i._MagickSettings_ColorType_Get=e=>(i._MagickSettings_ColorType_Get=s.Gl)(e),i._MagickSettings_ColorType_Set=(e,t)=>(i._MagickSettings_ColorType_Set=s.Hl)(e,t),i._MagickSettings_Compression_Get=e=>(i._MagickSettings_Compression_Get=s.Il)(e),i._MagickSettings_Compression_Set=(e,t)=>(i._MagickSettings_Compression_Set=s.Jl)(e,t),i._MagickSettings_Debug_Get=e=>(i._MagickSettings_Debug_Get=s.Kl)(e),i._MagickSettings_Debug_Set=(e,t)=>(i._MagickSettings_Debug_Set=s.Ll)(e,t),i._MagickSettings_Density_Get=e=>(i._MagickSettings_Density_Get=s.Ml)(e),i._MagickSettings_Density_Set=(e,t)=>(i._MagickSettings_Density_Set=s.Nl)(e,t),i._MagickSettings_Depth_Get=e=>(i._MagickSettings_Depth_Get=s.Ol)(e),i._MagickSettings_Depth_Set=(e,t)=>(i._MagickSettings_Depth_Set=s.Pl)(e,t),i._MagickSettings_Endian_Get=e=>(i._MagickSettings_Endian_Get=s.Ql)(e),i._MagickSettings_Endian_Set=(e,t)=>(i._MagickSettings_Endian_Set=s.Rl)(e,t),i._MagickSettings_Extract_Get=e=>(i._MagickSettings_Extract_Get=s.Sl)(e),i._MagickSettings_Extract_Set=(e,t)=>(i._MagickSettings_Extract_Set=s.Tl)(e,t),i._MagickSettings_Format_Get=e=>(i._MagickSettings_Format_Get=s.Ul)(e),i._MagickSettings_Format_Set=(e,t)=>(i._MagickSettings_Format_Set=s.Vl)(e,t),i._MagickSettings_FontPointsize_Get=e=>(i._MagickSettings_FontPointsize_Get=s.Wl)(e),i._MagickSettings_FontPointsize_Set=(e,t)=>(i._MagickSettings_FontPointsize_Set=s.Xl)(e,t),i._MagickSettings_Interlace_Get=e=>(i._MagickSettings_Interlace_Get=s.Yl)(e),i._MagickSettings_Interlace_Set=(e,t)=>(i._MagickSettings_Interlace_Set=s.Zl)(e,t),i._MagickSettings_Monochrome_Get=e=>(i._MagickSettings_Monochrome_Get=s._l)(e),i._MagickSettings_Monochrome_Set=(e,t)=>(i._MagickSettings_Monochrome_Set=s.$l)(e,t),i._MagickSettings_Verbose_Get=e=>(i._MagickSettings_Verbose_Get=s.am)(e),i._MagickSettings_Verbose_Set=(e,t)=>(i._MagickSettings_Verbose_Set=s.bm)(e,t),i._MagickSettings_SetColorFuzz=(e,t)=>(i._MagickSettings_SetColorFuzz=s.cm)(e,t),i._MagickSettings_SetFileName=(e,t)=>(i._MagickSettings_SetFileName=s.dm)(e,t),i._MagickSettings_SetFont=(e,t)=>(i._MagickSettings_SetFont=s.em)(e,t),i._MagickSettings_SetNumberScenes=(e,t)=>(i._MagickSettings_SetNumberScenes=s.fm)(e,t),i._MagickSettings_SetOption=(e,t,r)=>(i._MagickSettings_SetOption=s.gm)(e,t,r),i._MagickSettings_SetPage=(e,t)=>(i._MagickSettings_SetPage=s.hm)(e,t),i._MagickSettings_SetPing=(e,t)=>(i._MagickSettings_SetPing=s.im)(e,t),i._MagickSettings_SetQuality=(e,t)=>(i._MagickSettings_SetQuality=s.jm)(e,t),i._MagickSettings_SetScenes=(e,t)=>(i._MagickSettings_SetScenes=s.km)(e,t),i._MagickSettings_SetScene=(e,t)=>(i._MagickSettings_SetScene=s.lm)(e,t),i._MagickSettings_SetSize=(e,t)=>(i._MagickSettings_SetSize=s.mm)(e,t),i._MontageSettings_Create=()=>(i._MontageSettings_Create=s.nm)(),i._MontageSettings_Dispose=e=>(i._MontageSettings_Dispose=s.om)(e),i._MontageSettings_SetBackgroundColor=(e,t)=>(i._MontageSettings_SetBackgroundColor=s.pm)(e,t),i._MontageSettings_SetBorderColor=(e,t)=>(i._MontageSettings_SetBorderColor=s.qm)(e,t),i._MontageSettings_SetBorderWidth=(e,t)=>(i._MontageSettings_SetBorderWidth=s.rm)(e,t),i._MontageSettings_SetFillColor=(e,t)=>(i._MontageSettings_SetFillColor=s.sm)(e,t),i._MontageSettings_SetFont=(e,t)=>(i._MontageSettings_SetFont=s.tm)(e,t),i._MontageSettings_SetFontPointsize=(e,t)=>(i._MontageSettings_SetFontPointsize=s.um)(e,t),i._MontageSettings_SetFrameGeometry=(e,t)=>(i._MontageSettings_SetFrameGeometry=s.vm)(e,t),i._MontageSettings_SetGeometry=(e,t)=>(i._MontageSettings_SetGeometry=s.wm)(e,t),i._MontageSettings_SetGravity=(e,t)=>(i._MontageSettings_SetGravity=s.xm)(e,t),i._MontageSettings_SetShadow=(e,t)=>(i._MontageSettings_SetShadow=s.ym)(e,t),i._MontageSettings_SetStrokeColor=(e,t)=>(i._MontageSettings_SetStrokeColor=s.zm)(e,t),i._MontageSettings_SetTextureFileName=(e,t)=>(i._MontageSettings_SetTextureFileName=s.Am)(e,t),i._MontageSettings_SetTileGeometry=(e,t)=>(i._MontageSettings_SetTileGeometry=s.Bm)(e,t),i._MontageSettings_SetTitle=(e,t)=>(i._MontageSettings_SetTitle=s.Cm)(e,t),i._QuantizeSettings_SetColors=(e,t)=>(i._QuantizeSettings_SetColors=s.Dm)(e,t),i._QuantizeSettings_SetColorSpace=(e,t)=>(i._QuantizeSettings_SetColorSpace=s.Em)(e,t),i._QuantizeSettings_SetDitherMethod=(e,t)=>(i._QuantizeSettings_SetDitherMethod=s.Fm)(e,t),i._QuantizeSettings_SetMeasureErrors=(e,t)=>(i._QuantizeSettings_SetMeasureErrors=s.Gm)(e,t),i._QuantizeSettings_SetTreeDepth=(e,t)=>(i._QuantizeSettings_SetTreeDepth=s.Hm)(e,t),i._ChannelMoments_Centroid_Get=e=>(i._ChannelMoments_Centroid_Get=s.Im)(e),i._ChannelMoments_EllipseAngle_Get=e=>(i._ChannelMoments_EllipseAngle_Get=s.Jm)(e),i._ChannelMoments_EllipseAxis_Get=e=>(i._ChannelMoments_EllipseAxis_Get=s.Km)(e),i._ChannelMoments_EllipseEccentricity_Get=e=>(i._ChannelMoments_EllipseEccentricity_Get=s.Lm)(e),i._ChannelMoments_EllipseIntensity_Get=e=>(i._ChannelMoments_EllipseIntensity_Get=s.Mm)(e),i._ChannelMoments_GetHuInvariants=(e,t)=>(i._ChannelMoments_GetHuInvariants=s.Nm)(e,t),i._ChannelPerceptualHash_GetHuPhash=(e,t,r)=>(i._ChannelPerceptualHash_GetHuPhash=s.Om)(e,t,r),i._ChannelStatistics_Depth_Get=e=>(i._ChannelStatistics_Depth_Get=s.Pm)(e),i._ChannelStatistics_Entropy_Get=e=>(i._ChannelStatistics_Entropy_Get=s.Qm)(e),i._ChannelStatistics_Kurtosis_Get=e=>(i._ChannelStatistics_Kurtosis_Get=s.Rm)(e),i._ChannelStatistics_Maximum_Get=e=>(i._ChannelStatistics_Maximum_Get=s.Sm)(e),i._ChannelStatistics_Mean_Get=e=>(i._ChannelStatistics_Mean_Get=s.Tm)(e),i._ChannelStatistics_Minimum_Get=e=>(i._ChannelStatistics_Minimum_Get=s.Um)(e),i._ChannelStatistics_Skewness_Get=e=>(i._ChannelStatistics_Skewness_Get=s.Vm)(e),i._ChannelStatistics_StandardDeviation_Get=e=>(i._ChannelStatistics_StandardDeviation_Get=s.Wm)(e),i._Moments_DisposeList=e=>(i._Moments_DisposeList=s.Xm)(e),i._Moments_GetInstance=(e,t)=>(i._Moments_GetInstance=s.Ym)(e,t),i._PerceptualHash_DisposeList=e=>(i._PerceptualHash_DisposeList=s.Zm)(e),i._PerceptualHash_GetInstance=(e,t,r)=>(i._PerceptualHash_GetInstance=s._m)(e,t,r),i._Statistics_DisposeList=e=>(i._Statistics_DisposeList=s.$m)(e),i._Statistics_GetInstance=(e,t)=>(i._Statistics_GetInstance=s.an)(e,t),i._ConnectedComponent_DisposeList=e=>(i._ConnectedComponent_DisposeList=s.bn)(e),i._ConnectedComponent_GetArea=e=>(i._ConnectedComponent_GetArea=s.cn)(e),i._ConnectedComponent_GetCentroid=e=>(i._ConnectedComponent_GetCentroid=s.dn)(e),i._ConnectedComponent_GetColor=e=>(i._ConnectedComponent_GetColor=s.en)(e),i._ConnectedComponent_GetHeight=e=>(i._ConnectedComponent_GetHeight=s.fn)(e),i._ConnectedComponent_GetId=e=>(i._ConnectedComponent_GetId=s.gn)(e),i._ConnectedComponent_GetWidth=e=>(i._ConnectedComponent_GetWidth=s.hn)(e),i._ConnectedComponent_GetX=e=>(i._ConnectedComponent_GetX=s.jn)(e),i._ConnectedComponent_GetY=e=>(i._ConnectedComponent_GetY=s.kn)(e),i._ConnectedComponent_GetInstance=(e,t)=>(i._ConnectedComponent_GetInstance=s.ln)(e,t),i._MagickGeometry_Create=()=>(i._MagickGeometry_Create=s.mn)(),i._MagickGeometry_Dispose=e=>(i._MagickGeometry_Dispose=s.nn)(e),i._MagickGeometry_X_Get=e=>(i._MagickGeometry_X_Get=s.on)(e),i._MagickGeometry_Y_Get=e=>(i._MagickGeometry_Y_Get=s.pn)(e),i._MagickGeometry_Width_Get=e=>(i._MagickGeometry_Width_Get=s.qn)(e),i._MagickGeometry_Height_Get=e=>(i._MagickGeometry_Height_Get=s.rn)(e),i._MagickGeometry_Initialize=(e,t)=>(i._MagickGeometry_Initialize=s.sn)(e,t),i._MagickRectangle_Dispose=e=>(i._MagickRectangle_Dispose=s.tn)(e),i._MagickRectangle_X_Get=e=>(i._MagickRectangle_X_Get=s.un)(e),i._MagickRectangle_X_Set=(e,t)=>(i._MagickRectangle_X_Set=s.vn)(e,t),i._MagickRectangle_Y_Get=e=>(i._MagickRectangle_Y_Get=s.wn)(e),i._MagickRectangle_Y_Set=(e,t)=>(i._MagickRectangle_Y_Set=s.xn)(e,t),i._MagickRectangle_Width_Get=e=>(i._MagickRectangle_Width_Get=s.yn)(e),i._MagickRectangle_Width_Set=(e,t)=>(i._MagickRectangle_Width_Set=s.zn)(e,t),i._MagickRectangle_Height_Get=e=>(i._MagickRectangle_Height_Get=s.An)(e),i._MagickRectangle_Height_Set=(e,t)=>(i._MagickRectangle_Height_Set=s.Bn)(e,t),i._MagickRectangle_FromPageSize=e=>(i._MagickRectangle_FromPageSize=s.Cn)(e),i._OffsetInfo_Create=()=>(i._OffsetInfo_Create=s.Dn)(),i._OffsetInfo_Dispose=e=>(i._OffsetInfo_Dispose=s.En)(e),i._OffsetInfo_SetX=(e,t)=>(i._OffsetInfo_SetX=s.Fn)(e,t),i._OffsetInfo_SetY=(e,t)=>(i._OffsetInfo_SetY=s.Gn)(e,t),i._PointInfo_X_Get=e=>(i._PointInfo_X_Get=s.Hn)(e),i._PointInfo_Y_Get=e=>(i._PointInfo_Y_Get=s.In)(e),i._PointInfoCollection_Create=e=>(i._PointInfoCollection_Create=s.Jn)(e),i._PointInfoCollection_Dispose=e=>(i._PointInfoCollection_Dispose=s.Kn)(e),i._PointInfoCollection_GetX=(e,t)=>(i._PointInfoCollection_GetX=s.Ln)(e,t),i._PointInfoCollection_GetY=(e,t)=>(i._PointInfoCollection_GetY=s.Mn)(e,t),i._PointInfoCollection_Set=(e,t,r,n)=>(i._PointInfoCollection_Set=s.Nn)(e,t,r,n),i._PrimaryInfo_Dispose=e=>(i._PrimaryInfo_Dispose=s.On)(e),i._PrimaryInfo_X_Get=e=>(i._PrimaryInfo_X_Get=s.Pn)(e),i._PrimaryInfo_X_Set=(e,t)=>(i._PrimaryInfo_X_Set=s.Qn)(e,t),i._PrimaryInfo_Y_Get=e=>(i._PrimaryInfo_Y_Get=s.Rn)(e),i._PrimaryInfo_Y_Set=(e,t)=>(i._PrimaryInfo_Y_Set=s.Sn)(e,t),i._PrimaryInfo_Z_Get=e=>(i._PrimaryInfo_Z_Get=s.Tn)(e),i._PrimaryInfo_Z_Set=(e,t)=>(i._PrimaryInfo_Z_Set=s.Un)(e,t),i._StringInfo_Length_Get=e=>(i._StringInfo_Length_Get=s.Vn)(e),i._StringInfo_Datum_Get=e=>(i._StringInfo_Datum_Get=s.Wn)(e),i._TypeMetric_Dispose=e=>(i._TypeMetric_Dispose=s.Xn)(e),i._TypeMetric_Ascent_Get=e=>(i._TypeMetric_Ascent_Get=s.Yn)(e),i._TypeMetric_Descent_Get=e=>(i._TypeMetric_Descent_Get=s.Zn)(e),i._TypeMetric_MaxHorizontalAdvance_Get=e=>(i._TypeMetric_MaxHorizontalAdvance_Get=s._n)(e),i._TypeMetric_TextHeight_Get=e=>(i._TypeMetric_TextHeight_Get=s.$n)(e),i._TypeMetric_TextWidth_Get=e=>(i._TypeMetric_TextWidth_Get=s.ao)(e),i._TypeMetric_UnderlinePosition_Get=e=>(i._TypeMetric_UnderlinePosition_Get=s.bo)(e),i._TypeMetric_UnderlineThickness_Get=e=>(i._TypeMetric_UnderlineThickness_Get=s.co)(e);var Kr=(e,t)=>(Kr=s.eo)(e,t),H=(e,t)=>(H=s.fo)(e,t),Jr=e=>(Jr=s.go)(e),Zr=e=>(Zr=s.ho)(e),ea=()=>(ea=s.io)(),ta=(e,t,r)=>(ta=s.jo)(e,t,r);function Ns(e,t,r,n){var _=U();try{B(e)(t,r,n)}catch(c){if($(_),c!==c+0)throw c;H(1,0)}}function Hs(e,t,r,n){var _=U();try{return B(e)(t,r,n)}catch(c){if($(_),c!==c+0)throw c;H(1,0)}}function $s(e,t,r){var n=U();try{return B(e)(t,r)}catch(_){if($(n),_!==_+0)throw _;H(1,0)}}function Us(e,t){var r=U();try{return B(e)(t)}catch(n){if($(r),n!==n+0)throw n;H(1,0)}}function js(e,t){var r=U();try{B(e)(t)}catch(n){if($(r),n!==n+0)throw n;H(1,0)}}function Ys(e,t,r){var n=U();try{B(e)(t,r)}catch(_){if($(n),_!==_+0)throw _;H(1,0)}}function Vs(e,t,r,n,_){var c=U();try{B(e)(t,r,n,_)}catch(h){if($(c),h!==h+0)throw h;H(1,0)}}function Xs(e,t,r,n,_){var c=U();try{return B(e)(t,r,n,_)}catch(h){if($(c),h!==h+0)throw h;H(1,0)}}function qs(e,t,r,n){var _=U();try{return B(e)(t,r,n)}catch(c){if($(_),c!==c+0)throw c;return H(1,0),0n}}function Os(e,t){var r=U();try{return B(e)(t)}catch(n){if($(r),n!==n+0)throw n;return H(1,0),0n}}function Qs(e,t,r,n,_,c,h,d,p){var v=U();try{return B(e)(t,r,n,_,c,h,d,p)}catch(w){if($(v),w!==w+0)throw w;H(1,0)}}function Ks(e,t,r,n,_,c,h){var d=U();try{return B(e)(t,r,n,_,c,h)}catch(p){if($(d),p!==p+0)throw p;H(1,0)}}function Js(e,t,r,n,_){var c=U();try{return B(e)(t,r,n,_)}catch(h){if($(c),h!==h+0)throw h;H(1,0)}}function Zs(e){var t=U();try{return B(e)()}catch(r){if($(t),r!==r+0)throw r;H(1,0)}}function e_(e,t,r){var n=U();try{return B(e)(t,r)}catch(_){if($(n),_!==_+0)throw _;H(1,0)}}function t_(e,t,r){var n=U();try{B(e)(t,r)}catch(_){if($(n),_!==_+0)throw _;H(1,0)}}function i_(e,t,r,n,_,c){var h=U();try{return B(e)(t,r,n,_,c)}catch(d){if($(h),d!==d+0)throw d;H(1,0)}}function r_(e,t,r){var n=U();try{return B(e)(t,r)}catch(_){if($(n),_!==_+0)throw _;H(1,0)}}function a_(e){var t=U();try{B(e)()}catch(r){if($(t),r!==r+0)throw r;H(1,0)}}function n_(e,t,r,n,_,c){var h=U();try{B(e)(t,r,n,_,c)}catch(d){if($(h),d!==d+0)throw d;H(1,0)}}function o_(e,t,r,n,_,c,h,d){var p=U();try{return B(e)(t,r,n,_,c,h,d)}catch(v){if($(p),v!==v+0)throw v;H(1,0)}}function s_(e,t,r,n,_,c,h,d,p,v){var w=U();try{return B(e)(t,r,n,_,c,h,d,p,v)}catch(C){if($(w),C!==C+0)throw C;H(1,0)}}function __(e,t,r,n){var _=U();try{B(e)(t,r,n)}catch(c){if($(_),c!==c+0)throw c;H(1,0)}}function c_(e,t,r,n,_,c,h,d,p,v,w){var C=U();try{B(e)(t,r,n,_,c,h,d,p,v,w)}catch(D){if($(C),D!==D+0)throw D;H(1,0)}}function l_(e,t,r,n,_,c,h,d,p,v,w){var C=U();try{return B(e)(t,r,n,_,c,h,d,p,v,w)}catch(D){if($(C),D!==D+0)throw D;H(1,0)}}function g_(e,t,r,n,_,c,h,d,p,v){var w=U();try{B(e)(t,r,n,_,c,h,d,p,v)}catch(C){if($(w),C!==C+0)throw C;H(1,0)}}function u_(e,t,r,n,_,c,h){var d=U();try{B(e)(t,r,n,_,c,h)}catch(p){if($(d),p!==p+0)throw p;H(1,0)}}function h_(e,t,r,n,_,c,h,d){var p=U();try{B(e)(t,r,n,_,c,h,d)}catch(v){if($(p),v!==v+0)throw v;H(1,0)}}function d_(e,t,r,n,_,c,h,d,p,v,w,C){var D=U();try{return B(e)(t,r,n,_,c,h,d,p,v,w,C)}catch(P){if($(D),P!==P+0)throw P;H(1,0)}}function m_(e,t,r,n,_,c){var h=U();try{return B(e)(t,r,n,_,c)}catch(d){if($(h),d!==d+0)throw d;H(1,0)}}function f_(e,t,r,n,_,c,h,d,p){var v=U();try{B(e)(t,r,n,_,c,h,d,p)}catch(w){if($(v),w!==w+0)throw w;H(1,0)}}function p_(e,t,r,n,_,c,h,d,p,v,w,C){var D=U();try{B(e)(t,r,n,_,c,h,d,p,v,w,C)}catch(P){if($(D),P!==P+0)throw P;H(1,0)}}function M_(e){e=Object.assign({},e);var t=_=>c=>_(c)>>>0,r=_=>(c,h)=>_(c,h)>>>0,n=_=>()=>_()>>>0;return e.cb=t(e.cb),e.Sj=t(e.Sj),e.eo=r(e.eo),e._emscripten_stack_alloc=t(e._emscripten_stack_alloc),e.io=n(e.io),e}i.addFunction=Bs,i.setValue=nn,i.getValue=an,i.UTF8ToString=_i,i.stringToUTF8=Te,i.lengthBytesUTF8=it,i.FS=u;var $t;gt=function e(){$t||ia(),$t||(gt=e)};function ia(){if(je>0||($a(),je>0))return;function e(){$t||($t=!0,i.calledRun=!0,!ei&&(Ua(),g(i),i.onRuntimeInitialized?.(),ja()))}i.setStatus?(i.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>i.setStatus(""),1),e()},1)):e()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return ia(),o=f,o}})();class ha{constructor(a){if(a instanceof URL){if(a.protocol!=="http:"&&a.protocol!=="https:")throw new z("Only http/https protocol is supported");this.locateFile=()=>a.href}else a instanceof WebAssembly.Module?this.instantiateWasm=(o,i)=>{const g=new WebAssembly.Instance(a,o);i(g)}:this.wasmBinary=a}wasmBinary;instantiateWasm;locateFile}class l{loader;api;constructor(){this.loader=(a,o)=>new Promise((i,g)=>{if(this.api!==void 0){i();return}const m=new ha(a);ua(m).then(f=>{try{this.writeConfigurationFiles(f,o),qt(f,"MAGICK_CONFIGURE_PATH",M=>{qt(f,"/xml",y=>{f._Environment_SetEnv(M,y),this.api=f,i()})})}catch(M){g(M)}})})}async _initialize(a,o){await this.loader(a,o)}static get _api(){if(!Et.api)throw new z("`await initializeImageMagick` should be called to initialize the library");return Et.api}static set _api(a){Et.api=a}static read(a,o,i,g){return te._create(m=>{let f=g;if(typeof a!="string"&&!ze(a))typeof o=="number"&&typeof i=="number"&&m.read(a,o,i);else if(typeof o!="number"&&typeof i!="number"){f=i;let M;o instanceof Se?M=o:typeof o=="string"?(M=new Se,M.format=o):f=o,m.read(a,M)}return f(m)})}static readCollection(a,o,i){return ve.create()._use(m=>{let f=i,M;return o instanceof Se?M=o:typeof o=="string"?(M=new Se,M.format=o):f=o,m.read(a,M),f(m)})}static readFromCanvas(a,o,i){return te._create(g=>(g.readFromCanvas(a,i),o(g)))}writeConfigurationFiles(a,o){a.FS.analyzePath("/xml").exists||a.FS.mkdir("/xml");for(const g of o.all()){const m=a.FS.open(`/xml/${g.fileName}`,"w"),f=new TextEncoder().encode(g.data);a.FS.write(m,f,0,f.length),a.FS.close(m)}}}const Et=new l;async function da(S,a){await Et._initialize(S,a??pt.default)}class $i{constructor(a,o,i){this.origin=a,this.progress=new Z((o+1)/(i*100))}origin;progress;cancel=!1}class oe{static _logDelegate=0;static _onLog;static _progressDelegate=0;static _images={};static setLogDelegate(a){oe._logDelegate===0&&a!==void 0&&(oe._logDelegate=l._api.addFunction(oe.logDelegate,"vii")),l._api._Magick_SetLogDelegate(a===void 0?0:oe._logDelegate),oe._onLog=a}static setProgressDelegate(a){oe._progressDelegate===0&&(this._progressDelegate=l._api.addFunction(oe.progressDelegate,"iijji")),this._images[a._instance]=a,l._api._MagickImage_SetClientData(a._instance,a._instance),l._api._MagickImage_SetProgressDelegate(a._instance,oe._progressDelegate)}static removeProgressDelegate(a){l._api._MagickImage_SetClientData(a._instance,0),l._api._MagickImage_SetProgressDelegate(a._instance,0),delete oe._images[a._instance]}static logDelegate(a,o){if(oe._onLog===void 0)return;const i=ge(o,"");oe._onLog(new Di(a,i))}static progressDelegate(a,o,i,g){const m=oe._images[g];if(m===void 0||m.onProgress===void 0)return 1;const f=Number(o),M=Number(i),y=ge(a),F=new $i(y,f,M);return m.onProgress(F),F.cancel?0:1}}class Pe{static _allFormats;constructor(a,o,i,g,m){this.format=a,this.description=o,this.supportsMultipleFrames=i,this.supportsReading=g,this.supportsWriting=m}description;format;supportsMultipleFrames;supportsReading;supportsWriting;static get all(){return Pe._allFormats===void 0&&(Pe._allFormats=Pe.loadFormats()),Pe._allFormats}static loadFormats(){return b.usePointer(a=>ye.use(o=>{const i=l._api._MagickFormatInfo_CreateList(o.ptr,a),g=o.value;try{const m=new Array(g),f=Object.values(Ce);for(let M=0;M<g;M++){const y=l._api._MagickFormatInfo_GetInfo(i,M,a),F=ge(l._api._MagickFormatInfo_Format_Get(y)),N=Pe.convertFormat(F,f),ee=ge(l._api._MagickFormatInfo_Description_Get(y),""),ie=l._api._MagickFormatInfo_SupportsMultipleFrames_Get(y)==1,ct=l._api._MagickFormatInfo_SupportsReading_Get(y)==1,Ue=l._api._MagickFormatInfo_SupportsWriting_Get(y)==1;m[M]=new Pe(N,ee,ie,ct,Ue)}return m}finally{l._api._MagickFormatInfo_DisposeList(i,g)}}))}static convertFormat(a,o){return a===null?Ce.Unknown:o.includes(a)?a:Ce.Unknown}}const Q={None:0,Accelerate:1,Annotate:2,Blob:4,Cache:8,Coder:16,Configure:32,Deprecate:64,Draw:128,Exception:256,Image:512,Locale:1024,Module:2048,Pixel:4096,Policy:8192,Resource:16384,Trace:32768,Transform:65536,User:131072,Wand:262144,Detailed:2147450879,get All(){return this.Detailed|this.Trace}};class we{static get delegates(){return ge(l._api._Magick_Delegates_Get(),"Unknown")}static get features(){return ge(l._api._Magick_Features_Get()," ").slice(0,-1)}static get imageMagickVersion(){return ge(l._api._Magick_ImageMagickVersion_Get(),"Unknown")}static get supportedFormats(){return Pe.all}static onLog;static addFont(a,o){const i=l._api.FS;i.analyzePath("/fonts").exists||i.mkdir("/fonts");const m=i.open(`/fonts/${a}`,"w");i.write(m,o,0,o.length),i.close(m)}static resetRandomSeed=()=>l._api._Magick_ResetRandomSeed();static setRandomSeed=a=>l._api._Magick_SetRandomSeed(a);static setLogEvents(a){const o=a==Q.None?void 0:we.logDelegate;oe.setLogDelegate(o);const i=we.getEventTypeString(a);A(i,g=>l._api._Magick_SetLogEvents(g))}static _getFontFileName(a){const o=`/fonts/${a}`;if(!l._api.FS.analyzePath(o).exists)throw`Unable to find a font with the name '${a}', register it with the addFont method of the Magick class.`;return o}static getEventTypeString(a){if(a==Q.All)return"All,Trace";if(a==Q.Detailed)return"All";switch(a){case Q.Accelerate:return"Accelerate";case Q.Annotate:return"Annotate";case Q.Blob:return"Blob";case Q.Cache:return"Cache";case Q.Coder:return"Coder";case Q.Configure:return"Configure";case Q.Deprecate:return"Deprecate";case Q.Draw:return"Draw";case Q.Exception:return"Exception";case Q.Image:return"Image";case Q.Locale:return"Locale";case Q.Module:return"Module";case Q.Pixel:return"Pixel";case Q.Policy:return"Policy";case Q.Resource:return"Resource";case Q.Trace:return"Trace";case Q.Transform:return"Transform";case Q.User:return"User";case Q.Wand:return"Wand";case Q.None:default:return"None"}}static logDelegate(a){we.onLog!==void 0&&we.onLog(a)}}class Ui{_font;constructor(a){this._font=a}draw(a){const o=we._getFontFileName(this._font);a.font(o)}}class ji{_gravity;constructor(a){this._gravity=a}draw(a){a.gravity(this._gravity)}}class Yi{_startX;_startY;_endX;_endY;constructor(a,o,i,g){this._startX=a,this._startY=o,this._endX=i,this._endY=g}draw(a){a.line(this._startX,this._startY,this._endX,this._endY)}}class Vi{_x;_y;constructor(a,o){this._x=a,this._y=o}draw(a){a.point(this._x,this._y)}}class Xi{_upperLeftX;_upperLeftY;_lowerRightX;_lowerRightY;constructor(a,o,i,g){this._upperLeftX=a,this._upperLeftY=o,this._lowerRightX=i,this._lowerRightY=g}draw(a){a.rectangle(this._upperLeftX,this._upperLeftY,this._lowerRightX,this._lowerRightY)}}class qi{_upperLeftX;_upperLeftY;_lowerRightX;_lowerRightY;_cornerWidth;_cornerHeight;constructor(a,o,i,g,m,f){this._upperLeftX=a,this._upperLeftY=o,this._lowerRightX=i,this._lowerRightY=g,this._cornerWidth=m,this._cornerHeight=f}draw(a){a.roundRectangle(this._upperLeftX,this._upperLeftY,this._lowerRightX,this._lowerRightY,this._cornerWidth,this._cornerHeight)}}class Oi{_color;constructor(a){this._color=a}draw(a){a.strokeColor(this._color)}}class Qi{_width;constructor(a){this._width=a}draw(a){a.strokeWidth(this._width)}}class Ki{_alignment;constructor(a){this._alignment=a}draw(a){a.textAlignment(this._alignment)}}class Qe{_isEnabled;constructor(a){this._isEnabled=a}static get disabled(){return new Qe(!1)}static get enabled(){return new Qe(!0)}draw(a){a.textAntialias(this._isEnabled)}}class Ji{_decoration;constructor(a){this._decoration=a}draw(a){a.textDecoration(this._decoration)}}class Zi{_spacing;constructor(a){this._spacing=a}draw(a){a.textInterlineSpacing(this._spacing)}}class er{_spacing;constructor(a){this._spacing=a}draw(a){a.textInterwordspacing(this._spacing)}}class tr{_kerning;constructor(a){this._kerning=a}draw(a){a.textKerning(this._kerning)}}class ir{_color;constructor(a){this._color=a}draw(a){a.textUnderColor(this._color)}}class rr{_x;_y;_value;constructor(a,o,i){this._x=a,this._y=o,this._value=i}draw(a){a.text(this._x,this._y,this._value)}}class ar{static get None(){return new k(0,0,0,0)}static get Transparent(){return new k(0,0,0,0)}static get AliceBlue(){return new k(240,248,255,255)}static get AntiqueWhite(){return new k(250,235,215,255)}static get Aqua(){return new k(0,255,255,255)}static get Aquamarine(){return new k(127,255,212,255)}static get Azure(){return new k(240,255,255,255)}static get Beige(){return new k(245,245,220,255)}static get Bisque(){return new k(255,228,196,255)}static get Black(){return new k(0,0,0,255)}static get BlanchedAlmond(){return new k(255,235,205,255)}static get Blue(){return new k(0,0,255,255)}static get BlueViolet(){return new k(138,43,226,255)}static get Brown(){return new k(165,42,42,255)}static get BurlyWood(){return new k(222,184,135,255)}static get CadetBlue(){return new k(95,158,160,255)}static get Chartreuse(){return new k(127,255,0,255)}static get Chocolate(){return new k(210,105,30,255)}static get Coral(){return new k(255,127,80,255)}static get CornflowerBlue(){return new k(100,149,237,255)}static get Cornsilk(){return new k(255,248,220,255)}static get Crimson(){return new k(220,20,60,255)}static get Cyan(){return new k(0,255,255,255)}static get DarkBlue(){return new k(0,0,139,255)}static get DarkCyan(){return new k(0,139,139,255)}static get DarkGoldenrod(){return new k(184,134,11,255)}static get DarkGray(){return new k(169,169,169,255)}static get DarkGreen(){return new k(0,100,0,255)}static get DarkKhaki(){return new k(189,183,107,255)}static get DarkMagenta(){return new k(139,0,139,255)}static get DarkOliveGreen(){return new k(85,107,47,255)}static get DarkOrange(){return new k(255,140,0,255)}static get DarkOrchid(){return new k(153,50,204,255)}static get DarkRed(){return new k(139,0,0,255)}static get DarkSalmon(){return new k(233,150,122,255)}static get DarkSeaGreen(){return new k(143,188,143,255)}static get DarkSlateBlue(){return new k(72,61,139,255)}static get DarkSlateGray(){return new k(47,79,79,255)}static get DarkTurquoise(){return new k(0,206,209,255)}static get DarkViolet(){return new k(148,0,211,255)}static get DeepPink(){return new k(255,20,147,255)}static get DeepSkyBlue(){return new k(0,191,255,255)}static get DimGray(){return new k(105,105,105,255)}static get DodgerBlue(){return new k(30,144,255,255)}static get Firebrick(){return new k(178,34,34,255)}static get FloralWhite(){return new k(255,250,240,255)}static get ForestGreen(){return new k(34,139,34,255)}static get Fuchsia(){return new k(255,0,255,255)}static get Gainsboro(){return new k(220,220,220,255)}static get GhostWhite(){return new k(248,248,255,255)}static get Gold(){return new k(255,215,0,255)}static get Goldenrod(){return new k(218,165,32,255)}static get Gray(){return new k(128,128,128,255)}static get Green(){return new k(0,128,0,255)}static get GreenYellow(){return new k(173,255,47,255)}static get Honeydew(){return new k(240,255,240,255)}static get HotPink(){return new k(255,105,180,255)}static get IndianRed(){return new k(205,92,92,255)}static get Indigo(){return new k(75,0,130,255)}static get Ivory(){return new k(255,255,240,255)}static get Khaki(){return new k(240,230,140,255)}static get Lavender(){return new k(230,230,250,255)}static get LavenderBlush(){return new k(255,240,245,255)}static get LawnGreen(){return new k(124,252,0,255)}static get LemonChiffon(){return new k(255,250,205,255)}static get LightBlue(){return new k(173,216,230,255)}static get LightCoral(){return new k(240,128,128,255)}static get LightCyan(){return new k(224,255,255,255)}static get LightGoldenrodYellow(){return new k(250,250,210,255)}static get LightGreen(){return new k(144,238,144,255)}static get LightGray(){return new k(211,211,211,255)}static get LightPink(){return new k(255,182,193,255)}static get LightSalmon(){return new k(255,160,122,255)}static get LightSeaGreen(){return new k(32,178,170,255)}static get LightSkyBlue(){return new k(135,206,250,255)}static get LightSlateGray(){return new k(119,136,153,255)}static get LightSteelBlue(){return new k(176,196,222,255)}static get LightYellow(){return new k(255,255,224,255)}static get Lime(){return new k(0,255,0,255)}static get LimeGreen(){return new k(50,205,50,255)}static get Linen(){return new k(250,240,230,255)}static get Magenta(){return new k(255,0,255,255)}static get Maroon(){return new k(128,0,0,255)}static get MediumAquamarine(){return new k(102,205,170,255)}static get MediumBlue(){return new k(0,0,205,255)}static get MediumOrchid(){return new k(186,85,211,255)}static get MediumPurple(){return new k(147,112,219,255)}static get MediumSeaGreen(){return new k(60,179,113,255)}static get MediumSlateBlue(){return new k(123,104,238,255)}static get MediumSpringGreen(){return new k(0,250,154,255)}static get MediumTurquoise(){return new k(72,209,204,255)}static get MediumVioletRed(){return new k(199,21,133,255)}static get MidnightBlue(){return new k(25,25,112,255)}static get MintCream(){return new k(245,255,250,255)}static get MistyRose(){return new k(255,228,225,255)}static get Moccasin(){return new k(255,228,181,255)}static get NavajoWhite(){return new k(255,222,173,255)}static get Navy(){return new k(0,0,128,255)}static get OldLace(){return new k(253,245,230,255)}static get Olive(){return new k(128,128,0,255)}static get OliveDrab(){return new k(107,142,35,255)}static get Orange(){return new k(255,165,0,255)}static get OrangeRed(){return new k(255,69,0,255)}static get Orchid(){return new k(218,112,214,255)}static get PaleGoldenrod(){return new k(238,232,170,255)}static get PaleGreen(){return new k(152,251,152,255)}static get PaleTurquoise(){return new k(175,238,238,255)}static get PaleVioletRed(){return new k(219,112,147,255)}static get PapayaWhip(){return new k(255,239,213,255)}static get PeachPuff(){return new k(255,218,185,255)}static get Peru(){return new k(205,133,63,255)}static get Pink(){return new k(255,192,203,255)}static get Plum(){return new k(221,160,221,255)}static get PowderBlue(){return new k(176,224,230,255)}static get Purple(){return new k(128,0,128,255)}static get RebeccaPurple(){return new k(102,51,153,255)}static get Red(){return new k(255,0,0,255)}static get RosyBrown(){return new k(188,143,143,255)}static get RoyalBlue(){return new k(65,105,225,255)}static get SaddleBrown(){return new k(139,69,19,255)}static get Salmon(){return new k(250,128,114,255)}static get SandyBrown(){return new k(244,164,96,255)}static get SeaGreen(){return new k(46,139,87,255)}static get SeaShell(){return new k(255,245,238,255)}static get Sienna(){return new k(160,82,45,255)}static get Silver(){return new k(192,192,192,255)}static get SkyBlue(){return new k(135,206,235,255)}static get SlateBlue(){return new k(106,90,205,255)}static get SlateGray(){return new k(112,128,144,255)}static get Snow(){return new k(255,250,250,255)}static get SpringGreen(){return new k(0,255,127,255)}static get SteelBlue(){return new k(70,130,180,255)}static get Tan(){return new k(210,180,140,255)}static get Teal(){return new k(0,128,128,255)}static get Thistle(){return new k(216,191,216,255)}static get Tomato(){return new k(255,99,71,255)}static get Turquoise(){return new k(64,224,208,255)}static get Violet(){return new k(238,130,238,255)}static get Wheat(){return new k(245,222,179,255)}static get White(){return new k(255,255,255,255)}static get WhiteSmoke(){return new k(245,245,245,255)}static get Yellow(){return new k(255,255,0,255)}static get YellowGreen(){return new k(154,205,50,255)}}class ma{_drawables=[];disableStrokeAntialias(){return this._drawables.push(Qe.disabled),this}enableStrokeAntialias(){return this._drawables.push(Qe.enabled),this}fillColor(a){return this._drawables.push(new Ii(a)),this}fillOpacity(a){return this._drawables.push(new yi(a)),this}font(a){return this._drawables.push(new Ui(a)),this}fontPointSize(a){return this._drawables.push(new Ci(a)),this}fontTypeMetrics(a,o=!1){return te._create(i=>(i.read(ar.Transparent,1,1),st._use(i,g=>(g.draw(this._drawables),g.fontTypeMetrics(a,o)))))}gravity(a){return this._drawables.push(new ji(a)),this}line(a,o,i,g){return this._drawables.push(new Yi(a,o,i,g)),this}point(a,o){return this._drawables.push(new Vi(a,o)),this}rectangle(a,o,i,g){return this._drawables.push(new Xi(a,o,i,g)),this}roundRectangle(a,o,i,g,m,f){return this._drawables.push(new qi(a,o,i,g,m,f)),this}strokeColor(a){return this._drawables.push(new Oi(a)),this}strokeWidth(a){return this._drawables.push(new Qi(a)),this}text(a,o,i){return this._drawables.push(new rr(a,o,i)),this}textAlignment(a){return this._drawables.push(new Ki(a)),this}textDecoration(a){return this._drawables.push(new Ji(a)),this}textInterlineSpacing(a){return this._drawables.push(new Zi(a)),this}textInterwordSpacing(a){return this._drawables.push(new er(a)),this}textKerning(a){return this._drawables.push(new tr(a)),this}textUnderColor(a){return this._drawables.push(new ir(a)),this}draw(a){return a.draw(this._drawables),this}}const fa={Undefined:0,Kapur:1,OTSU:2,Triangle:3},pa={Undefined:0,Direct:1,Pseudo:2},Ma={Undefined:0,Bilevel:1,Grayscale:2,GrayscaleAlpha:3,Palette:4,PaletteAlpha:5,TrueColor:6,TrueColorAlpha:7,ColorSeparation:8,ColorSeparationAlpha:9,Optimize:10,PaletteBilevelAlpha:11},ka={Undefined:0,Add:1,Conjugate:2,Divide:3,MagnitudePhase:4,Multiply:5,RealImaginary:6,Subtract:7},nr={Undefined:0,B44A:1,B44:2,BZip:3,DXT1:4,DXT3:5,DXT5:6,Fax:7,Group4:8,JBIG1:9,JBIG2:10,JPEG2000:11,JPEG:12,LosslessJPEG:13,LZMA:14,LZW:15,NoCompression:16,Piz:17,Pxr24:18,RLE:19,Zip:20,ZipS:21,Zstd:22,WebP:23,DWAA:24,DWAB:25,BC7:26,BC5:27},Sa={Undefined:0,Affine:1,AffineProjection:2,ScaleRotateTranslate:3,Perspective:4,PerspectiveProjection:5,BilinearForward:6,BilinearReverse:7,Polynomial:8,Arc:9,Polar:10,DePolar:11,Cylinder2Plane:12,Plane2Cylinder:13,Barrel:14,BarrelInverse:15,Shepards:16,Resize:17,Sentinel:18,RigidAffine:19},va={Undefined:0,LSB:1,MSB:2},wa={Undefined:0,Absolute:1,Fuzz:2,MeanAbsolute:3,MeanErrorPerPixel:4,MeanSquared:5,NormalizedCrossCorrelation:6,PeakAbsolute:7,PeakSignalToNoiseRatio:8,PerceptualHash:9,RootMeanSquared:10,StructuralSimilarity:11,StructuralDissimilarity:12},Ia={Undefined:0,Abs:1,Add:2,AddModulus:3,And:4,Cosine:5,Divide:6,Exponential:7,GaussianNoise:8,ImpulseNoise:9,LaplacianNoise:10,LeftShift:11,Log:12,Max:13,Mean:14,Median:15,Min:16,MultiplicativeNoise:17,Multiply:18,Or:19,PoissonNoise:20,Pow:21,RightShift:22,RootMeanSquare:23,Set:24,Sine:25,Subtract:26,Sum:27,ThresholdBlack:28,Threshold:29,ThresholdWhite:30,UniformNoise:31,Xor:32,InverseLog:33},ya={Undefined:0,Point:1,Box:2,Triangle:3,Hermite:4,Hann:5,Hamming:6,Blackman:7,Gaussian:8,Quadratic:9,Cubic:10,Catrom:11,Mitchell:12,Jinc:13,Sinc:14,SincFast:15,Kaiser:16,Welch:17,Parzen:18,Bohman:19,Bartlett:20,Lagrange:21,Lanczos:22,LanczosSharp:23,Lanczos2:24,Lanczos2Sharp:25,Robidoux:26,RobidouxSharp:27,Cosine:28,Spline:29,LanczosRadius:30,CubicSpline:31},Ca={Undefined:0,None:1,Background:2,Previous:3},or={Undefined:0,NoInterlace:1,Line:2,Plane:3,Partition:4,Gif:5,Jpeg:6,Png:7},Da={Undefined:"Undefined",Unity:"Unity",Gaussian:"Gaussian",DoG:"DoG",LoG:"LoG",Blur:"Blur",Comet:"Comet",Binomial:"Binomial",Laplacian:"Laplacian",Sobel:"Sobel",FreiChen:"FreiChen",Roberts:"Roberts",Prewitt:"Prewitt",Compass:"Compass",Kirsch:"Kirsch",Diamond:"Diamond",Square:"Square",Rectangle:"Rectangle",Octagon:"Octagon",Disk:"Disk",Plus:"Plus",Cross:"Cross",Ring:"Ring",Peaks:"Peaks",Edges:"Edges",Corners:"Corners",Diagonals:"Diagonals",LineEnds:"LineEnds",LineJunctions:"LineJunctions",Ridges:"Ridges",ConvexHull:"ConvexHull",ThinSE:"ThinSE",Skeleton:"Skeleton",Chebyshev:"Chebyshev",Manhattan:"Manhattan",Octagonal:"Octagonal",Euclidean:"Euclidean",UserDefined:"UserDefined"},Pa={Undefined:0,Convolve:1,Correlate:2,Erode:3,Dilate:4,ErodeIntensity:5,DilateIntensity:6,IterativeDistance:7,Open:8,Close:9,OpenIntensity:10,CloseIntensity:11,Smooth:12,EdgeIn:13,EdgeOut:14,Edge:15,TopHat:16,BottomHat:17,HitAndMiss:18,Thinning:19,Thicken:20,Distance:21,Voronoi:22},Ea={Undefined:0,Uniform:1,Gaussian:2,MultiplicativeGaussian:3,Impulse:4,Laplacian:5,Poisson:6,Random:7},sr={Undefined:0,TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8},Ta={Undefined:0,Point:1,Replace:2,Floodfill:3,FillToBorder:4,Reset:5},ba={Undefined:0,Average:1,Average9:2,Average16:3,Background:4,Bilinear:5,Blend:6,Catrom:7,Integer:8,Mesh:9,Nearest:10,Spline:11},Ga={Undefined:0,Saturation:1,Perceptual:2,Absolute:3,Relative:4},Aa={Undefined:0,Left:1,Center:2,Right:3},Ra={Undefined:0,None:1,Underline:2,Overline:3,LineThrough:4},Fa={Undefined:0,Background:1,Dither:2,Edge:3,Mirror:4,Random:5,Tile:6,Transparent:7,Mask:8,Black:9,Gray:10,White:11,HorizontalTile:12,VerticalTile:13,HorizontalTileEdge:14,VerticalTileEdge:15,CheckerTile:16};var _r=(S=>(S[S.Disabled=-1]="Disabled",S[S.Linear=0]="Linear",S[S.Vng=1]="Vng",S[S.Ppg=2]="Ppg",S[S.Ahd=3]="Ahd",S[S.DCB=4]="DCB",S[S.Dht=11]="Dht",S[S.ModifiedAhd=12]="ModifiedAhd",S))(_r||{}),cr=(S=>(S[S.Raw=0]="Raw",S[S.SRGB=1]="SRGB",S[S.AdobeRGB=2]="AdobeRGB",S[S.WideGamutRGB=3]="WideGamutRGB",S[S.KodakProPhotoRGB=4]="KodakProPhotoRGB",S[S.XYZ=5]="XYZ",S[S.ACES=6]="ACES",S))(cr||{});class xa extends wi{constructor(){super(Ce.Dng)}disableAutoBrightness;interpolationQuality;outputColor;useAutoWhitebalance;useCameraWhitebalance;getDefines(){const a=[];return this.hasValue(this.interpolationQuality)&&a.push(this.createDefine("interpolation-quality",this.interpolationQuality)),this.hasValue(this.disableAutoBrightness)&&a.push(this.createDefine("no-auto-bright",this.disableAutoBrightness)),this.hasValue(this.outputColor)&&a.push(this.createDefine("output-color",this.outputColor)),this.hasValue(this.useCameraWhitebalance)&&a.push(this.createDefine("use-camera-wb",this.useCameraWhitebalance)),this.hasValue(this.useAutoWhitebalance)&&a.push(this.createDefine("use-auto-wb",this.useAutoWhitebalance)),a}}class Jt{_colorSpace=T.Undefined;_compression=nr.Undefined;_density=new Ne(0,0);_format=Ce.Unknown;_height=0;_interlace=or.Undefined;_orientation=sr.Undefined;_quality=0;_width=0;get colorSpace(){return this._colorSpace}get compression(){return this._compression}get density(){return this._density}get format(){return this._format}get height(){return this._height}get interlace(){return this._interlace}get orientation(){return this._orientation}get quality(){return this._quality}get width(){return this._width}constructor(){}read(a,o){te._create(i=>{i.ping(a,o),this._colorSpace=i.colorSpace,this._compression=i.compression,this._density=i.density,this._format=i.format,this._height=i.height,this._interlace=i.interlace,this._orientation=i.orientation,this._quality=i.quality,this._width=i.width})}static create(a,o){const i=new Jt;return i.read(a,o),i}}class La{constructor(a){this.complexOperator=a}complexOperator;signalToNoiseRatio;_setArtifacts(a){this.signalToNoiseRatio!==void 0&&a.setArtifact("complex:snr",this.signalToNoiseRatio)}}class Wa{constructor(a){this.method=a}method;bestFit=!1;scale;viewport;_setArtifacts(a){this.scale!==void 0&&a.setArtifact("distort:scale",this.scale.toString()),this.viewport!==void 0&&a.setArtifact("distort:viewport",this.viewport.toString())}}class Ba extends Le{constructor(a){const o=l._api._MontageSettings_Create(),i=l._api._MontageSettings_Dispose;if(super(o,i),a.backgroundColor!==void 0&&a.backgroundColor._use(g=>{l._api._MontageSettings_SetBackgroundColor(this._instance,g)}),a.borderColor!==void 0&&a.borderColor._use(g=>{l._api._MontageSettings_SetBorderColor(this._instance,g)}),a.borderWidth!==void 0&&l._api._MontageSettings_SetBorderWidth(this._instance,a.borderWidth),a.fillColor!==void 0&&a.fillColor._use(g=>{l._api._MontageSettings_SetFillColor(this._instance,g)}),a.font!==void 0){const g=we._getFontFileName(a.font);A(g,m=>{l._api._MontageSettings_SetFont(this._instance,m)})}a.fontPointsize!==void 0&&l._api._MontageSettings_SetFontPointsize(this._instance,a.fontPointsize),a.frameGeometry!==void 0&&A(a.frameGeometry.toString(),g=>{l._api._MontageSettings_SetFrameGeometry(this._instance,g)}),a.geometry!==void 0&&A(a.geometry.toString(),g=>{l._api._MontageSettings_SetGeometry(this._instance,g)}),a.gravity!==void 0&&l._api._MontageSettings_SetGravity(this._instance,a.gravity),a.shadow!==void 0&&l._api._MontageSettings_SetShadow(this._instance,a.shadow?1:0),a.strokeColor!==void 0&&a.strokeColor._use(g=>{l._api._MontageSettings_SetStrokeColor(this._instance,g)}),a.textureFileName!==void 0&&A(a.textureFileName,g=>{l._api._MontageSettings_SetTextureFileName(this._instance,g)}),a.tileGeometry!==void 0&&A(a.tileGeometry.toString(),g=>{l._api._MontageSettings_SetTileGeometry(this._instance,g)}),a.title!==void 0&&A(a.title,g=>{l._api._MontageSettings_SetTitle(this._instance,g)})}}class za{backgroundColor;borderColor;borderWidth;fillColor;font;fontPointsize;frameGeometry;geometry;gravity;label;shadow;strokeColor;textureFileName;tileGeometry;title;transparentColor;_use(a){const o=new Ba(this);return le._disposeAfterExecution(o,a)}}class Na{constructor(a,o,i){this.method=a,this.kernel=o,i!==void 0&&(this.kernel+=`:${i}`)}channels=X.Composite;convolveBias;convolveScale;iterations=1;kernel;method}class Ha{constructor(a,o=0){this.minimum=a,this.maximum=o}minimum;maximum;toString(){return this.maximum===0?this.minimum.toString():`${this.minimum}-${this.maximum}`}}I.AlphaAction=Pi,I.AutoThresholdMethod=fa,I.ChannelPerceptualHash=He,I.ChannelStatistics=Hi,I.Channels=X,I.ChromaticityInfo=Ei,I.ClassType=pa,I.ColorProfile=Ti,I.ColorSpace=T,I.ColorSpaceNames=jt,I.ColorTransformMode=Xt,I.ColorType=Ma,I.CompareResult=kt,I.CompareSettings=bi,I.ComplexOperator=ka,I.ComplexSettings=La,I.CompositeOperator=St,I.CompressionMethod=nr,I.ConfigurationFile=Ut,I.ConfigurationFiles=pt,I.ConnectedComponent=wt,I.ConnectedComponentsSettings=Gi,I.DefinesCreator=wi,I.Density=Ne,I.DensityUnit=xe,I.DistortMethod=Sa,I.DistortSettings=Wa,I.DitherMethod=Qt,I.DngInterpolation=_r,I.DngOutputColor=cr,I.DngReadDefines=xa,I.DrawableColor=aa,I.DrawableFillColor=Ii,I.DrawableFillOpacity=yi,I.DrawableFont=Ui,I.DrawableFontPointSize=Ci,I.DrawableGravity=ji,I.DrawableLine=Yi,I.DrawablePoint=Vi,I.DrawableRectangle=Xi,I.DrawableRoundRectangle=qi,I.DrawableStrokeColor=Oi,I.DrawableStrokeWidth=Qi,I.DrawableText=rr,I.DrawableTextAlignment=Ki,I.DrawableTextAntialias=Qe,I.DrawableTextDecoration=Ji,I.DrawableTextInterlineSpacing=Zi,I.DrawableTextInterwordSpacing=er,I.DrawableTextKerning=tr,I.DrawableTextUnderColor=ir,I.Drawables=ma,I.DrawingWand=st,I.Endian=va,I.ErrorMetric=wa,I.EvaluateOperator=Ia,I.FilterType=ya,I.GifDisposeMethod=Ca,I.Gravity=ue,I.ImageMagick=l,I.ImageProfile=Vt,I.Interlace=or,I.Kernel=Da,I.LogEvent=Di,I.LogEventTypes=Q,I.Magick=we,I.MagickColor=k,I.MagickColors=ar,I.MagickDefine=Mt,I.MagickError=z,I.MagickErrorInfo=_t,I.MagickErrorSeverity=vt,I.MagickFormat=Ce,I.MagickFormatInfo=Pe,I.MagickGeometry=_e,I.MagickImage=te,I.MagickImageCollection=ve,I.MagickImageInfo=Jt,I.MagickReadSettings=Se,I.MagickSettings=Oe,I.MontageSettings=za,I.MorphologyMethod=Pa,I.MorphologySettings=Na,I.NativeInstance=Le,I.NoiseType=Ea,I.Orientation=sr,I.PaintMethod=Ta,I.Percentage=Z,I.PerceptualHash=fe,I.PixelChannel=L,I.PixelCollection=$e,I.PixelIntensityMethod=Ni,I.PixelInterpolateMethod=ba,I.Point=ke,I.PrimaryInfo=We,I.ProgressEvent=$i,I.QuantizeSettings=Dt,I.Quantum=Fe,I.RenderingIntent=Ga,I.Statistics=Pt,I.TextAlignment=Aa,I.TextDecoration=Ra,I.Threshold=Ha,I.TypeMetric=yt,I.VirtualPixelMethod=Fa,I.WarningEvent=Kt,I._getEdges=Fi,I._isByteArray=ze,I.initializeImageMagick=da,Object.defineProperty(I,Symbol.toStringTag,{value:"Module"})});
